function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{xtjK:function(t,e,a){"use strict";a.r(e);var n,i=a("ofXK"),c=a("tyNb"),o=a("fXoL"),r=a("AytR"),s=a("tk/3"),b=a("qXBG"),l=r.a.apiUrl+"/users",d=r.a.apiUrl+"/leave",u=((n=function(){function t(e,a,n){_classCallCheck(this,t),this.http=e,this.router=a,this.authService=n}return _createClass(t,[{key:"getAssignedUsers",value:function(t,e,a,n){var i="?pagesize=".concat(t,"&page=").concat(e);return a&&(i+="&search="+a),this.http.get(l+"/getassignedusers/"+n+i)}},{key:"getUser",value:function(t){return this.http.get(l+"/"+t)}},{key:"getAssignedLeaves",value:function(t,e,a,n,i,c){var o="?pagesize=".concat(t,"&page=").concat(e,"&start_date=").concat(n,"&end_date=").concat(i);return a&&(o+="&filter="+a),c.userId&&null!=c.userId&&(o+="&userId="+c.userId),this.http.get(d+"/getassigneduserleaves/"+c.assigneeId+o)}},{key:"updateLeaveStatus",value:function(t,e){return t.status=e,this.http.put(d+"/cancelleave/"+t._id,t)}},{key:"approveLeave",value:function(t,e){return t.status=e,this.http.put(d+"/approveleave/"+t._id,t)}},{key:"getUserId",value:function(){return this.authService.getUserId()}}]),t}()).\u0275fac=function(t){return new(t||n)(o.fc(s.b),o.fc(c.b),o.fc(b.a))},n.\u0275prov=o.Nb({token:n,factory:n.\u0275fac,providedIn:"root"}),n),m=a("0IaG"),f=a("Wp6s"),p=a("3Pt+"),g=a("kmnG"),h=a("qFsG"),v=a("NFeN"),C=a("Qu3c"),_=a("+0xr"),X=a("bTqV"),W=a("Xa2L"),T=a("M9IT");function y(t,e){1&t&&(o.Xb(0,"th",28),o.Tc(1,"User Name "),o.Wb())}function w(t,e){if(1&t&&(o.Xb(0,"td",29),o.Tc(1),o.Wb()),2&t){var a=e.$implicit;o.Cb(1),o.Wc(" ",a.first_name," ",a.last_name,"")}}function I(t,e){1&t&&(o.Xb(0,"th",28),o.Tc(1," Email "),o.Wb())}function S(t,e){if(1&t&&(o.Xb(0,"td",30),o.Tc(1),o.Wb()),2&t){var a=e.$implicit;o.yc("matTooltip","Leave Balance: ",a.leave_balance,"/Status: ",a.status,""),o.Cb(1),o.Vc(" ",a.email," ")}}function P(t,e){1&t&&(o.Xb(0,"th",28),o.Tc(1," Location "),o.Wb())}function k(t,e){if(1&t&&(o.Xb(0,"td",29),o.Tc(1),o.Wb()),2&t){var a=e.$implicit;o.Cb(1),o.Vc(" ",a.jobDetailsId.job_location," ")}}function M(t,e){1&t&&(o.Xb(0,"th",28),o.Tc(1,"Status "),o.Wb())}function R(t,e){if(1&t&&(o.Xb(0,"td",29),o.Tc(1),o.Wb()),2&t){var a=e.$implicit;o.Cb(1),o.Vc(" ",a.status," ")}}function O(t,e){1&t&&(o.Xb(0,"th",28),o.Tc(1," Role "),o.Wb())}function D(t,e){1&t&&(o.Xb(0,"a"),o.Tc(1,"Admin"),o.Wb())}function L(t,e){1&t&&(o.Xb(0,"a"),o.Tc(1,"Manager"),o.Wb())}function x(t,e){1&t&&(o.Xb(0,"a"),o.Tc(1,"Employee"),o.Wb())}function U(t,e){if(1&t&&(o.Xb(0,"td",29),o.Rc(1,D,2,0,"a",31),o.Rc(2,L,2,0,"a",31),o.Rc(3,x,2,0,"a",31),o.Wb()),2&t){var a=e.$implicit;o.Cb(1),o.vc("ngIf",1==a.role),o.Cb(1),o.vc("ngIf",2==a.role),o.Cb(1),o.vc("ngIf",3==a.role)}}function A(t,e){1&t&&(o.Xb(0,"th",28),o.Tc(1," Mobile "),o.Wb())}function V(t,e){if(1&t&&(o.Xb(0,"td",29),o.Tc(1),o.Wb()),2&t){var a=e.$implicit;o.Cb(1),o.Vc(" ",a.mobile," ")}}function z(t,e){1&t&&(o.Xb(0,"th",32),o.Tc(1,"Action "),o.Wb())}var $=function(t){return["/authorized/manager/approve_leave",t]},j=function(t){return["/authorized/emp/qualifications",t]};function E(t,e){if(1&t&&(o.Xb(0,"td",33),o.Xb(1,"a",34),o.Xb(2,"mat-icon",35),o.Tc(3,"info"),o.Wb(),o.Wb(),o.Xb(4,"button",36),o.Xb(5,"mat-icon",35),o.Tc(6,"account_balance"),o.Wb(),o.Wb(),o.Wb()),2&t){var a=e.$implicit;o.vc("ngSwitch",a.status),o.Cb(1),o.vc("routerLink",o.Ac(3,$,a._id)),o.Cb(3),o.vc("routerLink",o.Ac(5,j,a._id))}}function F(t,e){1&t&&o.Sb(0,"tr",37)}function N(t,e){1&t&&o.Sb(0,"tr",38)}function K(t,e){1&t&&o.Sb(0,"mat-progress-spinner",39)}function q(t,e){1&t&&(o.Xb(0,"p",40),o.Tc(1,"No Users Found!"),o.Wb())}function B(t,e){if(1&t){var a=o.Yb();o.Xb(0,"mat-paginator",41),o.jc("page",(function(t){return o.Kc(a),o.nc().onChangedPage(t)})),o.Wb()}if(2&t){var n=o.nc();o.vc("length",n.userCount)("pageSize",n.usersPerPage)("pageSizeOptions",n.userSizeOptions)}}var H,Y=function(){return["/authorized/manager/approve_leave"]},G=((H=function(){function t(e,a,n,i,c){var o=this;_classCallCheck(this,t),this.managerService=e,this.authService=a,this.activatedRoute=n,this.dialog=i,this.router=c,this.users=[],this.isLoading=!1,this.currentPage=1,this.userCount=0,this.usersPerPage=10,this.userSizeOptions=[10,20,50],this.userIsAuthenticated=!1,this.userData=[],this.displayedColumns=["Name","Email","Location","Role","Mobile","Status","Action"],this.activatedRoute.paramMap.subscribe((function(t){o.userId=t.get("userId")}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.userId&&null!=this.userId||(this.userId=this.authService.getUserId()),this.userIsAuthenticated=this.authService.getIsAuth(),this.isLoading=!0,this.managerService.getAssignedUsers(this.usersPerPage,this.currentPage,this.usersearch,this.userId).subscribe((function(e){t.users=e.users,t.isLoading=!1}))}},{key:"onChangedPage",value:function(t){this.isLoading=!0,this.currentPage=t.pageIndex+1,this.usersPerPage=t.pageSize,this.ngOnInit()}},{key:"userChangeValue",value:function(t){this.currentPage=1,this.ngOnInit()}}]),t}()).\u0275fac=function(t){return new(t||H)(o.Rb(u),o.Rb(b.a),o.Rb(c.a),o.Rb(m.b),o.Rb(c.b))},H.\u0275cmp=o.Lb({type:H,selectors:[["app-assigned-users"]],decls:41,vars:9,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6"],["action","#","autocomplete","off"],[2,"width","50%"],["matInput","","name","name","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["nameInput","ngModel"],["matSuffix",""],["matTooltip","Approve Assigne Employee Leave",1,"btn","btn-success","float-right",3,"routerLink"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Email"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","Location"],["matColumnDef","Status"],["matColumnDef","Role"],["matColumnDef","Mobile"],["matColumnDef","Action"],["mat-header-cell","","style"," padding: 18px 55px; text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",3,"ngSwitch",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"matTooltip"],[4,"ngIf"],["mat-header-cell","",2,"padding","18px 55px","text-align","center"],["mat-cell","",2,"text-align","center",3,"ngSwitch"],["mat-button","","matTooltip","User Leave Details",3,"routerLink"],["md-list-icon",""],["mat-button","","matTooltip","Qualifications",3,"routerLink"],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){if(1&t){var a=o.Yb();o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"div",2),o.Sb(3,"div",3),o.Xb(4,"div",3),o.Xb(5,"mat-card"),o.Xb(6,"form",4),o.Xb(7,"mat-form-field",5),o.Xb(8,"input",6,7),o.jc("ngModelChange",(function(t){return e.usersearch=t}))("keyup",(function(){o.Kc(a);var t=o.Gc(9);return e.userChangeValue(t.value)})),o.Wb(),o.Xb(10,"mat-icon",8),o.Tc(11,"search"),o.Wb(),o.Wb(),o.Xb(12,"button",9),o.Tc(13,"Approve Leaves"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(14,"table",10),o.Vb(15,11),o.Rc(16,y,2,0,"th",12),o.Rc(17,w,2,2,"td",13),o.Ub(),o.Vb(18,14),o.Rc(19,I,2,0,"th",12),o.Rc(20,S,2,3,"td",15),o.Ub(),o.Vb(21,16),o.Rc(22,P,2,0,"th",12),o.Rc(23,k,2,1,"td",13),o.Ub(),o.Vb(24,17),o.Rc(25,M,2,0,"th",12),o.Rc(26,R,2,1,"td",13),o.Ub(),o.Vb(27,18),o.Rc(28,O,2,0,"th",12),o.Rc(29,U,4,3,"td",13),o.Ub(),o.Vb(30,19),o.Rc(31,A,2,0,"th",12),o.Rc(32,V,2,1,"td",13),o.Ub(),o.Vb(33,20),o.Rc(34,z,2,0,"th",21),o.Rc(35,E,7,7,"td",22),o.Ub(),o.Rc(36,F,1,0,"tr",23),o.Rc(37,N,1,0,"tr",24),o.Wb(),o.Rc(38,K,1,0,"mat-progress-spinner",25),o.Rc(39,q,2,0,"p",26),o.Rc(40,B,1,3,"mat-paginator",27),o.Wb()}2&t&&(o.Cb(8),o.vc("ngModel",e.usersearch),o.Cb(4),o.vc("routerLink",o.zc(8,Y)),o.Cb(2),o.vc("dataSource",e.users),o.Cb(22),o.vc("matHeaderRowDef",e.displayedColumns),o.Cb(1),o.vc("matRowDefColumns",e.displayedColumns),o.Cb(1),o.vc("ngIf",e.isLoading),o.Cb(1),o.vc("ngIf",e.users.length<=0&&!e.isLoading),o.Cb(1),o.vc("ngIf",e.users.length>0))},directives:[f.a,p.x,p.n,p.o,g.c,h.b,p.b,p.m,p.p,v.a,g.h,C.a,c.c,_.j,_.c,_.e,_.b,_.g,_.i,i.m,_.d,_.a,i.o,X.a,c.e,X.b,_.f,_.h,W.a,T.a],styles:[".mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}"]}),H);function J(t,e){if(1&t&&(o.Xb(0,"mat-form-field",5),o.Xb(1,"mat-label"),o.Tc(2,"Duration"),o.Wb(),o.Sb(3,"input",15),o.Xb(4,"mat-icon",7),o.Tc(5,"schedule"),o.Wb(),o.Wb()),2&t){var a=o.nc(2);o.Cb(3),o.wc("value",a.data.duration)}}function Q(t,e){if(1&t&&(o.Xb(0,"mat-form-field",5),o.Xb(1,"mat-label"),o.Tc(2,"Shift"),o.Wb(),o.Sb(3,"input",16),o.Xb(4,"mat-icon",7),o.Tc(5,"schedule"),o.Wb(),o.Wb()),2&t){var a=o.nc(2);o.Cb(3),o.wc("value",a.data.shift)}}function Z(t,e){if(1&t&&(o.Xb(0,"div",3),o.Xb(1,"div",17),o.Xb(2,"mat-form-field",5),o.Xb(3,"mat-label"),o.Tc(4,"Start Time"),o.Wb(),o.Sb(5,"input",18),o.Xb(6,"mat-icon",7),o.Tc(7,"access_time"),o.Wb(),o.Wb(),o.Wb(),o.Xb(8,"div",17),o.Xb(9,"mat-form-field",5),o.Xb(10,"mat-label"),o.Tc(11,"End Time"),o.Wb(),o.Sb(12,"input",19),o.Xb(13,"mat-icon",7),o.Tc(14,"access_time"),o.Wb(),o.Wb(),o.Wb(),o.Xb(15,"div",17),o.Xb(16,"mat-form-field",5),o.Xb(17,"mat-label"),o.Tc(18,"Time Taken"),o.Wb(),o.Sb(19,"input",20),o.Xb(20,"mat-icon",7),o.Tc(21,"timelapse"),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&t){var a=o.nc(2);o.Cb(5),o.wc("value",a.data.start_time),o.Cb(7),o.wc("value",a.data.end_time),o.Cb(7),o.wc("value",a.data.time_taken)}}function tt(t,e){if(1&t){var a=o.Yb();o.Xb(0,"div",2),o.Xb(1,"div",3),o.Xb(2,"div",4),o.Xb(3,"mat-form-field",5),o.Xb(4,"mat-label"),o.Tc(5,"Leave Type"),o.Wb(),o.Sb(6,"input",6),o.Xb(7,"mat-icon",7),o.Tc(8,"launch"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(9,"div",3),o.Xb(10,"div",4),o.Xb(11,"mat-form-field",5),o.Xb(12,"mat-label"),o.Tc(13,"Start Date"),o.Wb(),o.Sb(14,"input",8),o.oc(15,"date"),o.Xb(16,"mat-icon",7),o.Tc(17,"calendar_today"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(18,"div",3),o.Xb(19,"div",4),o.Xb(20,"mat-form-field",5),o.Xb(21,"mat-label"),o.Tc(22,"End Date"),o.Wb(),o.Sb(23,"input",9),o.oc(24,"date"),o.Xb(25,"mat-icon",7),o.Tc(26,"calendar_today"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(27,"div",3),o.Xb(28,"div",4),o.Rc(29,J,6,1,"mat-form-field",10),o.Wb(),o.Wb(),o.Xb(30,"div",3),o.Xb(31,"div",4),o.Rc(32,Q,6,1,"mat-form-field",10),o.Wb(),o.Wb(),o.Rc(33,Z,22,3,"div",11),o.Xb(34,"div",3),o.Xb(35,"div",4),o.Xb(36,"mat-form-field",5),o.Xb(37,"mat-label"),o.Tc(38,"Comments"),o.Wb(),o.Xb(39,"textarea",12),o.Tc(40),o.Wb(),o.Xb(41,"mat-icon",7),o.Tc(42,"speaker_notes"),o.Wb(),o.Wb(),o.Sb(43,"br"),o.Wb(),o.Wb(),o.Xb(44,"div",13),o.Xb(45,"button",14),o.jc("click",(function(){return o.Kc(a),o.nc().close()})),o.Tc(46,"Close"),o.Wb(),o.Tc(47,"\xa0 "),o.Wb(),o.Wb()}if(2&t){var n=o.nc();o.Cb(6),o.wc("value",n.data.leaveId.leave_type),o.Cb(8),o.wc("value",o.qc(15,8,n.data.start_date,"shortDate")),o.Cb(9),o.wc("value",o.qc(24,11,n.data.end_date,"shortDate")),o.Cb(6),o.vc("ngIf",n.data.duration),o.Cb(3),o.vc("ngIf",n.data.shift),o.Cb(1),o.vc("ngIf","Specify Time"==n.data.duration),o.Cb(6),o.wc("value",n.data.leave_desc),o.Cb(1),o.Uc(n.data.leave_desc)}}var et,at=((et=function(){function t(e,a,n,i,c,o){_classCallCheck(this,t),this.managerService=e,this.dialogRef=a,this.route=n,this.router=i,this.dialog=c,this.isLoading=!0,this.category=[],this.disablerole=!0,this.data=[],this.leave=[],this.isEdit=!0,this.userId=null,console.log(o,"0000000"),this.data=o.data,this.leave=o.balance}return _createClass(t,[{key:"ngOnInit",value:function(){this.isLoading=!1}},{key:"close",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||et)(o.Rb(u),o.Rb(m.h),o.Rb(c.a),o.Rb(c.b),o.Rb(m.b),o.Rb(m.a))},et.\u0275cmp=o.Lb({type:et,selectors:[["app-leave-details"]],decls:5,vars:4,consts:[["mat-dialog-title",""],["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-12"],["appearance","outline"],["matInput","","name","leaveId","readonly","",3,"value"],["matSuffix",""],["matInput","","readonly","","name","start_date",3,"value"],["matInput","","name","end_date","readonly","",3,"value"],["appearance","outline",4,"ngIf"],["class","row",4,"ngIf"],["matInput","","name","leave_desc","type","text","readonly","",3,"value"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary",3,"click"],["matInput","","name","duration","readonly","",3,"value"],["matInput","","name","shift","readonly","",3,"value"],[1,"col-md-4"],["matInput","","name","start_time","placeholder","Start Time","readonly","",3,"value"],["matInput","","name","end_time","placeholder","End Time","readonly","",3,"value"],["matInput","","name","time_taken","disabled","true","type","text","readonly","",3,"value"]],template:function(t,e){1&t&&(o.Xb(0,"div"),o.Xb(1,"h2",0),o.Tc(2),o.oc(3,"date"),o.Wb(),o.Wb(),o.Rc(4,tt,48,14,"div",1)),2&t&&(o.Cb(2),o.Vc("Leave Details Applied On: ",o.pc(3,2,e.data.createdAt),""),o.Cb(2),o.vc("ngIf",!e.isLoading))},directives:[m.i,i.m,g.c,g.g,h.b,v.a,g.h,X.b],pipes:[i.e],styles:[".form[_ngcontent-%COMP%]{line-height:normal}.mat-card[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:auto;min-height:598px}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),et),nt=a("iadO"),it=a("d3UM"),ct=a("FKr1");function ot(t,e){if(1&t&&(o.Xb(0,"mat-option",36),o.Tc(1),o.Wb()),2&t){var a=e.$implicit;o.vc("value",a.title),o.Cb(1),o.Vc(" ",a.title," ")}}function rt(t,e){if(1&t&&(o.Xb(0,"div",1),o.Xb(1,"div",37),o.Xb(2,"button",38),o.Tc(3),o.Wb(),o.Tc(4,"\xa0 "),o.Xb(5,"button",39),o.Tc(6),o.Wb(),o.Tc(7,"\xa0 "),o.Xb(8,"button",40),o.Tc(9),o.Wb(),o.Tc(10,"\xa0 "),o.Xb(11,"button",41),o.Tc(12),o.Wb(),o.Tc(13,"\xa0 "),o.Xb(14,"button",42),o.Tc(15),o.Wb(),o.Tc(16,"\xa0 "),o.Wb(),o.Wb()),2&t){var a=o.nc();o.Cb(3),o.Uc(a.leaveBalance.leave_balance),o.Cb(3),o.Uc(a.leaveBalance.optional_holidays),o.Cb(3),o.Uc(a.leaveBalance.camp_off),o.Cb(3),o.Uc(a.leaveBalance.marternity_leave),o.Cb(3),o.Uc(a.leaveBalance.paternity_leave)}}function st(t,e){1&t&&(o.Xb(0,"th",43),o.Tc(1," Leave Type"),o.Wb())}function bt(t,e){if(1&t&&(o.Xb(0,"td",44),o.Tc(1),o.Wb()),2&t){var a=e.$implicit;o.Cb(1),o.Vc(" ",a.leaveId.leave_type," ")}}function lt(t,e){1&t&&(o.Xb(0,"th",43),o.Tc(1," Start Date "),o.Wb())}function dt(t,e){if(1&t&&(o.Xb(0,"td",44),o.Tc(1),o.oc(2,"date"),o.Wb()),2&t){var a=e.$implicit;o.Cb(1),o.Vc(" ",o.pc(2,1,a.start_date)," ")}}function ut(t,e){1&t&&(o.Xb(0,"th",43),o.Tc(1," Applied Date "),o.Wb())}function mt(t,e){if(1&t&&(o.Xb(0,"td",44),o.Tc(1),o.oc(2,"date"),o.Wb()),2&t){var a=e.$implicit;o.Cb(1),o.Vc(" ",o.pc(2,1,a.createdAt)," ")}}function ft(t,e){1&t&&(o.Xb(0,"th",43),o.Tc(1," End Date "),o.Wb())}function pt(t,e){if(1&t&&(o.Xb(0,"td",44),o.Tc(1),o.oc(2,"date"),o.Wb()),2&t){var a=e.$implicit;o.Cb(1),o.Vc(" ",o.pc(2,1,a.end_date)," ")}}function gt(t,e){1&t&&(o.Xb(0,"th",43),o.Tc(1," No of Days Taken "),o.Wb())}function ht(t,e){if(1&t&&(o.Xb(0,"a",46),o.Tc(1),o.Wb()),2&t){var a=o.nc().$implicit;o.wc("matTooltip",a.time_taken),o.Cb(1),o.Vc(" days - ",a.time_taken," (hrs : mins)")}}function vt(t,e){if(1&t&&(o.Xb(0,"td",44),o.Tc(1),o.Rc(2,ht,2,2,"a",45),o.Wb()),2&t){var a=e.$implicit;o.Cb(1),o.Vc(" ",a.no_of_days_taken," "),o.Cb(1),o.vc("ngIf",0==a.no_of_days_taken)}}function Ct(t,e){1&t&&(o.Xb(0,"th",43),o.Tc(1," Loss of Pay "),o.Wb())}function _t(t,e){1&t&&(o.Xb(0,"a"),o.Tc(1,"-- --"),o.Wb())}function Xt(t,e){if(1&t&&(o.Xb(0,"a"),o.Tc(1),o.Wb()),2&t){var a=o.nc().$implicit;o.Cb(1),o.Vc("",a.los_of_pay_days," ")}}function Wt(t,e){if(1&t&&(o.Xb(0,"td",44),o.Rc(1,_t,2,0,"a",47),o.Rc(2,Xt,2,1,"a",47),o.Wb()),2&t){var a=e.$implicit;o.Cb(1),o.vc("ngIf",a.los_of_pay_days<=0),o.Cb(1),o.vc("ngIf",a.los_of_pay_days>0)}}function Tt(t,e){1&t&&(o.Xb(0,"th",43),o.Tc(1," Status "),o.Wb())}function yt(t,e){if(1&t&&(o.Xb(0,"td",44),o.Tc(1),o.Wb()),2&t){var a=e.$implicit;o.Cb(1),o.Vc(" ",a.status," ")}}function wt(t,e){1&t&&(o.Xb(0,"th",48),o.Tc(1,"Action "),o.Wb())}function It(t,e){1&t&&(o.Xb(0,"a",56),o.Xb(1,"mat-icon",51),o.Tc(2,"check"),o.Wb(),o.Wb())}function St(t,e){if(1&t){var a=o.Yb();o.Xb(0,"a",57),o.jc("click",(function(){o.Kc(a);var t=o.nc().$implicit;return o.nc().updateLeaveStatus(t,"Canceled")})),o.Xb(1,"mat-icon",51),o.Tc(2,"cancel"),o.Wb(),o.Wb()}if(2&t){var n=o.nc(2);o.vc("disabled",n.isDisabled)}}function Pt(t,e){if(1&t){var a=o.Yb();o.Xb(0,"a",58),o.jc("click",(function(){o.Kc(a);var t=o.nc().$implicit;return o.nc().approveLeave(t,"Approved")})),o.Xb(1,"mat-icon",51),o.Tc(2,"check"),o.Wb(),o.Wb()}if(2&t){var n=o.nc(2);o.vc("disabled",n.isDisabled)}}function kt(t,e){1&t&&(o.Xb(0,"a",59),o.Xb(1,"mat-icon",51),o.Tc(2,"block"),o.Wb(),o.Wb())}function Mt(t,e){if(1&t){var a=o.Yb();o.Xb(0,"td",49),o.Xb(1,"a",50),o.jc("click",(function(){o.Kc(a);var t=e.$implicit;return o.nc().openDialog(t)})),o.Xb(2,"mat-icon",51),o.Tc(3,"info"),o.Wb(),o.Wb(),o.Rc(4,It,3,0,"a",52),o.Rc(5,St,3,1,"a",53),o.Rc(6,Pt,3,1,"a",54),o.Rc(7,kt,3,0,"a",55),o.Wb()}2&t&&(o.vc("ngSwitch",e.$implicit.status),o.Cb(4),o.vc("ngSwitchCase","Approved"),o.Cb(1),o.vc("ngSwitchCase","Pending"),o.Cb(1),o.vc("ngSwitchCase","Pending"),o.Cb(1),o.vc("ngSwitchCase","Canceled"))}function Rt(t,e){1&t&&o.Sb(0,"tr",60)}function Ot(t,e){1&t&&o.Sb(0,"tr",61)}function Dt(t,e){1&t&&o.Sb(0,"mat-progress-spinner",62)}function Lt(t,e){1&t&&(o.Xb(0,"p",63),o.Tc(1,"No Leaves Found!"),o.Wb())}function xt(t,e){if(1&t){var a=o.Yb();o.Xb(0,"mat-paginator",64),o.jc("page",(function(t){return o.Kc(a),o.nc().onChangedPage(t)})),o.Wb()}if(2&t){var n=o.nc();o.vc("length",n.Count)("pageSize",n.perPage)("pageSizeOptions",n.sizeOptions)}}var Ut,At,Vt=((Ut=function(){function t(e,a,n,i){var c=this;_classCallCheck(this,t),this.managerService=e,this.activatedRoute=a,this.dialog=n,this.router=i,this.leaves=[],this.isLoading=!0,this.perPage=10,this.currentPage=1,this.Count=0,this.sizeOptions=[10,20,50,100],this.displayedColumns1=["Leave Type","Applied Date","Start Date","End Date","No of Days Taken","Loss of Pay","Status","Action"],this.filterTypes=[{title:"Approved",id:1},{title:"Rejected",id:2},{title:"Pending",id:3},{title:"Canceled",id:4}],this.isDisabled=!1,this.userId=this.managerService.getUserId(),this.activatedRoute.paramMap.subscribe((function(t){c.userId=t.get("userId")}));var o=new Date,r=(o.getMonth(),o.getFullYear());o.getDate(),this.start_date=new Date(r+"/01/01"),this.end_date=new Date(r+"/12/31")}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.assigneeId=this.managerService.getUserId();var e={assigneeId:this.assigneeId};this.userId&&(e.userId=this.userId),this.managerService.getAssignedLeaves(this.perPage,this.currentPage,this.filter,this.start_date,this.end_date,e).subscribe((function(e){t.leaves=e.data,t.isLoading=!1,t.Count=e.count}))}},{key:"updateLeaveStatus",value:function(t,e){var a=this;this.isDisabled=!0,this.managerService.updateLeaveStatus(t,e).subscribe((function(t){a.ngOnInit()}),(function(t){a.isDisabled=!1}))}},{key:"approveLeave",value:function(t,e){var a=this;this.isDisabled=!0,this.managerService.approveLeave(t,e).subscribe((function(t){a.isLoading=!0,a.ngOnInit()}),(function(t){a.isDisabled=!1}))}},{key:"checkChangesDates",value:function(t,e){console.log("changeeee"),"startDate"==t&&(this.start_date=e.value),"endDate"==t&&(this.end_date=e.value),this.isLoading=!0,this.ngOnInit()}},{key:"onChangeFilter",value:function(){this.isLoading=!0,this.ngOnInit()}},{key:"onChangedPage",value:function(t){this.isLoading=!0,this.currentPage=t.pageIndex+1,this.perPage=t.pageSize,this.ngOnInit()}},{key:"openDialog",value:function(t){var e=this,a=new m.e;a.disableClose=!1,a.autoFocus=!0,a.width="610px",a.data={data:t},this.dialog.open(at,a).afterClosed().subscribe((function(t){e.ngOnInit()}))}}]),t}()).\u0275fac=function(t){return new(t||Ut)(o.Rb(u),o.Rb(c.a),o.Rb(m.b),o.Rb(c.b))},Ut.\u0275cmp=o.Lb({type:Ut,selectors:[["app-myleave"]],decls:65,vars:15,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"row",2,"margin","9px"],["appearance","outline"],["matInput","","readonly","","name","start_date","placeholder","Select Start Date","required","",3,"matDatepicker","ngModel","dateChange","ngModelChange"],["sdataInput","ngModel"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],["matInput","","readonly","","name","end_date","placeholder","Select End Date","required","",3,"matDatepicker","ngModel","dateChange","ngModelChange"],["edataInput","ngModel"],["picker1",""],["name","shift","placeholder","Select Filter",3,"ngModel","selectionChange","ngModelChange"],["filterInput","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","container",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Leave Type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Start Date"],["matColumnDef","Applied Date"],["matColumnDef","End Date"],["matColumnDef","No of Days Taken"],["matColumnDef","Loss of Pay"],["matColumnDef","Status"],["matColumnDef","Action"],["mat-header-cell","","style"," padding: 18px 55px; text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",3,"ngSwitch",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[3,"value"],[1,"row",2,"float","right"],["mat-mini-fab","","matTooltip","Annual Leave"],["mat-mini-fab","","matTooltip","Optional Leave"],["mat-mini-fab","","matTooltip","Camp Off Leave"],["mat-mini-fab","","matTooltip","Marternity Leave"],["mat-mini-fab","","matTooltip","Paternity Leave"],["mat-header-cell",""],["mat-cell",""],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],[4,"ngIf"],["mat-header-cell","",2,"padding","18px 55px","text-align","center"],["mat-cell","",2,"text-align","center",3,"ngSwitch"],["mat-button","","matTooltip","Leave Details",3,"click"],["md-list-icon",""],["mat-button","","color","accent","matTooltip","Approved",4,"ngSwitchCase"],["mat-button","","color","warn","matTooltip","Cancel Leave",3,"disabled","click",4,"ngSwitchCase"],["mat-button","","color","primary","matTooltip","Approve Leave",3,"disabled","click",4,"ngSwitchCase"],["mat-button","","color","warn","matTooltip","Leave Canceled",4,"ngSwitchCase"],["mat-button","","color","accent","matTooltip","Approved"],["mat-button","","color","warn","matTooltip","Cancel Leave",3,"disabled","click"],["mat-button","","color","primary","matTooltip","Approve Leave",3,"disabled","click"],["mat-button","","color","warn","matTooltip","Leave Canceled"],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){if(1&t&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"div",2),o.Xb(3,"div",3),o.Xb(4,"div",4),o.Xb(5,"div",3),o.Xb(6,"mat-form-field",5),o.Xb(7,"mat-label"),o.Tc(8,"Start Date"),o.Wb(),o.Xb(9,"input",6,7),o.jc("dateChange",(function(t){return e.checkChangesDates("startDate",t)}))("ngModelChange",(function(t){return e.start_date=t})),o.Wb(),o.Sb(11,"mat-datepicker-toggle",8),o.Sb(12,"mat-datepicker",9,10),o.Wb(),o.Wb(),o.Xb(14,"div",3),o.Xb(15,"mat-form-field",5),o.Xb(16,"mat-label"),o.Tc(17,"End Date"),o.Wb(),o.Xb(18,"input",11,12),o.jc("dateChange",(function(t){return e.checkChangesDates("edataInput",t)}))("ngModelChange",(function(t){return e.end_date=t})),o.Wb(),o.Sb(20,"mat-datepicker-toggle",8),o.Sb(21,"mat-datepicker",9,13),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(23,"div",3),o.Xb(24,"div",4),o.Xb(25,"div",3),o.Xb(26,"mat-form-field",5),o.Xb(27,"mat-label"),o.Tc(28,"Filter"),o.Wb(),o.Xb(29,"mat-select",14,15),o.jc("selectionChange",(function(){return e.onChangeFilter()}))("ngModelChange",(function(t){return e.filter=t})),o.Rc(31,ot,2,2,"mat-option",16),o.Wb(),o.Wb(),o.Wb(),o.Sb(32,"div",3),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Sb(33,"br"),o.Rc(34,rt,17,5,"div",17),o.Xb(35,"table",18),o.Vb(36,19),o.Rc(37,st,2,0,"th",20),o.Rc(38,bt,2,1,"td",21),o.Ub(),o.Vb(39,22),o.Rc(40,lt,2,0,"th",20),o.Rc(41,dt,3,3,"td",21),o.Ub(),o.Vb(42,23),o.Rc(43,ut,2,0,"th",20),o.Rc(44,mt,3,3,"td",21),o.Ub(),o.Vb(45,24),o.Rc(46,ft,2,0,"th",20),o.Rc(47,pt,3,3,"td",21),o.Ub(),o.Vb(48,25),o.Rc(49,gt,2,0,"th",20),o.Rc(50,vt,3,2,"td",21),o.Ub(),o.Vb(51,26),o.Rc(52,Ct,2,0,"th",20),o.Rc(53,Wt,3,2,"td",21),o.Ub(),o.Vb(54,27),o.Rc(55,Tt,2,0,"th",20),o.Rc(56,yt,2,1,"td",21),o.Ub(),o.Vb(57,28),o.Rc(58,wt,2,0,"th",29),o.Rc(59,Mt,8,5,"td",30),o.Ub(),o.Rc(60,Rt,1,0,"tr",31),o.Rc(61,Ot,1,0,"tr",32),o.Wb(),o.Rc(62,Dt,1,0,"mat-progress-spinner",33),o.Rc(63,Lt,2,0,"p",34),o.Rc(64,xt,1,3,"mat-paginator",35),o.Wb()),2&t){var a=o.Gc(13),n=o.Gc(22);o.Cb(9),o.vc("matDatepicker",a)("ngModel",e.start_date),o.Cb(2),o.vc("for",a),o.Cb(7),o.vc("matDatepicker",n)("ngModel",e.end_date),o.Cb(2),o.vc("for",n),o.Cb(9),o.vc("ngModel",e.filter),o.Cb(2),o.vc("ngForOf",e.filterTypes),o.Cb(3),o.vc("ngIf",!e.isLoading&&e.leaveBalance),o.Cb(1),o.vc("dataSource",e.leaves),o.Cb(25),o.vc("matHeaderRowDef",e.displayedColumns1),o.Cb(1),o.vc("matRowDefColumns",e.displayedColumns1),o.Cb(1),o.vc("ngIf",e.isLoading),o.Cb(1),o.vc("ngIf",e.leaves.length<=0&&!e.isLoading),o.Cb(1),o.vc("ngIf",e.leaves.length>0)}},directives:[g.c,g.g,h.b,nt.b,p.b,p.u,p.m,p.p,nt.d,g.h,nt.a,it.a,i.l,i.m,_.j,_.c,_.e,_.b,_.g,_.i,ct.o,X.b,C.a,_.d,_.a,i.o,X.a,v.a,i.p,_.f,_.h,W.a,T.a],pipes:[i.e],styles:[".mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}"]}),Ut),zt=[{path:"assigned_users",component:G},{path:"assigned_users/:userId",component:G},{path:"approve_leave",component:Vt},{path:"approve_leave/:assignUserId",component:Vt},{path:"",redirectTo:"assigned_userss",pathMatch:"full"}],$t=((At=function t(){_classCallCheck(this,t)}).\u0275mod=o.Pb({type:At}),At.\u0275inj=o.Ob({factory:function(t){return new(t||At)},imports:[[c.f.forChild(zt)],c.f]}),At),jt=a("rhD1");a.d(e,"ManagerModule",(function(){return Ft}));var Et,Ft=((Et=function t(){_classCallCheck(this,t)}).\u0275mod=o.Pb({type:Et}),Et.\u0275inj=o.Ob({factory:function(t){return new(t||Et)},imports:[[i.c,p.g,p.t,jt.a,$t]]}),Et)}}]);