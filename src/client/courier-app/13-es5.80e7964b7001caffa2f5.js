function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{hGdz:function(t,e,n){"use strict";n.r(e);var a,i=n("ofXK"),o=n("LPYB"),c=n("rhD1"),r=n("3Pt+"),s=n("tyNb"),l=n("0IaG"),d=n("FtGj"),b=n("dNgK"),m=n("fXoL"),u=n("lJxs"),g=n("dMDw"),p=n("AytR"),f=n("tk/3"),h=n("qXBG"),v=p.a.apiUrl+"/users",C=p.a.apiUrl+"/projects",_=((a=function(){function t(e,n,a){_classCallCheck(this,t),this.http=e,this.router=n,this.authService=a}return _createClass(t,[{key:"getProjects",value:function(t,e,n){var a="?pagesize=".concat(t,"&page=").concat(e);return n&&(a+="&search="+n),this.http.get(C+"/getprojects"+a)}},{key:"addProject",value:function(t,e){var n={project_name:t.project_name,project_desc:t.project_desc,assignedUsers:t.assignedUsers,userId:this.authService.getUserId()};return this.http.post(C+"/create",n)}},{key:"getProjectById",value:function(t){return this.http.get(C+"/"+t)}},{key:"updateProject",value:function(t,e){return this.http.put(C+"/"+t._id,{id:t._id,project_name:t.project_name,project_desc:e.project_desc,assignedUsers:e.assignedUsers})}},{key:"deleteProject",value:function(t){return this.http.delete(C+"/"+t)}},{key:"search",value:function(t){var e="?";return t&&(e+="search="+t),this.http.get(v+"/search"+e).pipe(Object(g.debounceTime)(500),Object(u.a)((function(t){return t})))}}]),t}()).\u0275fac=function(t){return new(t||a)(m.fc(f.b),m.fc(s.b),m.fc(h.a))},a.\u0275prov=m.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),k=n("kmnG"),W=n("qFsG"),X=n("/1cH"),y=n("bTqV"),M=n("NFeN"),P=n("A5z7"),T=n("FKr1"),O=["assigneeInput"],x=["auto"];function I(t,e){1&t&&(m.Xb(0,"h1",19),m.Tc(1,"Edit Project"),m.Wb())}function w(t,e){1&t&&(m.Xb(0,"h1",19),m.Tc(1,"Create Project"),m.Wb())}function j(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please Enter Project Name."),m.Wb())}function S(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please Enter Project Description."),m.Wb())}function R(t,e){1&t&&(m.Xb(0,"mat-icon",28),m.Tc(1,"cancel"),m.Wb())}function U(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-chip",26),m.jc("removed",(function(){m.Kc(n);var t=e.$implicit;return m.nc(2).remove(t)})),m.Tc(1),m.Rc(2,R,2,0,"mat-icon",27),m.Wb()}if(2&t){var a=e.$implicit,i=m.nc(2);m.vc("selectable",i.selectable)("removable",i.removable),m.Cb(1),m.Wc(" ",a.first_name," ",a.last_name," "),m.Cb(1),m.vc("ngIf",i.removable)}}function D(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",20),m.Xb(1,"div",21),m.Xb(2,"mat-icon",22),m.Tc(3,"group"),m.Wb(),m.Xb(4,"mat-label"),m.Tc(5,"Assigned Users"),m.Wb(),m.Sb(6,"br"),m.Wb(),m.Xb(7,"div",21),m.Xb(8,"input",23),m.jc("ngModelChange",(function(t){return m.Kc(n),m.nc().project.assignedUsers=t})),m.Wb(),m.Xb(9,"mat-chip-list",null,24),m.Rc(11,U,3,5,"mat-chip",25),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=m.nc();m.Cb(8),m.vc("ngModel",a.project.assignedUsers),m.Cb(3),m.vc("ngForOf",a.project.assignedUsers)}}function F(t,e){if(1&t&&(m.Xb(0,"mat-option",29,30),m.Tc(2),m.Wb()),2&t){var n=e.$implicit;m.vc("value",n),m.Cb(2),m.Wc(" ",n.first_name," ",n.last_name," ")}}var L,A=((L=function(){function t(e,n,a,i,o,c,s){_classCallCheck(this,t),this.projectsService=e,this.dialogRef=n,this.route=a,this._snackBar=i,this.router=o,this.dialog=c,this.visible=!0,this.selectable=!0,this.removable=!0,this.separatorKeysCodes=[d.g,d.c],this.fruitCtrl=new r.d,this.isLoading=!0,this.project=[],this.data=[],this.horizontalPos="right",this.verticalPos="top",this.sankBardata={},this.assignedUsers=[],this.isEdit=!0,this.toppingList=["Extra cheese","Mushroom","Onion","Pepperoni","Sausage","Tomato"],this.data=s,this.project={_id:"",project_name:"",project_desc:"",assignedUsers:[]}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.data.id&&"edit"==this.data.mode?this.projectsService.getProjectById(this.data.id).subscribe((function(e){t.isLoading=!1,t.isEdit=!0,t.mode="edit",console.log("ttt",e),t.project={_id:e.data[0]._id,project_name:e.data[0].project_name,project_desc:e.data[0].project_desc,assignedUsers:e.data[0].assignedUsers}})):(this.isLoading=!1,this.mode="create",this.isEdit=!1,this.userId=null)}},{key:"onSave",value:function(t){var e=this;t.invalid||(this.isLoading=!0,"create"===this.mode?this.projectsService.addProject(t.value,this.userId).subscribe((function(t){e.dialogRef.close()}),(function(t){e.isLoading=!1})):this.projectsService.updateProject(this.project,t.value).subscribe((function(t){e.dialogRef.close()}),(function(t){e.isLoading=!1})))}},{key:"searchUsers",value:function(t){var e=this;t&&this.projectsService.search(t).subscribe((function(t){e.searchUser=t.users}))}},{key:"displayFn",value:function(t){return t?t.first_name+" "+t.last_name:""}},{key:"onSelection",value:function(t){var e=t.option.value,n=this.project.assignedUsers.findIndex((function(t){return t._id===e._id}));console.log(n,e),-1==n?(this.project.assignedUsers.push(t.option.value),this.assigneeInput.nativeElement.value="",this.fruitCtrl.setValue(null)):(this.sankBardata.message="User Allready Exist in this Project.",this.openSnakBar(),this.fruitCtrl.setValue(null))}},{key:"selected",value:function(t){this.project.assignedUsers.push(t.option.viewValue),this.project.assignedUsers.nativeElement.value="",this.project.assignedUsers.setValue(null)}},{key:"remove",value:function(t){var e=this.project.assignedUsers.indexOf(t);e>=0&&this.project.assignedUsers.splice(e,1)}},{key:"close",value:function(){this.dialogRef.close()}},{key:"openSnakBar",value:function(){var t=new b.b;t.verticalPosition=this.verticalPos,t.horizontalPosition=this.horizontalPos,t.duration=8e3,this._snackBar.open(this.sankBardata.message,"Ok",t)}}]),t}()).\u0275fac=function(t){return new(t||L)(m.Rb(_),m.Rb(l.h),m.Rb(s.a),m.Rb(b.a),m.Rb(s.b),m.Rb(l.b),m.Rb(l.a))},L.\u0275cmp=m.Lb({type:L,selectors:[["app-create-project"]],viewQuery:function(t,e){var n;1&t&&(m.Zc(O,!0),m.Zc(x,!0)),2&t&&(m.Fc(n=m.kc())&&(e.assigneeInput=n.first),m.Fc(n=m.kc())&&(e.matAutocomplete=n.first))},decls:35,vars:14,consts:[["mat-dialog-title","",4,"ngIf"],[3,"submit"],["projectForm","ngForm"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","name","project_name","type","text","placeholder","Project Name","required","",3,"disabled","ngModel","ngModelChange"],["nameInput","ngModel"],[4,"ngIf"],["matInput","","name","project_desc","type","text","placeholder","Description","required","",3,"ngModel","ngModelChange"],["descInput","ngModel"],["class","container",4,"ngIf"],["type","text","matInput","","placeholder","New User...",3,"matAutocomplete","formControl","keyup"],["assigneeInput","","assigneeInput",""],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary","matDialogClose","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-dialog-title",""],[1,"container"],[1,"row"],["md-list-icon",""],["type","hidden","name","assignedUsers",3,"ngModel","ngModelChange"],["chipList",""],[3,"selectable","removable","removed",4,"ngFor","ngForOf"],[3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[3,"value"],["datae",""]],template:function(t,e){if(1&t){var n=m.Yb();m.Rc(0,I,2,0,"h1",0),m.Rc(1,w,2,0,"h1",0),m.Xb(2,"form",1,2),m.jc("submit",(function(){m.Kc(n);var t=m.Gc(3);return e.onSave(t)})),m.Xb(4,"div",3),m.Xb(5,"mat-form-field",4),m.Xb(6,"mat-label"),m.Tc(7,"Project Name"),m.Wb(),m.Xb(8,"input",5,6),m.jc("ngModelChange",(function(t){return e.project.project_name=t})),m.Wb(),m.Rc(10,j,2,0,"mat-error",7),m.Wb(),m.Xb(11,"mat-form-field",4),m.Xb(12,"mat-label"),m.Tc(13,"Description"),m.Wb(),m.Xb(14,"textarea",8,9),m.jc("ngModelChange",(function(t){return e.project.project_desc=t})),m.Tc(16),m.Wb(),m.Rc(17,S,2,0,"mat-error",7),m.Wb(),m.Rc(18,D,12,2,"div",10),m.Sb(19,"br"),m.Xb(20,"mat-form-field",4),m.Xb(21,"mat-label"),m.Tc(22,"Assign Users"),m.Wb(),m.Xb(23,"input",11,12),m.jc("keyup",(function(){m.Kc(n);var t=m.Gc(24);return e.searchUsers(t.value)})),m.Wb(),m.Xb(26,"mat-autocomplete",13,14),m.jc("optionSelected",(function(t){return e.onSelection(t)})),m.Rc(28,F,3,3,"mat-option",15),m.Wb(),m.Wb(),m.Wb(),m.Xb(29,"div",16),m.Xb(30,"button",17),m.jc("click",(function(){return e.close()})),m.Tc(31,"Close"),m.Wb(),m.Tc(32,"\xa0 "),m.Xb(33,"button",18),m.Tc(34,"Save"),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=m.Gc(3),i=m.Gc(9),o=m.Gc(15),c=m.Gc(27);m.vc("ngIf","edit"==e.mode),m.Cb(1),m.vc("ngIf","create"==e.mode),m.Cb(7),m.vc("disabled",e.isEdit)("ngModel",e.project.project_name),m.Cb(2),m.vc("ngIf",i.hasError("required")),m.Cb(4),m.vc("ngModel",e.project.project_desc),m.Cb(2),m.Uc(e.project.project_desc),m.Cb(1),m.vc("ngIf",o.hasError("required")),m.Cb(1),m.vc("ngIf",e.project.assignedUsers.length>0),m.Cb(5),m.vc("matAutocomplete",c)("formControl",e.fruitCtrl),m.Cb(3),m.vc("displayWith",e.displayFn),m.Cb(2),m.vc("ngForOf",e.searchUser),m.Cb(5),m.vc("disabled",e.isLoading||a.invalid)}},directives:[i.m,r.x,r.n,r.o,l.f,k.c,k.g,W.b,r.b,r.u,r.m,r.p,X.c,r.e,X.a,i.l,y.b,l.d,l.i,k.b,M.a,P.b,P.a,P.c,T.o],styles:[".form[_ngcontent-%COMP%]{line-height:normal}mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}.assign_btn[_ngcontent-%COMP%]{padding:0 28px;margin:11px}"]}),L);function z(t,e){if(1&t&&(m.Xb(0,"mat-chip"),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.Cb(1),m.Wc(" ",n.first_name," ",n.last_name," ")}}function E(t,e){if(1&t&&(m.Xb(0,"div",10),m.Xb(1,"div",11),m.Xb(2,"mat-icon",12),m.Tc(3,"group"),m.Wb(),m.Xb(4,"mat-label"),m.Tc(5,"Assigned Users"),m.Wb(),m.Sb(6,"br"),m.Wb(),m.Xb(7,"div",11),m.Xb(8,"mat-chip-list",null,13),m.Rc(10,z,2,2,"mat-chip",14),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.nc(2);m.Cb(10),m.vc("ngForOf",n.project.assignedUsers)}}function B(t,e){if(1&t&&(m.Xb(0,"mat-form-field",5),m.Xb(1,"mat-label"),m.Tc(2,"Created By"),m.Wb(),m.Sb(3,"input",6),m.Wb()),2&t){var n=m.nc(2);m.Cb(3),m.yc("value","",n.project.userId.first_name," ",n.project.userId.last_name,"")}}function q(t,e){if(1&t&&(m.Xb(0,"mat-form-field",5),m.Xb(1,"mat-label"),m.Tc(2,"Email"),m.Wb(),m.Sb(3,"input",6),m.Wb()),2&t){var n=m.nc(2);m.Cb(3),m.wc("value",n.project.userId.email)}}function K(t,e){if(1&t&&(m.Xb(0,"mat-form-field",5),m.Xb(1,"mat-label"),m.Tc(2,"updated By"),m.Wb(),m.Sb(3,"input",6),m.Wb()),2&t){var n=m.nc(2);m.Cb(3),m.yc("value","",n.project.updatedBy.first_name," ",n.project.userId.last_name,"")}}function $(t,e){if(1&t&&(m.Xb(0,"div",4),m.Xb(1,"mat-form-field",5),m.Xb(2,"mat-label"),m.Tc(3,"Project Name"),m.Wb(),m.Sb(4,"input",6),m.Wb(),m.Xb(5,"mat-form-field",5),m.Xb(6,"mat-label"),m.Tc(7,"Project Description"),m.Wb(),m.Xb(8,"textarea",7),m.Tc(9),m.Wb(),m.Wb(),m.Rc(10,E,11,1,"div",8),m.Sb(11,"br"),m.Rc(12,B,4,2,"mat-form-field",9),m.Rc(13,q,4,1,"mat-form-field",9),m.Rc(14,K,4,2,"mat-form-field",9),m.Xb(15,"mat-form-field",5),m.Xb(16,"mat-label"),m.Tc(17,"Created At"),m.Wb(),m.Sb(18,"input",6),m.oc(19,"date"),m.Wb(),m.Xb(20,"mat-form-field",5),m.Xb(21,"mat-label"),m.Tc(22,"Updated At"),m.Wb(),m.Sb(23,"input",6),m.oc(24,"date"),m.Wb(),m.Xb(25,"mat-form-field",5),m.Xb(26,"mat-label"),m.Tc(27,"Status"),m.Wb(),m.Sb(28,"input",6),m.Wb(),m.Wb()),2&t){var n=m.nc();m.Cb(4),m.wc("value",n.project.project_name),m.Cb(5),m.Uc(n.project.project_desc),m.Cb(1),m.vc("ngIf",n.project.assignedUsers.length>0),m.Cb(2),m.vc("ngIf",n.project.userId),m.Cb(1),m.vc("ngIf",n.project.userId),m.Cb(1),m.vc("ngIf",n.project.userId),m.Cb(4),m.wc("value",m.pc(19,9,n.project.createdAt)),m.Cb(5),m.wc("value",m.pc(24,11,n.project.updatedAt)),m.Cb(5),m.wc("value",n.project.status)}}var G,V=((G=function(){function t(e,n,a,i,o,c){_classCallCheck(this,t),this.projectsService=e,this.route=n,this.dialogRef=a,this.router=i,this.dialog=o,this.isLoading=!0,this.project=[],this.data=[],this.sankBardata={},this.assignedUsers=[],this.isEdit=!0,this.toppingList=["Extra cheese","Mushroom","Onion","Pepperoni","Sausage","Tomato"],this.data=c}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.projectsService.getProjectById(this.data.id).subscribe((function(e){t.isLoading=!1,t.project=e.data[0]}))}},{key:"close",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||G)(m.Rb(_),m.Rb(s.a),m.Rb(l.h),m.Rb(s.b),m.Rb(l.b),m.Rb(l.a))},G.\u0275cmp=m.Lb({type:G,selectors:[["app-project-info"]],decls:8,vars:1,consts:[["mat-dialog-title",""],["class","font","mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","readonly","",3,"value"],["matInput","","type","text","readonly",""],["class","container",4,"ngIf"],["appearance","outline",4,"ngIf"],[1,"container"],[1,"row"],["md-list-icon",""],["chipList",""],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(m.Xb(0,"div"),m.Xb(1,"h2",0),m.Tc(2,"Project Info"),m.Wb(),m.Wb(),m.Rc(3,$,29,13,"div",1),m.Xb(4,"div",2),m.Xb(5,"button",3),m.jc("click",(function(){return e.close()})),m.Tc(6,"Close"),m.Wb(),m.Tc(7,"\xa0 "),m.Wb()),2&t&&(m.Cb(3),m.vc("ngIf",!e.isLoading))},directives:[l.i,i.m,l.c,y.b,l.f,k.c,k.g,W.b,M.a,P.b,i.l,P.a],pipes:[i.e],styles:[".form[_ngcontent-%COMP%]{line-height:normal}.mat-card[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:auto;min-height:598px}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),G),N=n("Wp6s"),Y=n("Qu3c"),H=n("Xa2L"),Z=n("M9IT");function Q(t,e){if(1&t){var n=m.Yb();m.Xb(0,"button",11),m.jc("click",(function(){return m.Kc(n),m.nc().openDialog(0,"create")})),m.Tc(1,"+ New Project"),m.Wb()}}function J(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-icon",20),m.jc("click",(function(){m.Kc(n);var t=m.nc().$implicit;return m.nc().openDialog(t._id,"edit")})),m.Tc(1,"edit"),m.Wb()}}function tt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-icon",21),m.jc("click",(function(){m.Kc(n);var t=m.nc().$implicit;return m.nc().onDelete(t._id)})),m.Tc(1,"delete"),m.Wb()}}var et=function(t){return["/authorized/tickets",t]};function nt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",12),m.Xb(1,"mat-card",13),m.Xb(2,"mat-card-header"),m.Sb(3,"div",14),m.Xb(4,"mat-card-title",15),m.Tc(5),m.Wb(),m.Xb(6,"mat-card-subtitle",16),m.Tc(7),m.Wb(),m.Xb(8,"mat-card-actions"),m.Rc(9,J,2,0,"mat-icon",17),m.Rc(10,tt,2,0,"mat-icon",18),m.Xb(11,"mat-icon",19),m.jc("click",(function(){m.Kc(n);var t=e.$implicit;return m.nc().projectInfoDialog(t._id)})),m.Tc(12,"info"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=e.$implicit,i=m.nc();m.Cb(3),m.vc("routerLink",m.Ac(8,et,a._id)),m.Cb(1),m.wc("matTooltip",a.project_name),m.vc("routerLink",m.Ac(10,et,a._id)),m.Cb(1),m.Uc(a.project_name),m.Cb(1),m.wc("matTooltip",a.project_desc),m.Cb(1),m.Uc(a.project_desc),m.Cb(2),m.vc("ngIf",3!=i.userData.role),m.Cb(1),m.vc("ngIf",3!=i.userData.role)}}function at(t,e){1&t&&(m.Xb(0,"div",22),m.Xb(1,"p",23),m.Tc(2,"No Projects Found!"),m.Wb(),m.Wb())}function it(t,e){1&t&&m.Sb(0,"mat-progress-spinner",24)}function ot(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-paginator",25),m.jc("page",(function(t){return m.Kc(n),m.nc().onChangedPage(t)})),m.Wb()}if(2&t){var a=m.nc();m.vc("length",a.Count)("pageSize",a.perPage)("pageSizeOptions",a.sizeOptions)}}var ct,rt,st=((ct=function(){function t(e,n,a,i,o){_classCallCheck(this,t),this.projectsService=e,this.route=n,this.authService=a,this.dialog=i,this.router=o,this.projects=[],this.isLoading=!1,this.perPage=10,this.currentPage=1,this.Count=0,this.sizeOptions=[10,20,50],this.displayedColumns1=["Project Name","Description","Action"]}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.userData=this.authService.getUserData(),this.projectsService.getProjects(this.perPage,this.currentPage,this.search).subscribe((function(e){t.projects=e.data,t.isLoading=!1,t.Count=e.count}))}},{key:"onDelete",value:function(t){var e=this;this.projectsService.deleteProject(t).subscribe((function(t){e.ngOnInit()}))}},{key:"onSearch",value:function(){this.ngOnInit()}},{key:"onChangedPage",value:function(t){this.isLoading=!0,this.currentPage=t.pageIndex+1,this.perPage=t.pageSize,this.ngOnInit()}},{key:"openDialog",value:function(t,e){var n=this,a=new l.e;a.disableClose=!0,a.autoFocus=!0,a.width="598px",a.data={id:t,mode:e},this.dialog.open(A,a).afterClosed().subscribe((function(t){n.ngOnInit()}))}},{key:"projectInfoDialog",value:function(t){var e=this,n=new l.e;n.disableClose=!1,n.autoFocus=!0,n.width="598px",n.data={id:t},this.dialog.open(V,n).afterClosed().subscribe((function(t){e.ngOnInit()}))}}]),t}()).\u0275fac=function(t){return new(t||ct)(m.Rb(_),m.Rb(s.a),m.Rb(h.a),m.Rb(l.b),m.Rb(s.b))},ct.\u0275cmp=m.Lb({type:ct,selectors:[["app-projects"]],decls:16,vars:6,consts:[[1,"card-container"],["action","#","autocomplete","off"],[2,"width","45%"],["matInput","","name","name","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["nameInput","ngModel"],["md-list-icon",""],["class","btn btn-success float-right",3,"click",4,"ngIf"],["style","margin: 5px;",4,"ngFor","ngForOf"],["style","text-align: center;",4,"ngIf"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"btn","btn-success","float-right",3,"click"],[2,"margin","5px"],[1,"example-card"],["mat-card-avatar","","matTooltip","View Project Tickets",1,"example-header-image",3,"routerLink"],[3,"matTooltip","routerLink"],[3,"matTooltip"],["md-list-icon","","color","primary","matTooltip","Edit Project",3,"click",4,"ngIf"],["matTooltip","Delete Project","color","warn","md-list-icon","",3,"click",4,"ngIf"],["matTooltip","Project Info","md-list-icon","",3,"click"],["md-list-icon","","color","primary","matTooltip","Edit Project",3,"click"],["matTooltip","Delete Project","color","warn","md-list-icon","",3,"click"],[2,"text-align","center"],[1,"info-text","mat-body-1"],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"mat-card"),m.Xb(2,"form",1),m.Xb(3,"mat-form-field",2),m.Xb(4,"input",3,4),m.jc("ngModelChange",(function(t){return e.search=t}))("keyup",(function(){return e.onSearch()})),m.Wb(),m.Wb(),m.Xb(6,"mat-icon",5),m.Tc(7,"search"),m.Wb(),m.Rc(8,Q,2,0,"button",6),m.Wb(),m.Wb(),m.Wb(),m.Sb(9,"br"),m.Sb(10,"br"),m.Xb(11,"div",0),m.Rc(12,nt,13,12,"div",7),m.Rc(13,at,3,0,"div",8),m.Rc(14,it,1,0,"mat-progress-spinner",9),m.Rc(15,ot,1,3,"mat-paginator",10),m.Wb()),2&t&&(m.Cb(4),m.vc("ngModel",e.search),m.Cb(4),m.vc("ngIf",3!=e.userData.role),m.Cb(4),m.vc("ngForOf",e.projects),m.Cb(1),m.vc("ngIf",e.projects.length<=0&&!e.isLoading),m.Cb(1),m.vc("ngIf",e.isLoading),m.Cb(1),m.vc("ngIf",e.projects.length>0))},directives:[N.a,r.x,r.n,r.o,k.c,W.b,r.b,r.m,r.p,M.a,i.m,i.l,N.e,N.c,Y.a,s.c,N.j,N.i,N.b,H.a,Z.a],styles:[".mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}.example-card[_ngcontent-%COMP%]{width:100%;margin:15px}.example-card[_ngcontent-%COMP%]:hover{width:100%;background-color:#a09d9d}.example-header-image[_ngcontent-%COMP%]{background-image:url(/assets/proj.jpg);background-size:cover}mat-card-subtitle[_ngcontent-%COMP%], mat-card-title[_ngcontent-%COMP%]{white-space:nowrap;width:105px;overflow:hidden;text-overflow:ellipsis}.example-tooltip-red[_ngcontent-%COMP%]{background:#b71c1c!important}.mat-card[_ngcontent-%COMP%]{background:#fff;width:100%;color:#f89b46;height:90px;min-width:100%}mat-icon[_ngcontent-%COMP%]{margin:9px}"]}),ct),lt=p.a.apiUrl+"/tickets",dt=p.a.apiUrl+"/tasks",bt=((rt=function(){function t(e,n,a){_classCallCheck(this,t),this.http=e,this.router=n,this.authService=a}return _createClass(t,[{key:"getTicketsByProjectId",value:function(t,e,n,a){var i="?pagesize=".concat(t,"&page=").concat(e);return n&&(i+="&search="+n),this.http.get(lt+"/gettickets/"+a+i)}},{key:"getTickets",value:function(t,e,n){var a="?pagesize=".concat(t,"&page=").concat(e);return n&&(a+="&search="+n),this.http.get(lt+"/gettickets"+a)}},{key:"getUserData",value:function(){return this.authService.getUserData()}},{key:"addTicket",value:function(t,e){var n={ticket_name:t.ticket_name,ticket_desc:t.ticket_desc,ticket_priority:t.ticket_priority,projectId:e,userId:this.authService.getUserId()};return this.http.post(lt+"/create",n)}},{key:"getTicketById",value:function(t){return this.http.get(lt+"/"+t)}},{key:"updateTicket",value:function(t,e){console.log(t);var n={id:t._id,ticket_name:t.ticket_name,ticket_desc:e.ticket_desc,projectId:t.projectId._id,userId:this.authService.getUserId()};return this.http.put(lt+"/"+t._id,n)}},{key:"updateTicketStatus",value:function(t){console.log(t);var e={id:t.id,status:t.status,ticket_priority:t.ticket_priority,userId:this.authService.getUserId()};return this.http.put(lt+"/updatestatus/"+t.id,e)}},{key:"deleteTicket",value:function(t){return this.http.delete(lt+"/"+t)}},{key:"getTicketTages",value:function(t){return this.http.get(dt+"/gettasktages/"+t)}}]),t}()).\u0275fac=function(t){return new(t||rt)(m.fc(f.b),m.fc(s.b),m.fc(h.a))},rt.\u0275prov=m.Nb({token:rt,factory:rt.\u0275fac,providedIn:"root"}),rt),mt=n("d3UM");function ut(t,e){1&t&&(m.Xb(0,"h1",16),m.Tc(1,"Edit Ticket"),m.Wb())}function gt(t,e){1&t&&(m.Xb(0,"h1",16),m.Tc(1,"Create New Ticket"),m.Wb())}function pt(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please Enter Project Name."),m.Wb())}function ft(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please Enter Project Description."),m.Wb())}function ht(t,e){if(1&t&&(m.Xb(0,"mat-option",17),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.vc("value",n),m.Cb(1),m.Vc(" ",n," ")}}function vt(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Select Ticket Priority."),m.Wb())}var Ct,_t=((Ct=function(){function t(e,n,a,i,o,c){_classCallCheck(this,t),this.ticketsService=e,this.dialogRef=n,this.route=a,this.router=i,this.dialog=o,this.isLoading=!0,this.ticket=[],this.disablerole=!0,this.data=[],this.isEdit=!0,this.ticket_priority=["High","Medium","Low"],this.data=c,this.ticket={_id:"",ticket_name:"",ticket_desc:"",projectId:{},ticket_priority:""}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.data.id&&"edit"==this.data.mode?this.ticketsService.getTicketById(this.data.id).subscribe((function(e){t.isLoading=!1,t.isEdit=!0,t.mode="edit",t.ticket={_id:e.data[0]._id,ticket_name:e.data[0].ticket_name,ticket_desc:e.data[0].ticket_desc,projectId:e.data[0].projectId,ticket_priority:e.data[0].ticket_priority}})):(this.isLoading=!1,this.mode="create",this.isEdit=!1,this.userId=null)}},{key:"onSave",value:function(t){var e=this;t.invalid||(this.isLoading=!0,"create"===this.mode?this.ticketsService.addTicket(t.value,this.data.pid).subscribe((function(t){e.dialogRef.close()}),(function(t){e.isLoading=!1})):this.ticketsService.updateTicket(this.ticket,t.value).subscribe((function(t){e.dialogRef.close()}),(function(t){e.isLoading=!1})))}},{key:"close",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||Ct)(m.Rb(bt),m.Rb(l.h),m.Rb(s.a),m.Rb(s.b),m.Rb(l.b),m.Rb(l.a))},Ct.\u0275cmp=m.Lb({type:Ct,selectors:[["app-create-ticket"]],decls:31,vars:11,consts:[["mat-dialog-title","",4,"ngIf"],[3,"submit"],["ticketForm","ngForm"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","name","ticket_name","type","text","placeholder","ticket Name","required","",3,"ngModel","ngModelChange"],["nameInput","ngModel"],[4,"ngIf"],["matInput","","name","ticket_desc","type","text","placeholder","Description","required","",3,"ngModel","ngModelChange"],["descInput","ngModel"],["name","ticket_priority","placeholder","Select Priority","required","",3,"ngModel","ngModelChange"],["ticketInput","ngModel"],[3,"value",4,"ngFor","ngForOf"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary","matDialogClose","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-dialog-title",""],[3,"value"]],template:function(t,e){if(1&t){var n=m.Yb();m.Rc(0,ut,2,0,"h1",0),m.Rc(1,gt,2,0,"h1",0),m.Xb(2,"form",1,2),m.jc("submit",(function(){m.Kc(n);var t=m.Gc(3);return e.onSave(t)})),m.Xb(4,"div",3),m.Xb(5,"mat-form-field",4),m.Xb(6,"mat-label"),m.Tc(7,"Ticket"),m.Wb(),m.Xb(8,"input",5,6),m.jc("ngModelChange",(function(t){return e.ticket.ticket_name=t})),m.Wb(),m.Rc(10,pt,2,0,"mat-error",7),m.Wb(),m.Xb(11,"mat-form-field",4),m.Xb(12,"mat-label"),m.Tc(13,"Description"),m.Wb(),m.Xb(14,"textarea",8,9),m.jc("ngModelChange",(function(t){return e.ticket.ticket_desc=t})),m.Tc(16),m.Wb(),m.Rc(17,ft,2,0,"mat-error",7),m.Wb(),m.Xb(18,"mat-form-field",4),m.Xb(19,"mat-label"),m.Tc(20,"Ticket Priority"),m.Wb(),m.Xb(21,"mat-select",10,11),m.jc("ngModelChange",(function(t){return e.ticket.ticket_priority=t})),m.Rc(23,ht,2,2,"mat-option",12),m.Wb(),m.Rc(24,vt,2,0,"mat-error",7),m.Wb(),m.Wb(),m.Xb(25,"div",13),m.Xb(26,"button",14),m.jc("click",(function(){return e.close()})),m.Tc(27,"Close"),m.Wb(),m.Tc(28,"\xa0 "),m.Xb(29,"button",15),m.Tc(30,"Save"),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=m.Gc(3),i=m.Gc(9),o=m.Gc(15),c=m.Gc(22);m.vc("ngIf","edit"==e.mode),m.Cb(1),m.vc("ngIf","create"==e.mode),m.Cb(7),m.vc("ngModel",e.ticket.ticket_name),m.Cb(2),m.vc("ngIf",i.hasError("required")),m.Cb(4),m.vc("ngModel",e.ticket.ticket_desc),m.Cb(2),m.Uc(e.ticket.ticket_desc),m.Cb(1),m.vc("ngIf",o.hasError("required")),m.Cb(4),m.vc("ngModel",e.ticket.ticket_priority),m.Cb(2),m.vc("ngForOf",e.ticket_priority),m.Cb(1),m.vc("ngIf",c.hasError("required")),m.Cb(5),m.vc("disabled",a.invalid)}},directives:[i.m,r.x,r.n,r.o,l.f,k.c,k.g,W.b,r.b,r.u,r.m,r.p,mt.a,i.l,y.b,l.d,l.i,k.b,T.o],styles:[".form[_ngcontent-%COMP%]{line-height:normal}mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),Ct);function kt(t,e){if(1&t&&(m.Xb(0,"mat-chip"),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.Cb(1),m.Wc(" ",n.first_name," ",n.last_name," ")}}function Wt(t,e){if(1&t&&(m.Xb(0,"div",9),m.Xb(1,"div",10),m.Xb(2,"mat-icon",11),m.Tc(3,"group"),m.Wb(),m.Xb(4,"mat-label"),m.Tc(5,"Assigned Users"),m.Wb(),m.Sb(6,"br"),m.Wb(),m.Xb(7,"div",10),m.Xb(8,"mat-chip-list",null,12),m.Rc(10,kt,2,2,"mat-chip",13),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.nc(2);m.Cb(10),m.vc("ngForOf",n.ticket.projectId.assignedUsers)}}function Xt(t,e){if(1&t&&(m.Xb(0,"div",4),m.Xb(1,"mat-form-field",5),m.Xb(2,"mat-label"),m.Tc(3,"Project Name"),m.Wb(),m.Sb(4,"input",6),m.Wb(),m.Xb(5,"mat-form-field",5),m.Xb(6,"mat-label"),m.Tc(7,"Project Description"),m.Wb(),m.Xb(8,"textarea",7),m.Tc(9),m.Wb(),m.Wb(),m.Rc(10,Wt,11,1,"div",8),m.Sb(11,"br"),m.Xb(12,"mat-form-field",5),m.Xb(13,"mat-label"),m.Tc(14,"Ticket Priority"),m.Wb(),m.Sb(15,"input",6),m.Wb(),m.Xb(16,"mat-form-field",5),m.Xb(17,"mat-label"),m.Tc(18,"Created By"),m.Wb(),m.Sb(19,"input",6),m.Wb(),m.Xb(20,"mat-form-field",5),m.Xb(21,"mat-label"),m.Tc(22,"Email"),m.Wb(),m.Sb(23,"input",6),m.Wb(),m.Xb(24,"mat-form-field",5),m.Xb(25,"mat-label"),m.Tc(26,"updated By"),m.Wb(),m.Sb(27,"input",6),m.Wb(),m.Xb(28,"mat-form-field",5),m.Xb(29,"mat-label"),m.Tc(30,"Created At"),m.Wb(),m.Sb(31,"input",6),m.oc(32,"date"),m.Wb(),m.Xb(33,"mat-form-field",5),m.Xb(34,"mat-label"),m.Tc(35,"Updated At"),m.Wb(),m.Sb(36,"input",6),m.oc(37,"date"),m.Wb(),m.Xb(38,"mat-form-field",5),m.Xb(39,"mat-label"),m.Tc(40,"Status"),m.Wb(),m.Sb(41,"input",6),m.Wb(),m.Wb()),2&t){var n=m.nc();m.Cb(4),m.wc("value",n.ticket.ticket_name),m.Cb(5),m.Uc(n.ticket.ticket_desc),m.Cb(1),m.vc("ngIf",n.ticket.projectId.assignedUsers.length>0),m.Cb(5),m.wc("value",n.ticket.ticket_priority),m.Cb(4),m.yc("value","",n.ticket.userId.first_name," ",n.ticket.userId.last_name,""),m.Cb(4),m.wc("value",n.ticket.userId.email),m.Cb(4),m.yc("value","",n.ticket.updatedBy.first_name," ",n.ticket.userId.last_name,""),m.Cb(4),m.wc("value",m.pc(32,12,n.ticket.createdAt)),m.Cb(5),m.wc("value",m.pc(37,14,n.ticket.updatedAt)),m.Cb(5),m.wc("value",n.ticket.status)}}var yt,Mt,Pt,Tt=((yt=function(){function t(e,n,a,i,o,c){_classCallCheck(this,t),this.ticketsService=e,this.route=n,this.dialogRef=a,this.router=i,this.dialog=o,this.isLoading=!0,this.ticket=[],this.data=[],this.sankBardata={},this.assignedUsers=[],this.isEdit=!0,this.data=c}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.ticketsService.getTicketById(this.data.id).subscribe((function(e){t.isLoading=!1,t.ticket=e.data[0]}))}},{key:"close",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||yt)(m.Rb(bt),m.Rb(s.a),m.Rb(l.h),m.Rb(s.b),m.Rb(l.b),m.Rb(l.a))},yt.\u0275cmp=m.Lb({type:yt,selectors:[["app-ticket-info"]],decls:8,vars:1,consts:[["mat-dialog-title",""],["class","font","mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","readonly","",3,"value"],["matInput","","type","text","readonly",""],["class","container",4,"ngIf"],[1,"container"],[1,"row"],["md-list-icon",""],["chipList",""],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(m.Xb(0,"div"),m.Xb(1,"h2",0),m.Tc(2,"Project Info"),m.Wb(),m.Wb(),m.Rc(3,Xt,42,16,"div",1),m.Xb(4,"div",2),m.Xb(5,"button",3),m.jc("click",(function(){return e.close()})),m.Tc(6,"Close"),m.Wb(),m.Tc(7,"\xa0 "),m.Wb()),2&t&&(m.Cb(3),m.vc("ngIf",!e.isLoading))},directives:[l.i,i.m,l.c,y.b,l.f,k.c,k.g,W.b,M.a,P.b,i.l,P.a],pipes:[i.e],styles:[".form[_ngcontent-%COMP%]{line-height:normal}.mat-card[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:auto;min-height:598px}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),yt),Ot=p.a.apiUrl+"/comments",xt=((Mt=function(){function t(e,n,a){_classCallCheck(this,t),this.http=e,this.router=n,this.authService=a}return _createClass(t,[{key:"getCommentsByTicketId",value:function(t,e,n,a){var i="?pagesize=".concat(t,"&page=").concat(e);return n&&(i+="&search="+n),this.http.get(Ot+"/getcomments/"+a+i)}},{key:"getUserId",value:function(){return this.authService.getUserId()}},{key:"addComment",value:function(t){var e=new FormData;return e.append("file",t.file),e.append("filename",t.filename),e.append("comment",t.comment),e.append("projectId",t.pid),e.append("ticketId",t.tid),e.append("userId",this.authService.getUserId()),e.append("fileType",t.fileType),console.log(t),this.http.post(Ot+"/create",e)}},{key:"getCommentById",value:function(t){return this.http.get(Ot+"/"+t)}},{key:"updateComment",value:function(t,e,n){return console.log(t),this.http.put(Ot+"/"+t._id,{id:t._id,ticket_name:t.ticket_name,ticket_desc:e.ticket_desc,projectId:t.projectId._id,ticket_priority:e.ticket_priority,userId:n})}},{key:"deleteFile",value:function(t,e){return this.http.put(Ot+"/deletefile/"+t,{id:t,file_url:e})}},{key:"deleteComment",value:function(t){return this.http.delete(Ot+"/"+t)}}]),t}()).\u0275fac=function(t){return new(t||Mt)(m.fc(f.b),m.fc(s.b),m.fc(h.a))},Mt.\u0275prov=m.Nb({token:Mt,factory:Mt.\u0275fac,providedIn:"root"}),Mt),It=p.a.apiUrl+"/tasks",wt=((Pt=function(){function t(e,n,a){_classCallCheck(this,t),this.http=e,this.router=n,this.authService=a}return _createClass(t,[{key:"getTaskByTicketId",value:function(t,e,n,a,i){var o="?pagesize=".concat(t,"&page=").concat(e,"&date=").concat(new Date);return n&&(o+="&search="+n),i.userId&&null!=i.userId&&(o+="&userId="+i.userId),i.filter&&(o+="&filter="+i.filter),i.tage&&(o+="&tage="+i.tage),this.http.get(It+"/gettasks/"+a+o)}},{key:"getUserId",value:function(){return this.authService.getUserId()}},{key:"addTask",value:function(t){var e={task_name:t.task_name,tags:t.tags,task_desc:t.task_desc,start_date:new Date(t.start_date),end_date:new Date(t.end_date),assignedUsers:t.assignedUsers,projectId:t.pid,ticketId:t.tid,userId:this.authService.getUserId()};return this.http.post(It+"/create",e)}},{key:"getTaskById",value:function(t){return this.http.get(It+"/"+t)}},{key:"updateTaskStatus",value:function(t){return t.userId=this.authService.getUserId(),this.http.put(It+"/updatestatus/"+t.id,t)}},{key:"moveTasktoTicket",value:function(t,e){console.log(t,e);var n={id:t._id,ticketId:e.ticketId._id,userId:this.authService.getUserId()};return this.http.put(It+"/movetask/"+t._id,n)}},{key:"updateTask",value:function(t){return this.http.put(It+"/"+t._id,t)}},{key:"deleteTask",value:function(t){return this.http.delete(It+"/"+t)}}]),t}()).\u0275fac=function(t){return new(t||Pt)(m.fc(f.b),m.fc(s.b),m.fc(h.a))},Pt.\u0275prov=m.Nb({token:Pt,factory:Pt.\u0275fac,providedIn:"root"}),Pt),jt=n("ihCf"),St=n("iadO"),Rt=["assigneeInput"],Ut=["auto"];function Dt(t,e){1&t&&m.Sb(0,"mat-progress-spinner",2)}function Ft(t,e){if(1&t&&(m.Xb(0,"mat-option",15,16),m.Tc(2),m.Wb()),2&t){var n=e.$implicit;m.vc("value",n),m.Cb(2),m.Vc(" ",n.ticket_name," ")}}function Lt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div"),m.Xb(1,"div"),m.Xb(2,"mat-icon",3),m.jc("click",(function(){return m.Kc(n),m.nc().viewPage()})),m.Tc(3,"info"),m.Wb(),m.Wb(),m.Sb(4,"br"),m.Sb(5,"br"),m.Xb(6,"div"),m.Xb(7,"div"),m.Xb(8,"h2"),m.Tc(9,"Move Task to Other"),m.Wb(),m.Wb(),m.Xb(10,"form",4,5),m.jc("submit",(function(){m.Kc(n);var t=m.Gc(11);return m.nc().moveTask(t)})),m.Xb(12,"mat-form-field",6),m.Xb(13,"mat-label"),m.Tc(14,"Search Ticks"),m.Wb(),m.Xb(15,"input",7,8),m.jc("ngModelChange",(function(t){return m.Kc(n),m.nc().ticketId=t}))("keyup",(function(){m.Kc(n);var t=m.Gc(16);return m.nc().searchTickets(t.value)})),m.Wb(),m.Xb(17,"mat-autocomplete",9,10),m.Rc(19,Ft,3,2,"mat-option",11),m.Wb(),m.Wb(),m.Xb(20,"div",12),m.Xb(21,"a",13),m.jc("click",(function(){return m.Kc(n),m.nc().close()})),m.Tc(22,"close"),m.Wb(),m.Xb(23,"button",14),m.Tc(24,"Move"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=m.Gc(11),i=m.Gc(18),o=m.nc();m.Cb(15),m.vc("ngModel",o.ticketId)("matAutocomplete",i),m.Cb(2),m.vc("displayWith",o.displayFn1),m.Cb(2),m.vc("ngForOf",o.tickets),m.Cb(4),m.vc("disabled",o.isLoading||a.invalid)}}function At(t,e){1&t&&(m.Xb(0,"h1"),m.Tc(1,"Edit Task"),m.Wb())}function zt(t,e){1&t&&(m.Xb(0,"h1"),m.Tc(1,"New Task"),m.Wb())}function Et(t,e){if(1&t&&(m.Xb(0,"span",45),m.Tc(1),m.Wb()),2&t){var n=m.nc(3);m.Cb(1),m.Wc(" (+",n.selectedTage.length-1," ",2===(null==n.selectedTage?null:n.selectedTage.length)?"other":"others",") ")}}function Bt(t,e){if(1&t&&(m.Xb(0,"mat-select-trigger"),m.Tc(1),m.Rc(2,Et,2,2,"span",44),m.Wb()),2&t){var n=m.nc(2);m.Cb(1),m.Vc(" ",n.selectedTage?n.selectedTage[0].name:""," "),m.Cb(1),m.vc("ngIf",(null==n.selectedTage?null:n.selectedTage.length)>1)}}function qt(t,e){if(1&t&&(m.Xb(0,"mat-option",15),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.vc("value",n),m.Cb(1),m.Uc(n.name)}}function Kt(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Enter Task Title."),m.Wb())}function $t(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please Select Start Date."),m.Wb())}function Gt(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please Select Due Date."),m.Wb())}function Vt(t,e){1&t&&(m.Xb(0,"mat-icon",53),m.Tc(1,"cancel"),m.Wb())}function Nt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-chip",50),m.jc("removed",(function(){m.Kc(n);var t=e.$implicit;return m.nc(3).remove(t)})),m.Xb(1,"a",51),m.Tc(2),m.Wb(),m.Rc(3,Vt,2,0,"mat-icon",52),m.Wb()}if(2&t){var a=e.$implicit,i=m.nc(3);m.yc("matTooltip","",a.first_name," ",a.last_name,""),m.vc("selectable",i.selectable)("removable",i.removable),m.Cb(2),m.Wc("",a.first_name," ",a.last_name,""),m.Cb(1),m.vc("ngIf",i.removable)}}function Yt(t,e){if(1&t&&(m.Xb(0,"div",46),m.Xb(1,"div",18),m.Xb(2,"mat-icon",47),m.Tc(3,"group"),m.Wb(),m.Xb(4,"mat-label"),m.Tc(5,"Assigned Users"),m.Wb(),m.Sb(6,"br"),m.Wb(),m.Xb(7,"div",18),m.Xb(8,"mat-chip-list",null,48),m.Rc(10,Nt,4,7,"mat-chip",49),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.nc(2);m.Cb(10),m.vc("ngForOf",n.assignedUsers)}}function Ht(t,e){if(1&t&&(m.Xb(0,"mat-option",15,16),m.Tc(2),m.Wb()),2&t){var n=e.$implicit;m.vc("value",n),m.Cb(2),m.Wc(" ",n.first_name," ",n.last_name," ")}}function Zt(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Enter Task Note."),m.Wb())}function Qt(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div"),m.Xb(1,"div",17),m.Xb(2,"div",18),m.Xb(3,"div",19),m.Rc(4,At,2,0,"h1",1),m.Rc(5,zt,2,0,"h1",1),m.Wb(),m.Xb(6,"div",19),m.Xb(7,"mat-form-field",20),m.Xb(8,"mat-label"),m.Tc(9,"Tages"),m.Wb(),m.Xb(10,"mat-select",21,22),m.jc("valueChange",(function(t){return m.Kc(n),m.nc().selectedTage=t})),m.Rc(12,Bt,3,2,"mat-select-trigger",1),m.Rc(13,qt,2,2,"mat-option",11),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(14,"form",4,23),m.jc("submit",(function(){m.Kc(n);var t=m.Gc(15);return m.nc().onCreate(t)})),m.Xb(16,"div",24),m.Xb(17,"mat-form-field",25),m.Xb(18,"mat-label"),m.Tc(19,"Title"),m.Wb(),m.Xb(20,"textarea",26,27),m.jc("ngModelChange",(function(t){return m.Kc(n),m.nc().task.task_name=t})),m.Tc(22),m.Wb(),m.Rc(23,Kt,2,0,"mat-error",1),m.Wb(),m.Xb(24,"div",18),m.Xb(25,"div",19),m.Xb(26,"mat-form-field",25),m.Xb(27,"mat-label"),m.Tc(28,"Start Date"),m.Wb(),m.Xb(29,"input",28,29),m.jc("ngModelChange",(function(t){return m.Kc(n),m.nc().task.start_date=t})),m.Wb(),m.Sb(31,"mat-datepicker-toggle",30),m.Sb(32,"mat-datepicker",31,32),m.Rc(34,$t,2,0,"mat-error",1),m.Wb(),m.Wb(),m.Xb(35,"div",19),m.Xb(36,"mat-form-field",25),m.Xb(37,"mat-label"),m.Tc(38,"Due Date"),m.Wb(),m.Xb(39,"input",33,34),m.jc("ngModelChange",(function(t){return m.Kc(n),m.nc().task.end_date=t})),m.Wb(),m.Sb(41,"mat-datepicker-toggle",30),m.Sb(42,"mat-datepicker",31,35),m.Rc(44,Gt,2,0,"mat-error",1),m.Wb(),m.Wb(),m.Wb(),m.Rc(45,Yt,11,1,"div",36),m.Sb(46,"br"),m.Xb(47,"mat-form-field",37),m.Xb(48,"mat-label"),m.Tc(49,"Assign Users"),m.Wb(),m.Xb(50,"input",38,39),m.jc("keyup",(function(){m.Kc(n);var t=m.Gc(51);return m.nc().searchUsers(t.value)})),m.Wb(),m.Xb(53,"mat-autocomplete",40,10),m.jc("optionSelected",(function(t){return m.Kc(n),m.nc().onSelection(t)})),m.Rc(55,Ht,3,3,"mat-option",11),m.Wb(),m.Wb(),m.Xb(56,"mat-form-field",25),m.Xb(57,"mat-label"),m.Tc(58,"Note"),m.Wb(),m.Xb(59,"textarea",41,42),m.jc("ngModelChange",(function(t){return m.Kc(n),m.nc().task.task_desc=t})),m.Tc(61),m.Wb(),m.Rc(62,Zt,2,0,"mat-error",1),m.Wb(),m.Wb(),m.Xb(63,"div",12),m.Xb(64,"button",43),m.jc("click",(function(){return m.Kc(n),m.nc().close()})),m.Tc(65,"Close"),m.Wb(),m.Tc(66,"\xa0 "),m.Xb(67,"button",14),m.Tc(68,"Save"),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=m.Gc(15),i=m.Gc(21),o=m.Gc(30),c=m.Gc(33),r=m.Gc(40),s=m.Gc(43),l=m.Gc(54),d=m.Gc(60),b=m.nc();m.Cb(4),m.vc("ngIf","update"==b.data.mode),m.Cb(1),m.vc("ngIf","add"==b.data.mode),m.Cb(5),m.vc("value",b.selectedTage)("compareWith",b.comparer),m.Cb(2),m.vc("ngIf",b.selectedTage&&b.selectedTage.length>0),m.Cb(1),m.vc("ngForOf",b.tags),m.Cb(7),m.vc("ngModel",b.task.task_name),m.Cb(2),m.Uc(b.task.task_name),m.Cb(1),m.vc("ngIf",i.hasError("required")),m.Cb(6),m.vc("min",b.minDate)("max",b.maxDate)("matDatepicker",c)("ngModel",b.task.start_date),m.Cb(2),m.vc("for",c),m.Cb(3),m.vc("ngIf",o.hasError("required")),m.Cb(5),m.vc("min",b.minDate)("max",b.maxDate)("matDatepicker",s)("ngModel",b.task.end_date),m.Cb(2),m.vc("for",s),m.Cb(3),m.vc("ngIf",r.hasError("required")),m.Cb(1),m.vc("ngIf",b.assignedUsers.length>0),m.Cb(5),m.vc("matAutocomplete",l)("formControl",b.fruitCtrl),m.Cb(3),m.vc("displayWith",b.displayFn),m.Cb(2),m.vc("ngForOf",b.searchUser),m.Cb(4),m.vc("ngModel",b.task.task_desc),m.Cb(2),m.Uc(b.task.task_desc),m.Cb(1),m.vc("ngIf",d.hasError("required")),m.Cb(5),m.vc("disabled",b.isLoading||a.invalid)}}var Jt,te=((Jt=function(){function t(e,n,a,i,o,c,s,l){_classCallCheck(this,t),this.ticketsService=e,this.commentService=n,this.projectsService=a,this.taskService=i,this._snackBar=o,this.dialogRef=c,this.dialog=s,this.data=[],this.toppings=new r.d,this.isLoading=!0,this.tickets=[],this.sankBardata={},this.fruitCtrl=new r.d,this.searchUser=[],this.assignedUsers=[],this.task={},this.tags=[{color:"#49b560",name:"Frontend"},{color:"#f44336",name:"Backend"},{color:"#ffb300",name:"API"},{color:"#0729ca",name:"Issue"},{color:"#d700ff",name:"Mobile"},{color:"#009cb5",name:"Future"},{color:"#000",name:"Other"}],this.taskList=["To Do","Inprogress","Done","Closed"],this.horizontalPos="right",this.verticalPos="top",this.selectable=!0,this.page=!0,this.removable=!0,this.selectedTage=[],this.data=l,this.task={_id:"",task_name:"",task_desc:"",assignedUsers:[],start_date:"",end_date:""},this.userId=this.commentService.getUserId(),this.viewpage="comments",console.log(this.data);var d=(new Date).getFullYear();this.minDate=new Date,this.maxDate=new Date(d+0,11,31),console.log(this.maxDate,this.minDate)}return _createClass(t,[{key:"ngOnInit",value:function(){this.data.task._id&&"update"==this.data.mode&&(this.task=this.data.task,this.selectedTage=this.data.task.tags,this.assignedUsers=this.data.task.assignedUsers),this.isLoading=!1}},{key:"comparer",value:function(t,e){return t&&e?t.name===e.name:e==e}},{key:"searchTickets",value:function(t){var e=this;this.isLoading=!0,t&&this.ticketsService.getTicketsByProjectId(0,1,t,this.data.task.projectId._id).subscribe((function(t){e.tickets=t.data,e.isLoading=!1}))}},{key:"searchUsers",value:function(t){if(t){var e=this.data.task.projectId.assignedUsers.filter((function(e){return e.first_name.toLowerCase().includes(t)||e.last_name.toLowerCase().includes(t)}));console.log(e),this.searchUser=e}}},{key:"displayFn",value:function(t){return t?t.first_name+" "+t.last_name:""}},{key:"onSelection",value:function(t){var e=t.option.value,n=this.assignedUsers.findIndex((function(t){return t._id===e._id}));console.log(n,e),-1==n?(this.assignedUsers.push(t.option.value),this.assigneeInput.nativeElement.value="",this.fruitCtrl.setValue(null)):(this.sankBardata.message="User Allready Exist in this Task.",this.openSnakBar(),this.fruitCtrl.setValue(null))}},{key:"displayFn1",value:function(t){return t?t.ticket_name:""}},{key:"selected",value:function(t){this.assignedUsers.push(t.option.viewValue),this.assignedUsers.nativeElement.value="",this.assignedUsers.setValue(null)}},{key:"remove",value:function(t){var e=this.assignedUsers.indexOf(t);e>=0&&this.assignedUsers.splice(e,1)}},{key:"openSnakBar",value:function(){var t=new b.b;t.verticalPosition=this.verticalPos,t.horizontalPosition=this.horizontalPos,t.duration=8e3,this._snackBar.open(this.sankBardata.message,"Ok",t)}},{key:"onCreate",value:function(t){var e=this;if(!t.invalid)if(this.isLoading=!0,"update"==this.data.mode)this.data.task.assignedUsers=this.assignedUsers,this.data.task.tags=this.selectedTage,this.taskService.updateTask(this.data.task).subscribe((function(t){e.isLoading=!1,e.sankBardata.message="Task Updated.",e.openSnakBar(),e.dialogRef.close()}),(function(t){e.isLoading=!1}));else{var n={};n.task_name=t.value.task_name,n.task_desc=t.value.task_desc,n.tags=this.selectedTage,n.start_date=new Date(t.value.start_date),n.end_date=new Date(t.value.end_date),n.assignedUsers=this.assignedUsers,n.pid=this.data.task.projectId._id,n.tid=this.data.task._id,this.taskService.addTask(n).subscribe((function(t){e.isLoading=!1,e.sankBardata.message="Task Created.",e.openSnakBar(),e.dialogRef.close()}),(function(t){e.isLoading=!1}))}}},{key:"moveTask",value:function(t){var e=this;t.invalid||(this.isLoading=!0,this.taskService.moveTasktoTicket(this.data.task,t.value).subscribe((function(t){e.sankBardata.message="Task Updated.",e.openSnakBar(),e.dialogRef.close()}),(function(t){e.isLoading=!1})))}},{key:"viewPage",value:function(){this.page=!this.page}},{key:"close",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||Jt)(m.Rb(bt),m.Rb(xt),m.Rb(_),m.Rb(wt),m.Rb(b.a),m.Rb(l.h),m.Rb(l.b),m.Rb(l.a))},Jt.\u0275cmp=m.Lb({type:Jt,selectors:[["app-common-popup"]],viewQuery:function(t,e){var n;1&t&&(m.Zc(Rt,!0),m.Zc(Ut,!0)),2&t&&(m.Fc(n=m.kc())&&(e.assigneeInput=n.first),m.Fc(n=m.kc())&&(e.matAutocomplete=n.first))},decls:3,vars:3,consts:[["class","example-margin","mode","indeterminate","diameter","20","value","20",4,"ngIf"],[4,"ngIf"],["mode","indeterminate","diameter","20","value","20",1,"example-margin"],["matTooltip","Move Task",2,"float","right",3,"click"],[3,"submit"],["moveTaskForm","ngForm"],["appearance","outline",1,"status_cus",2,"height","1px","top","-20px"],["type","text","name","ticketId","matInput","","placeholder","Serach Tickets...","required","",3,"ngModel","matAutocomplete","ngModelChange","keyup"],["assigneeInput",""],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"value"],["datae",""],["mat-dialog-title",""],[1,"row"],[1,"col-md-6"],["appearance","outline",2,"font-size","11px","width","49%","float","right"],["name","tags","placeholder","Choose tags","multiple","",3,"value","compareWith","valueChange"],["toppings",""],["createTaskForm","ngForm"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","cdkTextareaAutosize","","cdkAutosizeMinRows","1","cdkAutosizeMaxRows","5","name","task_name","type","text","placeholder","Task Title","required","",3,"ngModel","ngModelChange"],["nameInput","ngModel"],["matInput","","readonly","","name","start_date","placeholder","Select Start Date","required","",3,"min","max","matDatepicker","ngModel","ngModelChange"],["sdataInput","ngModel"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],["matInput","","readonly","","name","end_date","placeholder","Select Due Date","required","",3,"min","max","matDatepicker","ngModel","ngModelChange"],["edataInput","ngModel"],["picker1",""],["class","container",4,"ngIf"],["appearance","outline",2,"width","100%"],["type","text","matInput","","placeholder","New User...",3,"matAutocomplete","formControl","keyup"],["assigneeInput","","assigneeInput",""],[3,"displayWith","optionSelected"],["matInput","","name","task_desc","type","text","placeholder","Description","required","",3,"ngModel","ngModelChange"],["descInput","ngModel"],["mat-raised-button","","color","primary","matDialogClose","",3,"click"],["class","example-additional-selection",4,"ngIf"],[1,"example-additional-selection"],[1,"container"],["md-list-icon",""],["chipList",""],[3,"matTooltip","selectable","removable","removed",4,"ngFor","ngForOf"],[3,"matTooltip","selectable","removable","removed"],[1,"formate_chip"],["matChipRemove","",4,"ngIf"],["matChipRemove",""]],template:function(t,e){1&t&&(m.Rc(0,Dt,1,0,"mat-progress-spinner",0),m.Rc(1,Lt,25,5,"div",1),m.Rc(2,Qt,69,30,"div",1)),2&t&&(m.vc("ngIf",e.isLoading),m.Cb(1),m.vc("ngIf","info"==e.data.mode),m.Cb(1),m.vc("ngIf","add"==e.data.mode||"update"==e.data.mode))},directives:[i.m,H.a,M.a,Y.a,r.x,r.n,r.o,k.c,k.g,W.b,r.b,X.c,r.u,r.m,r.p,X.a,i.l,y.a,y.b,T.o,l.i,mt.a,l.f,jt.b,St.b,St.d,k.h,St.a,r.e,l.d,mt.c,k.b,P.b,P.a,P.c],styles:[".form[_ngcontent-%COMP%]{line-height:normal}mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}input[type=file][_ngcontent-%COMP%]{visibility:hidden}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),Jt),ee=n("MutI"),ne=n("STbY"),ae=["assigneeInput"],ie=["auto"];function oe(t,e){1&t&&m.Sb(0,"mat-progress-spinner",2)}function ce(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-chip",15),m.jc("click",(function(){m.Kc(n);var t=e.$implicit;return m.nc(2).filter(t)})),m.Xb(1,"a",16),m.Tc(2),m.Wb(),m.Wb()}if(2&t){var a=e.$implicit;m.yc("matTooltip","",a.first_name," ",a.last_name,""),m.Cb(2),m.Wc("",a.first_name," ",a.last_name,"")}}function re(t,e){1&t&&(m.Xb(0,"mat-icon",19),m.Tc(1,"cancel"),m.Wb())}function se(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-chip",17),m.jc("removed",(function(){return m.Kc(n),m.nc(2).removeFilter()})),m.Tc(1,"clear "),m.Rc(2,re,2,0,"mat-icon",18),m.Wb()}if(2&t){var a=m.nc(2);m.vc("selectable",a.selectable)("removable",a.removable),m.Cb(2),m.vc("ngIf",a.removable)}}function le(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Write Your Comment..."),m.Wb())}function de(t,e){if(1&t&&(m.Xb(0,"div",44),m.Xb(1,"a"),m.Tc(2),m.Wb(),m.Wb()),2&t){var n=m.nc(3);m.wc("matTooltip",n.selectedFileName),m.Cb(2),m.Uc(n.selectedFileName)}}function be(t,e){1&t&&m.Sb(0,"mat-progress-spinner",45)}function me(t,e){if(1&t&&(m.Xb(0,"div",48),m.Xb(1,"div",49),m.Xb(2,"span",50),m.Tc(3),m.Wb(),m.Xb(4,"p"),m.Tc(5),m.Wb(),m.Xb(6,"p"),m.Xb(7,"small"),m.Tc(8),m.oc(9,"date"),m.oc(10,"date"),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.nc().$implicit,a=m.nc(3);m.Cb(2),m.yc("matTooltip","",n.userId.first_name," ",n.userId.last_name,""),m.Cb(1),m.Uc(a.formateName(n.userId.first_name,n.userId.last_name)),m.Cb(2),m.Uc(n.comment),m.Cb(3),m.Wc("",m.qc(9,6,n.createdAt,"mediumDate")," at ",m.qc(10,9,n.createdAt,"shortTime"),"")}}function ue(t,e){if(1&t&&(m.Xb(0,"a",55),m.Xb(1,"mat-icon",56),m.Tc(2,"attachment"),m.Wb(),m.Wb()),2&t){var n=m.nc(2).$implicit,a=m.nc(3);m.wc("matTooltip",n.file_url),m.yc("href","",a.host_ip,"/uploads/",n.file_url,"",m.Lc)}}function ge(t,e){if(1&t&&(m.Xb(0,"div",51),m.Xb(1,"div",52),m.Xb(2,"span"),m.Xb(3,"p",53),m.Tc(4),m.Wb(),m.Wb(),m.Xb(5,"p"),m.Tc(6),m.Wb(),m.Xb(7,"p"),m.Rc(8,ue,3,3,"a",54),m.Xb(9,"small"),m.Tc(10),m.oc(11,"date"),m.oc(12,"date"),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.nc().$implicit,a=m.nc(3);m.Cb(3),m.yc("matTooltip","",n.first_name," ",n.last_name,""),m.Cb(1),m.Uc(a.formateName(n.userId.first_name,n.userId.last_name)),m.Cb(2),m.Uc(n.comment),m.Cb(2),m.vc("ngIf",n.file_url),m.Cb(2),m.Wc("",m.qc(11,7,n.createdAt,"mediumDate")," at ",m.qc(12,10,n.createdAt,"shortTime"),"")}}function pe(t,e){if(1&t&&(m.Xb(0,"div"),m.Rc(1,me,11,12,"div",46),m.Rc(2,ge,13,13,"div",47),m.Wb()),2&t){var n=e.$implicit,a=m.nc(3);m.Cb(1),m.vc("ngIf",a.userId!=n.userId._id),m.Cb(1),m.vc("ngIf",a.userId==n.userId._id)}}function fe(t,e){1&t&&(m.Xb(0,"div"),m.Tc(1,"No Comments Found..!"),m.Wb())}function he(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div"),m.Xb(1,"div",20),m.Xb(2,"div",21),m.Xb(3,"mat-icon"),m.Tc(4,"notes"),m.Wb(),m.Xb(5,"mat-label",22),m.Tc(6,"Description"),m.Wb(),m.Wb(),m.Xb(7,"div",23),m.Xb(8,"div",24),m.Xb(9,"pre"),m.Tc(10),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(11,"div",25),m.Xb(12,"form",26,27),m.jc("submit",(function(){m.Kc(n);var t=m.Gc(13);return m.nc(2).onComment(t)})),m.Xb(14,"div",20),m.Xb(15,"div",28),m.Xb(16,"mat-form-field",29),m.Xb(17,"mat-label"),m.Tc(18,"Your Comment"),m.Wb(),m.Xb(19,"textarea",30,31),m.jc("ngModelChange",(function(t){return m.Kc(n),m.nc(2).commentDataForm.comment=t})),m.Wb(),m.Xb(21,"mat-icon",32),m.Tc(22,"insert_comment"),m.Wb(),m.Rc(23,le,2,0,"mat-error",1),m.Wb(),m.Wb(),m.Xb(24,"div",33),m.Xb(25,"div"),m.Xb(26,"input",34,35),m.jc("change",(function(t){return m.Kc(n),m.nc(2).selectFile(t)})),m.Wb(),m.Xb(28,"a",36),m.jc("click",(function(){return m.Kc(n),m.Gc(27).click()})),m.Xb(29,"mat-icon",37),m.Tc(30,"attachment"),m.Wb(),m.Wb(),m.Xb(31,"button",38),m.Xb(32,"mat-icon",39),m.Tc(33,"send"),m.Wb(),m.Wb(),m.Wb(),m.Sb(34,"br"),m.Rc(35,de,3,2,"div",40),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(36,"div"),m.Xb(37,"div",41),m.Rc(38,be,1,0,"mat-progress-spinner",42),m.Wb(),m.Rc(39,pe,3,2,"div",43),m.Rc(40,fe,2,0,"div",1),m.Wb(),m.Wb()}if(2&t){var a=m.Gc(13),i=m.Gc(20),o=m.nc(2);m.Cb(10),m.Vc("",o.ticket.ticket_desc," "),m.Cb(9),m.vc("ngModel",o.commentDataForm.comment),m.Cb(4),m.vc("ngIf",i.hasError("required")),m.Cb(8),m.vc("disabled",o.isLoadingComments||a.invalid),m.Cb(4),m.vc("ngIf",o.selectedFileName),m.Cb(3),m.vc("ngIf",o.isLoadingComments),m.Cb(1),m.vc("ngForOf",o.comments),m.Cb(1),m.vc("ngIf",!o.isLoadingComments&&o.comments.length<=0)}}function ve(t,e){if(1&t&&(m.Xb(0,"p",69),m.Tc(1),m.Wb()),2&t){var n=m.nc(2).$implicit;m.Cb(1),m.Vc(" ",n.fileType," ")}}function Ce(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div"),m.Xb(1,"div",58),m.Xb(2,"a",59),m.Rc(3,ve,2,1,"p",60),m.Wb(),m.Xb(4,"p",61),m.Xb(5,"span",62),m.Tc(6),m.Wb(),m.Xb(7,"a",63),m.Sb(8,"span",64),m.Wb(),m.Xb(9,"span",65),m.Xb(10,"span"),m.Tc(11,"Added on"),m.Xb(12,"span",66),m.Tc(13),m.oc(14,"date"),m.oc(15,"date"),m.Wb(),m.Wb(),m.Xb(16,"span"),m.Xb(17,"a",67),m.Xb(18,"span",68),m.jc("click",(function(){m.Kc(n);var t=m.nc().$implicit;return m.nc(3).deleteAttachment(t._id,t.file_url)})),m.Tc(19,"Delete"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=m.nc().$implicit,i=m.nc(3);m.Cb(2),m.Pc("background-image: url(",i.host_ip,"/uploads/",a.file_url,");background-color: #5a5857;"),m.yc("href","",i.host_ip,"/uploads/",a.file_url,"",m.Lc),m.wc("title",a.file_url),m.Cb(1),m.vc("ngIf","jpg"!=a.fileType&&"gif"!=a.fileType&&"png"!=a.fileType&&"jpeg"!=a.fileType),m.Cb(3),m.Uc(a.file_url),m.Cb(7),m.Wc(" ",m.qc(14,11,a.createdAt,"mediumDate")," at ",m.qc(15,14,a.createdAt,"shortTime"),"")}}function _e(t,e){if(1&t&&(m.Xb(0,"div",25),m.Rc(1,Ce,20,17,"div",1),m.Wb()),2&t){var n=e.$implicit;m.Cb(1),m.vc("ngIf",n.fileType)}}function ke(t,e){if(1&t&&(m.Xb(0,"div"),m.Sb(1,"br"),m.Rc(2,_e,2,1,"div",57),m.Wb()),2&t){var n=m.nc(2);m.Cb(2),m.vc("ngForOf",n.comments)}}var We=function(t){return{active_tag:t}},Xe=function(t){return{color:t}};function ye(t,e){if(1&t){var n=m.Yb();m.Xb(0,"span",90),m.jc("click",(function(){m.Kc(n);var t=e.$implicit;return m.nc(3).changeTage(t)})),m.Tc(1),m.Wb()}if(2&t){var a=e.$implicit,i=m.nc(3);m.vc("ngClass",m.Ac(3,We,i.selectionFilter===a.name))("ngStyle",m.Ac(5,Xe,a.color)),m.Cb(1),m.Uc(a.name)}}function Me(t,e){1&t&&m.Sb(0,"mat-progress-spinner",45)}function Pe(t,e){1&t&&(m.Xb(0,"div",91),m.Tc(1,"No Tasks Found..!"),m.Wb())}function Te(t,e){if(1&t&&(m.Xb(0,"span",108),m.Tc(1),m.Wb()),2&t){var n=e.$implicit,a=m.nc(4);m.yc("matTooltip","",n.first_name," ",n.last_name,""),m.Cb(1),m.Uc(a.formateName(n.first_name,n.last_name))}}function Oe(t,e){if(1&t&&(m.Xb(0,"a",111),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.vc("ngStyle",m.Ac(2,Xe,n.color)),m.Cb(1),m.Uc(n.name)}}function xe(t,e){if(1&t&&(m.Xb(0,"div",109),m.Rc(1,Oe,2,4,"a",110),m.Wb()),2&t){var n=m.nc().$implicit;m.Cb(1),m.vc("ngForOf",n.tags)}}function Ie(t,e){if(1&t){var n=m.Yb();m.Xb(0,"button",107),m.jc("click",(function(){m.Kc(n);var t=m.nc().$implicit;return m.nc(3).onChangeStatus(t,"status","Pending")})),m.Xb(1,"mat-icon"),m.Tc(2,"check_box"),m.Wb(),m.Xb(3,"span"),m.Tc(4,"Mark as undone"),m.Wb(),m.Wb()}}function we(t,e){if(1&t){var n=m.Yb();m.Xb(0,"button",107),m.jc("click",(function(){m.Kc(n);var t=m.nc().$implicit;return m.nc(3).onChangeStatus(t,"status","Done")})),m.Xb(1,"mat-icon"),m.Tc(2,"check_box_outline_blank"),m.Wb(),m.Xb(3,"span"),m.Tc(4,"Mark as Done"),m.Wb(),m.Wb()}}function je(t,e){1&t&&(m.Xb(0,"span"),m.Tc(1,"Remove Starred"),m.Wb())}function Se(t,e){1&t&&(m.Xb(0,"span"),m.Tc(1,"Make as Starred"),m.Wb())}function Re(t,e){1&t&&(m.Xb(0,"span"),m.Tc(1,"Remove Priority"),m.Wb())}function Ue(t,e){1&t&&(m.Xb(0,"span"),m.Tc(1,"Mark as Priority"),m.Wb())}function De(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-card",92),m.Xb(1,"div",93),m.Xb(2,"div",94),m.Xb(3,"p",95),m.Tc(4),m.Wb(),m.Xb(5,"div",96),m.Tc(6),m.Wb(),m.Xb(7,"div",97),m.Rc(8,Te,2,3,"span",98),m.Xb(9,"span",99),m.jc("click",(function(){m.Kc(n);var t=e.$implicit;return m.nc(3).openDialog(t,"update")})),m.Xb(10,"a",100),m.Tc(11,"+"),m.Wb(),m.Wb(),m.Rc(12,xe,2,1,"div",101),m.Wb(),m.Wb(),m.Xb(13,"div",102),m.Xb(14,"mat-icon",77),m.jc("click",(function(){m.Kc(n);var t=e.$implicit;return m.nc(3).onChangeStatus(t,"priority",t.status)})),m.Tc(15,"error_outline"),m.Wb(),m.Xb(16,"mat-icon",74),m.jc("click",(function(){m.Kc(n);var t=e.$implicit;return m.nc(3).onChangeStatus(t,"starred",t.status)})),m.Tc(17,"star_border"),m.Wb(),m.Xb(18,"button",103),m.Xb(19,"mat-icon"),m.Tc(20,"more_vert"),m.Wb(),m.Wb(),m.Xb(21,"mat-menu",104,105),m.Rc(23,Ie,5,0,"button",106),m.Rc(24,we,5,0,"button",106),m.Xb(25,"button",107),m.jc("click",(function(){m.Kc(n);var t=e.$implicit;return m.nc(3).onChangeStatus(t,"starred",t.status)})),m.Xb(26,"mat-icon"),m.Tc(27,"star_border"),m.Wb(),m.Rc(28,je,2,0,"span",1),m.Rc(29,Se,2,0,"span",1),m.Wb(),m.Xb(30,"button",107),m.jc("click",(function(){m.Kc(n);var t=e.$implicit;return m.nc(3).onChangeStatus(t,"priority",t.status)})),m.Xb(31,"mat-icon"),m.Tc(32,"error_outline"),m.Wb(),m.Rc(33,Re,2,0,"span",1),m.Rc(34,Ue,2,0,"span",1),m.Wb(),m.Xb(35,"button",107),m.jc("click",(function(){m.Kc(n);var t=e.$implicit;return m.nc(3).openDialog(t,"info")})),m.Xb(36,"mat-icon"),m.Tc(37,"assignment_late"),m.Wb(),m.Xb(38,"span"),m.Tc(39,"Move to Other"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=e.$implicit,i=m.Gc(22);m.Cb(3),m.vc("ngClass","Done"==a.status?"task_done":" "),m.Cb(1),m.Vc(" ",a.task_name,""),m.Cb(1),m.vc("ngClass","Done"==a.status?"task_done":" "),m.Cb(1),m.Uc(a.task_desc),m.Cb(2),m.vc("ngForOf",a.assignedUsers),m.Cb(4),m.vc("ngIf",a.tags),m.Cb(2),m.vc("ngClass",a.task_priority?"priority_true":"priority_false"),m.Cb(2),m.vc("ngClass",a.starred?"starred_true":"starred_false"),m.Cb(2),m.vc("matMenuTriggerFor",i),m.Cb(5),m.vc("ngIf","Done"==a.status),m.Cb(1),m.vc("ngIf","Done"!=a.status),m.Cb(4),m.vc("ngIf",a.starred),m.Cb(1),m.vc("ngIf",!a.starred),m.Cb(4),m.vc("ngIf",a.task_priority),m.Cb(1),m.vc("ngIf",!a.task_priority)}}var Fe=function(t){return{active_filter:t}};function Le(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div",null,70),m.Xb(2,"div",25),m.Xb(3,"div",20),m.Xb(4,"div",71),m.Xb(5,"div",72),m.Xb(6,"div",73),m.Tc(7,"FILTERS"),m.Wb(),m.Xb(8,"mat-nav-list"),m.Xb(9,"mat-list-item",74),m.jc("click",(function(){return m.Kc(n),m.nc(2).changeFilter("all")})),m.Xb(10,"mat-icon"),m.Tc(11,"list"),m.Wb(),m.Sb(12,"div",75),m.Xb(13,"div",76),m.Xb(14,"span"),m.Tc(15,"All"),m.Wb(),m.Wb(),m.Wb(),m.Xb(16,"mat-list-item",74),m.jc("click",(function(){return m.Kc(n),m.nc(2).changeFilter("Starred")})),m.Xb(17,"mat-icon"),m.Tc(18,"star_border"),m.Wb(),m.Sb(19,"div",75),m.Xb(20,"div",76),m.Xb(21,"span"),m.Tc(22,"Starred"),m.Wb(),m.Wb(),m.Wb(),m.Xb(23,"mat-list-item",77),m.jc("click",(function(){return m.Kc(n),m.nc(2).changeFilter("Priority")})),m.Xb(24,"mat-icon"),m.Tc(25,"error"),m.Wb(),m.Sb(26,"div",75),m.Xb(27,"div",76),m.Xb(28,"span"),m.Tc(29,"Priority"),m.Wb(),m.Wb(),m.Wb(),m.Xb(30,"mat-list-item",78),m.jc("click",(function(){return m.Kc(n),m.nc(2).changeFilter("Sheduled")})),m.Xb(31,"mat-icon"),m.Tc(32,"schedule"),m.Wb(),m.Sb(33,"div",75),m.Xb(34,"div",76),m.Xb(35,"span"),m.Tc(36,"Sheduled"),m.Wb(),m.Wb(),m.Wb(),m.Xb(37,"mat-list-item",79),m.jc("click",(function(){return m.Kc(n),m.nc(2).changeFilter("Today")})),m.Xb(38,"mat-icon"),m.Tc(39,"today"),m.Wb(),m.Sb(40,"div",75),m.Xb(41,"div",76),m.Xb(42,"span"),m.Tc(43,"Today"),m.Wb(),m.Wb(),m.Wb(),m.Xb(44,"mat-list-item",80),m.jc("click",(function(){return m.Kc(n),m.nc(2).changeFilter("Done")})),m.Xb(45,"mat-icon"),m.Tc(46,"done"),m.Wb(),m.Sb(47,"div",75),m.Xb(48,"div",76),m.Xb(49,"span"),m.Tc(50,"Done"),m.Wb(),m.Wb(),m.Wb(),m.Xb(51,"mat-list-item",81),m.jc("click",(function(){return m.Kc(n),m.nc(2).changeFilter("Deleted")})),m.Xb(52,"mat-icon"),m.Tc(53,"delete"),m.Wb(),m.Sb(54,"div",75),m.Xb(55,"div",76),m.Xb(56,"span"),m.Tc(57,"Deleted"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(58,"div",82),m.Xb(59,"div",83),m.Xb(60,"a"),m.Rc(61,ye,2,7,"span",84),m.Wb(),m.Xb(62,"button",85),m.jc("click",(function(){m.Kc(n);var t=m.nc(2);return t.openDialog(t.ticket,"add")})),m.Xb(63,"mat-icon"),m.Tc(64,"add"),m.Wb(),m.Wb(),m.Wb(),m.Xb(65,"div",41),m.Rc(66,Me,1,0,"mat-progress-spinner",42),m.Wb(),m.Xb(67,"div",86),m.Rc(68,Pe,2,0,"div",87),m.Sb(69,"span",88),m.Rc(70,De,40,15,"mat-card",89),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=m.nc(2);m.Cb(9),m.vc("ngClass",m.Ac(11,Fe,"all"===a.selectionFilter)),m.Cb(7),m.vc("ngClass",m.Ac(13,Fe,"Starred"===a.selectionFilter)),m.Cb(7),m.vc("ngClass",m.Ac(15,Fe,"Priority"===a.selectionFilter)),m.Cb(7),m.vc("ngClass",m.Ac(17,Fe,"Sheduled"===a.selectionFilter)),m.Cb(7),m.vc("ngClass",m.Ac(19,Fe,"Today"===a.selectionFilter)),m.Cb(7),m.vc("ngClass",m.Ac(21,Fe,"Done"===a.selectionFilter)),m.Cb(7),m.vc("ngClass",m.Ac(23,Fe,"Deleted"===a.selectionFilter)),m.Cb(10),m.vc("ngForOf",a.tags),m.Cb(5),m.vc("ngIf",a.isLoadingTask),m.Cb(2),m.vc("ngIf",a.tasks.length<=0&&!a.isLoadingTask),m.Cb(2),m.vc("ngForOf",a.tasks)}}var Ae=function(t){return{tab_btn_active:t}};function ze(t,e){if(1&t){var n=m.Yb();m.Xb(0,"div"),m.Xb(1,"div",3),m.Xb(2,"div"),m.Xb(3,"button",4),m.jc("click",(function(){return m.Kc(n),m.nc().close()})),m.Xb(4,"mat-icon"),m.Tc(5,"close"),m.Wb(),m.Wb(),m.Wb(),m.Xb(6,"div",5),m.Xb(7,"mat-icon"),m.Tc(8,"subtitles"),m.Wb(),m.Tc(9),m.Wb(),m.Xb(10,"div",6),m.Xb(11,"div",7),m.Xb(12,"button",8),m.jc("click",(function(){return m.Kc(n),m.nc().viewPage("comments")})),m.Xb(13,"mat-icon",9),m.Tc(14,"chat"),m.Wb(),m.Tc(15," Comments"),m.Wb(),m.Wb(),m.Xb(16,"div",7),m.Xb(17,"button",8),m.jc("click",(function(){return m.Kc(n),m.nc().viewPage("attachments")})),m.Xb(18,"mat-icon",9),m.Tc(19,"attachment"),m.Wb(),m.Tc(20," Attachments"),m.Wb(),m.Wb(),m.Xb(21,"div",7),m.Xb(22,"button",8),m.jc("click",(function(){return m.Kc(n),m.nc().viewPage("tasks")})),m.Xb(23,"mat-icon",9),m.Tc(24,"list"),m.Wb(),m.Tc(25," Tasks"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(26,"div",10),m.Xb(27,"div"),m.Xb(28,"mat-chip-list",null,11),m.Xb(30,"button",12),m.Xb(31,"mat-icon",9),m.Tc(32,"group"),m.Wb(),m.Wb(),m.Rc(33,ce,3,4,"mat-chip",13),m.Rc(34,se,3,3,"mat-chip",14),m.Wb(),m.Wb(),m.Rc(35,he,41,8,"div",1),m.Rc(36,ke,3,1,"div",1),m.Rc(37,Le,71,25,"div",1),m.Wb(),m.Wb()}if(2&t){var a=m.nc();m.Cb(9),m.Vc(" ",a.ticket.ticket_name," "),m.Cb(3),m.vc("ngClass",m.Ac(9,Ae,"comments"===a.viewpage)),m.Cb(5),m.vc("ngClass",m.Ac(11,Ae,"attachments"===a.viewpage)),m.Cb(5),m.vc("ngClass",m.Ac(13,Ae,"tasks"===a.viewpage)),m.Cb(11),m.vc("ngForOf",a.ticket.projectId.assignedUsers),m.Cb(1),m.vc("ngIf",a.clearFilter&&"tasks"==a.viewpage),m.Cb(1),m.vc("ngIf","comments"===a.viewpage),m.Cb(1),m.vc("ngIf","attachments"===a.viewpage),m.Cb(1),m.vc("ngIf","tasks"===a.viewpage)}}var Ee,Be=((Ee=function(){function t(e,n,a,i,o,c,s,l){_classCallCheck(this,t),this.ticketsService=e,this.commentService=n,this.projectsService=a,this.taskService=i,this._snackBar=o,this.dialogRef=c,this.dialog=s,this.ticket=[],this.comments=[],this.tasks=[],this.data=[],this.viewpage="tasks",this.isLoading=!0,this.host_ip=p.a.ip,this.visible=!1,this.isEdit=!1,this.selectable=!0,this.removable=!0,this.selectionFilter="all",this.editable=!0,this.selectedFiles=[],this.attachment=[],this.editSingleTaskForm={task_name:"",assignedUsers:[],id:""},this.commentDataForm={comment:"",assignedUsers:[],id:""},this.separatorKeysCodes=[d.g,d.c],this.fruitCtrl=new r.d,this.isLoadingComments=!0,this.isLoadingTask=!0,this.perPage=50,this.currentPage=1,this.Count=0,this.searchUser=[],this.assignedUsers=[],this.clearFilter=!1,this.sizeOptions=[10,20,50],this.sankBardata={},this.horizontalPos="right",this.verticalPos="top",this.taskList=["To Do","Inprogress","Done","Closed"],this.tags=[{color:"#49b560",name:"Frontend"},{color:"#f44336",name:"Backend"},{color:"#ffb300",name:"API"},{color:"#0729ca",name:"Issue"},{color:"#d700ff",name:"Mobile"},{color:"#009cb5",name:"Future"},{color:"#000",name:"Other"}],this.data=l,this.userId=this.commentService.getUserId(),this.viewpage="comments"}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.ticketsService.getTicketById(this.data.tid).subscribe((function(e){t.ticket=e.data[0],t.isLoading=!1,t.getComments()}))}},{key:"getComments",value:function(){var t=this;this.commentService.getCommentsByTicketId(this.perPage,this.currentPage,this.search,this.data.tid).subscribe((function(e){t.comments=e.data,t.isLoadingComments=!1}))}},{key:"selectFile",value:function(t){this.selectedFiles=t.target.files[0],console.log(this.selectedFiles),this.selectedFileName=this.selectedFiles.name,this.fileType=this.selectedFiles.name.split(".")[1]}},{key:"deleteAttachment",value:function(t,e){var n=this;console.log(t,e),this.commentService.deleteFile(t,e).subscribe((function(t){n.comments=t.data,n.getComments()}))}},{key:"changeFilter",value:function(t){var e=this;this.isLoadingTask=!0,this.selectionFilter=t,this.taskService.getTaskByTicketId(this.perPage,this.currentPage,this.search,this.data.tid,{userId:null,filter:t}).subscribe((function(t){e.tasks=t.data,e.isLoadingTask=!1,e.clearFilter=!1,document.getElementById("task").scrollIntoView()}))}},{key:"changeTage",value:function(t){var e=this;this.isLoadingTask=!0,this.clearFilter=!0,this.selectionFilter=t.name,this.taskService.getTaskByTicketId(this.perPage,this.currentPage,this.search,this.data.tid,{userId:null,filter:null,tage:t.name}).subscribe((function(t){e.tasks=t.data,e.isLoadingTask=!1,document.getElementById("task").scrollIntoView()}))}},{key:"getTasks",value:function(){var t=this;this.taskService.getTaskByTicketId(this.perPage,this.currentPage,this.search,this.data.tid,{userId:null,filter:null,tage:null}).subscribe((function(e){t.tasks=e.data,t.isLoadingTask=!1}))}},{key:"viewPage",value:function(t){this.viewpage=t,"comments"==t?(this.isLoadingComments=!0,this.getComments()):"attachments"==t?this.getTasks():"tasks"==t&&(this.isLoadingTask=!0,this.getTasks())}},{key:"assignUsers",value:function(t){this.visible=!t}},{key:"onComment",value:function(t){var e=this;this.isLoadingComments=!0;var n={};n.comment=t.value.comment,n.pid=this.ticket.projectId._id,n.tid=this.ticket._id,n.file=this.selectedFiles,n.filename=this.selectedFiles.name,n.fileType=this.fileType,this.commentService.addComment(n).subscribe((function(n){e.isLoadingComments=!1,e.selectedFileName="",e.selectedFiles=[],e.fileType="",e.getComments(),t.reset()}),(function(t){e.isLoadingComments=!1}))}},{key:"searchUsers",value:function(t){if(t){var e=this.ticket.projectId.assignedUsers.filter((function(e){return e.first_name.toLowerCase().includes(t)||e.last_name.toLowerCase().includes(t)}));console.log(e),this.searchUser=e}}},{key:"displayFn",value:function(t){return t?t.first_name+" "+t.last_name:""}},{key:"onSelection",value:function(t){var e=t.option.value,n=this.assignedUsers.findIndex((function(t){return t._id===e._id}));console.log(n,e),-1==n?(this.assignedUsers.push(t.option.value),this.assigneeInput.nativeElement.value="",this.fruitCtrl.setValue(null)):(this.sankBardata.message="User Allready Exist in this Task.",this.openSnakBar(),this.fruitCtrl.setValue(null))}},{key:"selected",value:function(t){this.assignedUsers.push(t.option.viewValue),this.assignedUsers.nativeElement.value="",this.assignedUsers.setValue(null)}},{key:"remove",value:function(t){var e=this.assignedUsers.indexOf(t);e>=0&&this.assignedUsers.splice(e,1)}},{key:"close",value:function(){this.dialogRef.close()}},{key:"filter",value:function(t){var e=this;this.isLoadingTask=!0,this.taskService.getTaskByTicketId(this.perPage,this.currentPage,this.search,this.data.tid,{userId:t._id}).subscribe((function(t){e.tasks=t.data,e.isLoadingTask=!1,e.clearFilter=!0,document.getElementById("task").scrollIntoView()}))}},{key:"removeFilter",value:function(){this.isLoadingTask=!0,this.clearFilter=!1,this.getTasks()}},{key:"openSnakBar",value:function(){var t=new b.b;t.verticalPosition=this.verticalPos,t.horizontalPosition=this.horizontalPos,t.duration=8e3,this._snackBar.open(this.sankBardata.message,"Ok",t)}},{key:"formateName",value:function(t,e){return t.charAt(0).toUpperCase()+e.charAt(0).toUpperCase()}},{key:"editTask",value:function(t){console.log(t),this.editSingleTaskForm=t,this.isEdit=!0}},{key:"onEdit",value:function(t,e){var n=this;console.log(t,e.target.innerText,"000000"),t.task_name=e.target.innerText,this.taskService.updateTask(t).subscribe((function(t){n.assignedUsers=[],n.sankBardata.message="Task Updated.",n.openSnakBar(),n.visible=!1,n.getTasks()}))}},{key:"onChangeStatus",value:function(t,e,n){var a=this,i={id:t._id};console.log(t,n,e),"priority"==e?(i.task_priority=!t.task_priority,i.status=t.status,i.starred=t.starred):"starred"==e?(i.starred=!t.starred,i.task_priority=t.task_priority,i.status=t.status):(i.starred=t.starred,i.status=n,i.task_priority=t.task_priority),this.taskService.updateTaskStatus(i).subscribe((function(t){a.getTasks()}))}},{key:"openDialog",value:function(t,e){var n=this,a=new l.e;a.disableClose=!1,a.autoFocus=!0,a.width="620px",a.backdropClass="background-color:#000",a.data={task:t,mode:e},this.dialog.open(te,a).afterClosed().subscribe((function(t){n.isLoadingTask=!0,n.getTasks()}))}}]),t}()).\u0275fac=function(t){return new(t||Ee)(m.Rb(bt),m.Rb(xt),m.Rb(_),m.Rb(wt),m.Rb(b.a),m.Rb(l.h),m.Rb(l.b),m.Rb(l.a))},Ee.\u0275cmp=m.Lb({type:Ee,selectors:[["app-comments"]],viewQuery:function(t,e){var n;1&t&&(m.Zc(ae,!0),m.Zc(ie,!0)),2&t&&(m.Fc(n=m.kc())&&(e.assigneeInput=n.first),m.Fc(n=m.kc())&&(e.matAutocomplete=n.first))},decls:2,vars:2,consts:[["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],[4,"ngIf"],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],["mat-dialog-title",""],["matDialogClose","","mat-mini-fab","",2,"float","right",3,"click"],[2,"font-size","19px"],[1,"row",2,"text-align","center"],[1,"col-md-4","col-sm-12"],["mat-button","",1,"tab_btn",3,"ngClass","click"],["md-list-icon",""],["mat-dialog-content","",1,"font"],["chipList",""],["mat-button","","matTooltip","Assigned Users"],[3,"matTooltip","click",4,"ngFor","ngForOf"],["style","width:70px;",3,"selectable","removable","removed",4,"ngIf"],[3,"matTooltip","click"],[1,"formate_chip"],[2,"width","70px",3,"selectable","removable","removed"],["matChipRemove","",4,"ngIf"],["matChipRemove",""],[1,"row"],[1,"col-md-2"],[1,"mat_label"],[1,"col-md-10"],[1,"mat-desc"],[1,"container"],[3,"submit"],["commentForm","ngForm"],[1,"col-md-9"],["appearance","outline"],["matInput","","name","comment","type","text","placeholder","Write Comment Here ...","required","",3,"ngModel","ngModelChange"],["descInput","ngModel"],["matSuffix",""],[1,"col-md-3",2,"text-align","left"],["type","file",2,"width","40px",3,"change"],["filePicker",""],["mat-stroked-button","",1,"comment_btn",3,"click"],["matTooltip","Attachment","matSuffix",""],["mat-stroked-button","","color","primary",1,"comment_btn",3,"disabled"],["matTooltip","Save Your Comment","type","submit","matSuffix",""],["class","file_name",3,"matTooltip",4,"ngIf"],[1,"spinner_center"],["class","example-margin","mode","indeterminate","diameter","20","value","20",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"file_name",3,"matTooltip"],["mode","indeterminate","diameter","20","value","20",1,"example-margin"],["class","msj macro",4,"ngIf"],["class","msj-rta macro",4,"ngIf"],[1,"msj","macro"],[1,"text","text-l"],[1,"img-circle",3,"matTooltip"],[1,"msj-rta","macro"],[1,"text","text-r"],[1,"img-circle",2,"float","right","padding","5px",3,"matTooltip"],["target","_blank",3,"matTooltip","href",4,"ngIf"],["target","_blank",3,"matTooltip","href"],["md-list-icon","",2,"font-size","16px","float","left"],["class","container",4,"ngFor","ngForOf"],[1,"attachment-thumbnail"],["target","_blank",1,"attachment-thumbnail-preview","js-open-viewer","attachment-thumbnail-preview-is-cover",3,"href","title"],["class","file_type",4,"ngIf"],[1,"attachment-thumbnail-details","js-open-viewer"],[1,"attachment-thumbnail-name"],["href","","target","_blank","rel","noreferrer nofollow noopener",1,"attachment-thumbnail-details-title-action","dark-hover","js-attachment-action","js-direct-link"],[1,"icon-sm","icon-external-link"],[1,"u-block","quiet","attachment-thumbnail-details-title-options"],["dt","2020-01-08T10:23:41.360Z","title","January 8, 2020 3:50 PM",1,"date"],[1,"attachment-thumbnail-details-title-options-item","dark-hover","js-confirm-delete"],["mat-button","",1,"del_att",3,"click"],[1,"file_type"],["top",""],[1,"side_nav_filter"],[2,"background-color","#eaeaea","height","100%","border-radius","7px"],[2,"padding","0px 15px 0px 18px"],["matTooltip","Starred",3,"ngClass","click"],["fxFlex","10"],[1,"sidenav-item"],["matTooltip","Priority",3,"ngClass","click"],["matTooltip","Sheduled",3,"ngClass","click"],["matTooltip","Today",3,"ngClass","click"],["matTooltip","Done",3,"ngClass","click"],["matTooltip","Deleted",3,"ngClass","click"],[1,"side_nav_content"],["matTooltip","Tags",1,"tags"],["class","tag",3,"ngClass","ngStyle","click",4,"ngFor","ngForOf"],["matTooltip","Add New Task","mat-mini-fab","",2,"float","right",3,"click"],[2,"max-height","335px","overflow-y","scroll","height","335px"],["style","text-align: center;",4,"ngIf"],["id","task"],["class","task_matcard",4,"ngFor","ngForOf"],[1,"tag",3,"ngClass","ngStyle","click"],[2,"text-align","center"],[1,"task_matcard"],[1,"task_task"],[2,"flex","1 1 0%","box-sizing","border-box"],[2,"font-size","15px","font-weight","600",3,"ngClass"],[2,"margin-top","4px",3,"ngClass"],[2,"padding","11px 0px 3px 0px"],["class","name_circle",3,"matTooltip",4,"ngFor","ngForOf"],["matTooltip","Add New User",3,"click"],[2,"font-size","12px"],["class","tags","style","flex-flow: row wrap; box-sizing: border-box; display: flex; place-content: center flex-start; align-items: center;",4,"ngIf"],[1,"task_tags"],["matTooltip","Change Task Status (or) Move","mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["xPosition","before"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["mat-menu-item","",3,"click"],[1,"name_circle",3,"matTooltip"],[1,"tags",2,"flex-flow","row wrap","box-sizing","border-box","display","flex","place-content","center flex-start","align-items","center"],["class","tag",3,"ngStyle",4,"ngFor","ngForOf"],[1,"tag",3,"ngStyle"]],template:function(t,e){1&t&&(m.Rc(0,oe,1,0,"mat-progress-spinner",0),m.Rc(1,ze,38,15,"div",1)),2&t&&(m.vc("ngIf",e.isLoading),m.Cb(1),m.vc("ngIf",!e.isLoading))},directives:[i.m,H.a,l.i,y.b,l.d,M.a,i.k,l.f,P.b,Y.a,i.l,P.a,P.c,k.g,r.x,r.n,r.o,k.c,W.b,r.b,r.u,r.m,r.p,k.h,y.a,k.b,ee.c,ee.a,i.n,N.a,ne.c,ne.d,ne.a],pipes:[i.e],styles:['.form[_ngcontent-%COMP%]{line-height:normal}mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}.mat-fab.mat-accent[_ngcontent-%COMP%], .mat-flat-button.mat-accent[_ngcontent-%COMP%], .mat-mini-fab.mat-accent[_ngcontent-%COMP%], .mat-raised-button.mat-accent[_ngcontent-%COMP%]{background-color:#fff;color:#f89b46}.mat-fab.mat-accent[_ngcontent-%COMP%], .mat-flat-button.mat-accent[_ngcontent-%COMP%], .mat-mini-fab.mat-accent[_ngcontent-%COMP%]:hover, .mat-raised-button.mat-accent[_ngcontent-%COMP%]{background-color:#f89b46;color:#fff}.mat-button.mat-primary[_ngcontent-%COMP%], .mat-icon-button.mat-primary[_ngcontent-%COMP%], .mat-stroked-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff;color:#f89b46}.mat-button.mat-primary[_ngcontent-%COMP%], .mat-icon-button.mat-primary[_ngcontent-%COMP%], .mat-stroked-button.mat-primary[_ngcontent-%COMP%]:hover{background-color:#f89b46;color:#fff}.comment_btn[_ngcontent-%COMP%]{border-radius:17px}body[_ngcontent-%COMP%]{font:12px/1.5 PT Sans,serif;margin:25px}.tags[_ngcontent-%COMP%]{list-style:none;margin:0;overflow:hidden;padding:10px}.tags[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{float:left}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%], .mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]{display:block;height:40px;-webkit-tap-highlight-color:transparent;width:100%;padding:0;position:relative}.side_nav_filter[_ngcontent-%COMP%]{width:185px;height:394px;padding:4px}.side_nav_content[_ngcontent-%COMP%]{width:710px}.active_filter[_ngcontent-%COMP%], .active_tag[_ngcontent-%COMP%]{background-color:#eee}.priority_true[_ngcontent-%COMP%]{color:red!important}.priority_false[_ngcontent-%COMP%]{color:#000!important}.starred_true[_ngcontent-%COMP%]{color:#ffc107!important}.starred_false[_ngcontent-%COMP%]{color:#000!important}.spinner_center[_ngcontent-%COMP%]{display:flex;justify-content:center}.tag[_ngcontent-%COMP%]{background:#eee;border-radius:3px 0 0 3px;color:#000;display:inline-block;height:26px;line-height:26px;padding:0 15px 0 18px;position:relative;margin:0 4px 0 0;text-decoration:none}.tag[_ngcontent-%COMP%]:before{border-radius:10px;box-shadow:inset 0 1px rgba(0,0,0,.25);height:6px;left:10px;width:6px;top:10px}.tag[_ngcontent-%COMP%]:after, .tag[_ngcontent-%COMP%]:before{background:#fff;content:"";position:absolute}.tag[_ngcontent-%COMP%]:after{border-bottom:13px solid transparent;border-left:10px solid #eee;border-top:13px solid transparent;right:0;top:0}.task_done[_ngcontent-%COMP%]{text-decoration:line-through}.tag[_ngcontent-%COMP%]:hover{background-color:#fff;color:#fff}.tag[_ngcontent-%COMP%]:hover:after{border-left-color:#fff}.task_matcard[_ngcontent-%COMP%]{display:block;background-color:#fff;position:relative;padding:16px 16px 0 8px;border-bottom:1px solid;text-transform:none;cursor:pointer;flex-shrink:0}mat-list-item[_ngcontent-%COMP%]{border-radius:25px!important;margin:1px}.task_tages[_ngcontent-%COMP%]{flex-direction:row}.task_tages[_ngcontent-%COMP%], .task_task[_ngcontent-%COMP%]{box-sizing:border-box;display:flex;place-content:center flex-start;align-items:center}.task_task[_ngcontent-%COMP%]{flex-direction:row;flex:1 1 0%}.sidenav-item[_ngcontent-%COMP%]{padding:15px;font-size:15px}.msg_send_btn[_ngcontent-%COMP%]{background:#05728f none repeat scroll 0 0;border:none;border-radius:50%;color:#fff;cursor:pointer;font-size:17px;height:33px;position:absolute;right:0;top:11px;width:33px}.mat-desc[_ngcontent-%COMP%]{font:400 14px/24px Roboto,Helvetica Neue,sans-serif;letter-spacing:inherit}.mat_label[_ngcontent-%COMP%]{font-weight:500;font-size:18px}.avatar_l[_ngcontent-%COMP%]{justify-content:left}.avatar_l[_ngcontent-%COMP%], .avatar_r[_ngcontent-%COMP%]{display:flex;align-items:center;width:25%;float:left;padding-right:10px}.avatar_r[_ngcontent-%COMP%]{justify-content:flex-end}.mytext[_ngcontent-%COMP%]{border:0;padding:10px;background:#f5f5f5}.text[_ngcontent-%COMP%]{width:100%;display:flex;flex-direction:column}.text[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:first-of-type{width:100%;margin-top:0;margin-bottom:auto;line-height:13px;font-size:14px}.text[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]:last-of-type{width:100%;text-align:right;color:silver;margin-bottom:-7px;margin-top:auto}.text-l[_ngcontent-%COMP%]{float:left;padding-right:10px}.text-r[_ngcontent-%COMP%]{float:right;padding-left:10px}.avatar[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:25%;float:left;padding-right:10px}.macro[_ngcontent-%COMP%]{margin-top:5px;width:65%;border-radius:5px;padding:5px;display:flex}.msj-rta[_ngcontent-%COMP%]{float:right;background:#e0e0de}.msj[_ngcontent-%COMP%]{float:left;background:#fbe8d6}.frame[_ngcontent-%COMP%]{background:#e0e0de;height:450px;overflow:hidden;padding:0}.frame[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-of-type{position:absolute;bottom:0;width:100%;display:flex}.small[_ngcontent-%COMP%], small[_ngcontent-%COMP%]{font-size:90%;font-weight:500;color:#000}.msj[_ngcontent-%COMP%]:before{left:-14px;border-color:transparent #fbe8d6 transparent transparent;border-width:0 13px 13px 0}.msj-rta[_ngcontent-%COMP%]:after, .msj[_ngcontent-%COMP%]:before{width:0;height:0;content:"";top:-5px;position:relative;border-style:solid}.msj-rta[_ngcontent-%COMP%]:after{left:15px;border-color:#e0e0de transparent transparent;border-width:13px 13px 0 0}input[_ngcontent-%COMP%]:focus{outline:none}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#d4d4d4}[_ngcontent-%COMP%]::-moz-placeholder{color:#d4d4d4}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#d4d4d4}[_ngcontent-%COMP%]:-moz-placeholder{color:#d4d4d4}.mat-chip[_ngcontent-%COMP%], .mat-chip-ripple[_ngcontent-%COMP%]{white-space:nowrap;width:113px;overflow:hidden;text-overflow:ellipsis}.formate_chip[_ngcontent-%COMP%]{white-space:nowrap!important;width:100px!important;overflow:hidden!important;text-overflow:ellipsis!important}.btn_list[_ngcontent-%COMP%]{width:15%;margin:6px 15px 1px 11px;border:.6px solid #000}.ribbon[_ngcontent-%COMP%]{width:0;height:0;content:"";top:-5px;left:15px;position:relative;border-color:#e0e0de transparent transparent;border-style:solid;border-width:13px 13px 0 0}.img-circle[_ngcontent-%COMP%]{padding:7px}.img-circle[_ngcontent-%COMP%], .img-circle1[_ngcontent-%COMP%]{background-color:#fdfdfd;width:30px;font-weight:800;height:30px;border-radius:14px;text-align:center}.img-circle1[_ngcontent-%COMP%]{padding:5px}.task_card[_ngcontent-%COMP%]{margin:5px 48px;background:#eceaea;min-height:auto;height:50px}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item.mat-3-line[_ngcontent-%COMP%], .mat-list-base[_ngcontent-%COMP%]   .mat-list-option.mat-3-line[_ngcontent-%COMP%]{border:1px solid #b7b6b6;height:88px;background:#fff;top:6px;margin:0 0 8px 2px;border-radius:10px}.mat-list-base[_ngcontent-%COMP%]   .mat-list-item[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%], .mat-list-base[_ngcontent-%COMP%]   .mat-list-option[_ngcontent-%COMP%]   .mat-list-item-content[_ngcontent-%COMP%]:hover{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;background:#e0e0de;position:relative;height:inherit}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%]{flex-basis:0}.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%]{justify-content:space-between;align-items:center}.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] + .mat-form-field[_ngcontent-%COMP%]{margin-left:8px}.btn[_ngcontent-%COMP%]{cursor:pointer}.full-width[_ngcontent-%COMP%]{width:80%;margin-top:20px}.example-spacer[_ngcontent-%COMP%]{flex:1 1 auto}.todoitem[_ngcontent-%COMP%]{margin:5px 0;color:#171717;text-overflow:ellipsis;border-radius:8px}.done-true[_ngcontent-%COMP%]{-webkit-text-decoration:line-through #d50000;text-decoration:line-through #d50000}.done-false[_ngcontent-%COMP%]{text-decoration:none}section[_ngcontent-%COMP%]{display:table;margin:8px}.example-label[_ngcontent-%COMP%]{font-size:14px;margin-left:8px;width:120px}.example-button-row[_ngcontent-%COMP%], .example-label[_ngcontent-%COMP%]{display:table-cell}.example-button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:table-cell;margin-right:8px}.example-flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:480px}.example-button-container[_ngcontent-%COMP%]{display:flex;justify-content:center;width:120px}.name_circle[_ngcontent-%COMP%]{padding:9px;background:#a9a9a9;color:#000;font:10px Arial,sans-serif}.name_circle[_ngcontent-%COMP%], .name_circle[_ngcontent-%COMP%]:hover{border-radius:50%;text-align:center}.name_circle[_ngcontent-%COMP%]:hover{padding:10px;background:#fff;color:#f89b46;font:11px Arial,sans-serif}.attachment-thumbnail[_ngcontent-%COMP%]{border-radius:3px;min-height:80px;margin:0 0 8px;overflow:hidden;position:relative}.attachment-thumbnail-preview[_ngcontent-%COMP%]{background-color:rgba(9,30,66,.04);background-position:50%;background-size:contain;background-repeat:no-repeat;border-radius:3px;height:80px;margin-top:-40px;position:absolute;top:50%;left:0;text-align:center;text-decoration:none;z-index:1;width:112px}.attachment-thumbnail-details[_ngcontent-%COMP%]{box-sizing:border-box;cursor:pointer;padding:8px 8px 8px 128px;min-height:80px;margin:0;z-index:0}pre[_ngcontent-%COMP%]{white-space:pre-wrap;font-family:Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:15px;line-height:20px;color:#000;font-weight:500}.tab_btn[_ngcontent-%COMP%]{width:100%;color:#af9c9c}.file_type[_ngcontent-%COMP%]{font-size:27px;color:#fff;margin-top:15px!important}.tab_btn_active[_ngcontent-%COMP%]{width:100%;background-color:#dedede}.del_att[_ngcontent-%COMP%]{color:#fff;border:.1px solid;background:#e99446;border-radius:7px;padding:4px;margin:8px}input[type=file][_ngcontent-%COMP%]{visibility:hidden}.attachment-thumbnail-details[_ngcontent-%COMP%]   .attachment-thumbnail-name[_ngcontent-%COMP%]{font-weight:700;word-wrap:break-word}.attachment-thumbnail-details-title-action[_ngcontent-%COMP%]{padding-left:3px}.attachment-thumbnail-details-title-options[_ngcontent-%COMP%]{margin-bottom:8px}.file_name[_ngcontent-%COMP%]{white-space:nowrap;width:200px;overflow:hidden;text-overflow:ellipsis}@media (min-width:1025px) and (max-width:1280px){.side_nav_filter[_ngcontent-%COMP%]{width:185px;height:394px;padding:4px}.side_nav_content[_ngcontent-%COMP%]{width:722px}}@media (min-width:768px) and (max-width:1024px){.side_nav_filter[_ngcontent-%COMP%]{width:150px;height:394px;padding:4px}.side_nav_content[_ngcontent-%COMP%]{width:600px}}@media (min-width:767px) and (max-width:1023px) and (orientation:landscape){.side_nav_filter[_ngcontent-%COMP%]{width:130px;height:394px;padding:4px}.side_nav_content[_ngcontent-%COMP%]{width:430px}}']}),Ee),qe=n("qb46"),Ke=n("+0xr");function $e(t,e){if(1&t&&(m.Xb(0,"div"),m.Sb(1,"canvas",29),m.Wb()),2&t){var n=m.nc();m.Cb(1),m.vc("datasets",n.ChartData)("labels",n.Labels)("options",n.ChartOptions)("legend",n.ChartLegend)("chartType",n.ChartType)}}function Ge(t,e){1&t&&(m.Xb(0,"th",30),m.Tc(1," Ticket "),m.Wb())}function Ve(t,e){if(1&t&&(m.Xb(0,"td",31),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.wc("matTooltip",n.ticket_name),m.Cb(1),m.Vc(" ",n.ticket_name," ")}}function Ne(t,e){1&t&&(m.Xb(0,"th",32),m.Tc(1," Created At "),m.Wb())}function Ye(t,e){if(1&t&&(m.Xb(0,"td",31),m.oc(1,"date"),m.Tc(2),m.oc(3,"date"),m.Wb()),2&t){var n=e.$implicit;m.xc("matTooltip","Last Updated By ",m.qc(1,2,n.updatedAt,"medium"),""),m.Cb(2),m.Vc(" ",m.qc(3,5,n.createdAt,"medium")," ")}}function He(t,e){1&t&&(m.Xb(0,"th",32),m.Tc(1,"Status "),m.Wb())}function Ze(t,e){if(1&t&&(m.Xb(0,"mat-option",38),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.vc("value",n),m.Cb(1),m.Vc(" ",n," ")}}function Qe(t,e){if(1&t){var n=m.Yb();m.Xb(0,"td",33),m.Xb(1,"mat-form-field",34),m.Xb(2,"mat-label"),m.Tc(3,"Ticket Status"),m.Wb(),m.Xb(4,"mat-select",35,36),m.jc("selectionChange",(function(){m.Kc(n);var t=e.$implicit,a=m.Gc(5);return m.nc().onChangeStatus("status",a.value,t._id,t.ticket_priority)})),m.Rc(6,Ze,2,2,"mat-option",37),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=e.$implicit,i=m.nc();m.Cb(4),m.wc("value",a.status),m.Cb(2),m.vc("ngForOf",i.ticket_status)}}function Je(t,e){1&t&&(m.Xb(0,"th",39),m.Tc(1,"Action "),m.Wb())}function tn(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-icon",45),m.jc("click",(function(){m.Kc(n);var t=m.nc().$implicit;return m.nc().openDialog(t._id,"edit")})),m.Tc(1,"edit"),m.Wb()}}function en(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-icon",46),m.jc("click",(function(){m.Kc(n);var t=m.nc().$implicit;return m.nc().onDelete(t._id)})),m.Tc(1,"delete"),m.Wb()}}function nn(t,e){if(1&t){var n=m.Yb();m.Xb(0,"td",40),m.Rc(1,tn,2,0,"mat-icon",41),m.Rc(2,en,2,0,"mat-icon",42),m.Xb(3,"mat-icon",43),m.jc("click",(function(){m.Kc(n);var t=e.$implicit;return m.nc().ticketInfoDialog(t._id)})),m.Tc(4,"info"),m.Wb(),m.Xb(5,"mat-icon",44),m.jc("click",(function(){m.Kc(n);var t=e.$implicit;return m.nc().commentsDialog(t.projectId._id,t._id)})),m.Tc(6,"chat"),m.Wb(),m.Wb()}if(2&t){var a=m.nc();m.Cb(1),m.vc("ngIf",3!=a.userData.role),m.Cb(1),m.vc("ngIf",3!=a.userData.role)}}function an(t,e){1&t&&m.Sb(0,"tr",47)}function on(t,e){1&t&&m.Sb(0,"tr",48)}function cn(t,e){1&t&&m.Sb(0,"mat-progress-spinner",49)}function rn(t,e){1&t&&(m.Xb(0,"p",50),m.Tc(1,"No Tickets Found!"),m.Wb())}function sn(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-paginator",51),m.jc("page",(function(t){return m.Kc(n),m.nc().onChangedPage(t)})),m.Wb()}if(2&t){var a=m.nc();m.vc("length",a.Count)("pageSize",a.perPage)("pageSizeOptions",a.sizeOptions)}}var ln,dn,bn=((ln=function(){function t(e,n,a,i,o){var c=this;_classCallCheck(this,t),this.ticketsService=e,this.activatedRoute=n,this.dialog=a,this.projectsService=i,this.router=o,this.tickets=[],this.isLoading=!1,this.perPage=10,this.currentPage=1,this.Count=0,this.projectData=[],this.sizeOptions=[10,20,50],this.ticket_priority=["High","Medium","Low"],this.ticket_status=["Open","Pending","Done","Closed"],this.displayedColumns1=["Ticket","Created At","Status","Action"],this.ChartData=[{data:[0,0,0,0,0],label:"Tages",lineTension:6,pointRadius:[4,4,4,4],borderWidth:2}],this.Labels=["Frontend","Backend","API","Issue","Mobile","Future","Other"],this.ChartOptions={responsive:!0,tooltips:{enabled:!0},plugins:{datalabels:{anchor:"top",align:"top",font:{size:12}}}},this.barChartPlugins=[qe],this.ChartLegend=!0,this.ChartType="doughnut",this.activatedRoute.paramMap.subscribe((function(t){c.pid=t.get("pid")}))}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.userData=this.ticketsService.getUserData(),this.projectsService.getProjectById(this.pid).subscribe((function(e){t.projectData=e.data[0],t.ticketsService.getTicketsByProjectId(t.perPage,t.currentPage,t.search,t.pid).subscribe((function(e){t.tickets=e.data,t.Count=e.count,t.ticketsService.getTicketTages(t.pid).subscribe((function(e){t.ChartData[0].data=e.data,t.isLoading=!1}))}))}))}},{key:"onDelete",value:function(t){var e=this;this.ticketsService.deleteTicket(t).subscribe((function(t){e.ngOnInit()}))}},{key:"onSearch",value:function(){this.ngOnInit()}},{key:"onChangedPage",value:function(t){this.isLoading=!0,this.currentPage=t.pageIndex+1,this.perPage=t.pageSize,this.ngOnInit()}},{key:"onChangeStatus",value:function(t,e,n,a){var i=this,o={id:n};"priority"==t?(o.status=a,o.ticket_priority=e,this.ticketsService.updateTicketStatus(o).subscribe((function(t){i.ngOnInit()}))):"status"==t&&(o.ticket_priority=a,o.status=e,this.ticketsService.updateTicketStatus(o).subscribe((function(t){i.ngOnInit()})))}},{key:"openDialog",value:function(t,e){var n=this,a=new l.e;a.disableClose=!0,a.autoFocus=!0,a.data={id:t,pid:this.pid,mode:e},this.dialog.open(_t,a).afterClosed().subscribe((function(t){n.ngOnInit()}))}},{key:"ticketInfoDialog",value:function(t){var e=this,n=new l.e;n.disableClose=!1,n.autoFocus=!0,n.width="598px",n.data={id:t},this.dialog.open(Tt,n).afterClosed().subscribe((function(t){e.ngOnInit()}))}},{key:"commentsDialog",value:function(t,e){var n=this,a=new l.e;a.disableClose=!1,a.autoFocus=!0,a.width="962px",a.minHeight="563px",a.data={pid:t,tid:e},this.dialog.open(Be,a).afterClosed().subscribe((function(t){n.ngOnInit()}))}}]),t}()).\u0275fac=function(t){return new(t||ln)(m.Rb(bt),m.Rb(s.a),m.Rb(l.b),m.Rb(_),m.Rb(s.b))},ln.\u0275cmp=m.Lb({type:ln,selectors:[["app-tickets"]],decls:38,vars:8,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6",2,"background-color","#fafafa"],[4,"ngIf"],[1,"col-md-6"],["action","#","autocomplete","off"],[2,"width","45%"],["matInput","","name","name","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["nameInput","ngModel"],["md-list-icon",""],[1,"btn","btn-success","float-right",3,"click"],[1,"card-container1"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Ticket"],["mat-header-cell","","style","width:50%",4,"matHeaderCellDef"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","Created At"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Status"],["mat-cell","",4,"matCellDef"],["matColumnDef","Action"],["mat-header-cell","","style","text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["baseChart","","width","800","height","200",3,"datasets","labels","options","legend","chartType"],["mat-header-cell","",2,"width","50%"],["mat-cell","",3,"matTooltip"],["mat-header-cell",""],["mat-cell",""],["appearance","outline",1,"status_cus"],["name","status","placeholder","Select Status",3,"value","selectionChange"],["ticketSInput",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-header-cell","",2,"text-align","center"],["mat-cell","",2,"text-align","center"],["color","primary","matTooltip","Edit","md-list-icon","",3,"click",4,"ngIf"],["color","warn","matTooltip","Delete","md-list-icon","",3,"click",4,"ngIf"],["md-list-icon","","matTooltip","Ticket Info",3,"click"],["md-list-icon","","color","accent","matTooltip","Comments / Chat",3,"click"],["color","primary","matTooltip","Edit","md-list-icon","",3,"click"],["color","warn","matTooltip","Delete","md-list-icon","",3,"click"],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"div",3),m.Rc(4,$e,2,5,"div",4),m.Wb(),m.Xb(5,"div",5),m.Xb(6,"mat-card"),m.Xb(7,"form",6),m.Xb(8,"mat-form-field",7),m.Xb(9,"input",8,9),m.jc("ngModelChange",(function(t){return e.search=t}))("keyup",(function(){return e.onSearch()})),m.Wb(),m.Wb(),m.Xb(11,"mat-icon",10),m.Tc(12,"search"),m.Wb(),m.Xb(13,"button",11),m.jc("click",(function(){return e.openDialog(0,"create")})),m.Tc(14,"+ Ticket"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Sb(15,"br"),m.Xb(16,"div",12),m.Xb(17,"table",13),m.Vb(18,14),m.Rc(19,Ge,2,0,"th",15),m.Rc(20,Ve,2,2,"td",16),m.Ub(),m.Vb(21,17),m.Rc(22,Ne,2,0,"th",18),m.Rc(23,Ye,4,8,"td",16),m.Ub(),m.Vb(24,19),m.Rc(25,He,2,0,"th",18),m.Rc(26,Qe,7,2,"td",20),m.Ub(),m.Vb(27,21),m.Rc(28,Je,2,0,"th",22),m.Rc(29,nn,7,2,"td",23),m.Ub(),m.Rc(30,an,1,0,"tr",24),m.Rc(31,on,1,0,"tr",25),m.Wb(),m.Wb(),m.Sb(32,"br"),m.Sb(33,"br"),m.Xb(34,"div",0),m.Rc(35,cn,1,0,"mat-progress-spinner",26),m.Rc(36,rn,2,0,"p",27),m.Rc(37,sn,1,3,"mat-paginator",28),m.Wb()),2&t&&(m.Cb(4),m.vc("ngIf",e.tickets.length>0),m.Cb(5),m.vc("ngModel",e.search),m.Cb(8),m.vc("dataSource",e.tickets),m.Cb(13),m.vc("matHeaderRowDef",e.displayedColumns1),m.Cb(1),m.vc("matRowDefColumns",e.displayedColumns1),m.Cb(4),m.vc("ngIf",e.isLoading),m.Cb(1),m.vc("ngIf",e.tickets.length<=0&&!e.isLoading),m.Cb(1),m.vc("ngIf",e.tickets.length>0))},directives:[i.m,N.a,r.x,r.n,r.o,k.c,W.b,r.b,r.m,r.p,M.a,Ke.j,Ke.c,Ke.e,Ke.b,Ke.g,Ke.i,o.a,Ke.d,Ke.a,Y.a,k.g,mt.a,i.l,T.o,Ke.f,Ke.h,H.a,Z.a],pipes:[i.e],styles:[".mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{table-layout:fixed}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}mat-icon[_ngcontent-%COMP%]{margin:5px}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}.example-card[_ngcontent-%COMP%]{width:100%;margin:15px}.example-card[_ngcontent-%COMP%]:hover{width:100%;background-color:#a09d9d}.example-header-image[_ngcontent-%COMP%]{background-image:url(/assets/proj.jpg);background-size:cover}mat-card-subtitle[_ngcontent-%COMP%], mat-card-title[_ngcontent-%COMP%]{white-space:nowrap;width:105px;overflow:hidden;text-overflow:ellipsis}.example-tooltip-red[_ngcontent-%COMP%]{background:#b71c1c!important}.mat-card[_ngcontent-%COMP%]{background:#fff;width:100%;color:#f89b46;height:90px;min-width:100%}.status_cus[_ngcontent-%COMP%]{height:55px;width:98%}.mat-form-field-type-mat-select[_ngcontent-%COMP%]:not(.mat-form-field-disabled)   .mat-form-field-flex[_ngcontent-%COMP%]{cursor:pointer!important;height:50px!important}.card-container1[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;height:auto}"]}),ln),mn=p.a.apiUrl+"/users",un=p.a.apiUrl+"/courierOrders",gn=((dn=function(){function t(e,n,a){_classCallCheck(this,t),this.http=e,this.router=n,this.authService=a}return _createClass(t,[{key:"getOrders",value:function(t,e,n,a,i,o){var c="?pagesize=".concat(e,"&page=").concat(n,"&start_date=").concat(i,"&end_date=").concat(o);return a&&(c+="&filter="+a),t&&(c+="&orderIds="+t),this.http.get(un+"/getOrders"+c)}},{key:"addOrder",value:function(t,e){return this.http.post(un+"/create",t)}},{key:"getOrderById",value:function(t){return this.http.get(un+"/"+t)}},{key:"updateOrder",value:function(t,e){return this.http.put(un+"/"+t._id,t)}},{key:"updateOrderStatus",value:function(t,e){return this.http.put(un+"/updateStatus/"+e,{status:t,id:e})}},{key:"deleteOrder",value:function(t){return this.http.delete(un+"/"+t)}},{key:"search",value:function(t){var e="?";return t&&(e+="search="+t),this.http.get(mn+"/search"+e).pipe(Object(g.debounceTime)(500),Object(u.a)((function(t){return t})))}}]),t}()).\u0275fac=function(t){return new(t||dn)(m.fc(f.b),m.fc(s.b),m.fc(h.a))},dn.\u0275prov=m.Nb({token:dn,factory:dn.\u0275fac,providedIn:"root"}),dn),pn=["assigneeInput"],fn=["auto"];function hn(t,e){1&t&&(m.Xb(0,"h1",56),m.Tc(1,"Edit Order"),m.Wb())}function vn(t,e){1&t&&(m.Xb(0,"h1",56),m.Tc(1,"New Order"),m.Wb())}function Cn(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please enter order name."),m.Wb())}function _n(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please Enter PhoneNumber."),m.Wb())}function kn(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Mobile number should be only numbers"),m.Wb())}function Wn(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Mobile should be 10digit"),m.Wb())}function Xn(t,e){if(1&t&&(m.Xb(0,"mat-option",57,58),m.Tc(2),m.Wb()),2&t){var n=e.$implicit;m.vc("value",n),m.Cb(2),m.Wc(" ",n.first_name," ",n.last_name," ")}}function yn(t,e){if(1&t&&(m.Xb(0,"mat-option",57),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.vc("value",n),m.Cb(1),m.Vc(" ",n," ")}}function Mn(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please choose order type."),m.Wb())}function Pn(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please enter quantity name."),m.Wb())}function Tn(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please enter amount name."),m.Wb())}function On(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please enter courier branch."),m.Wb())}function xn(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please enter from address."),m.Wb())}function In(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please enter city."),m.Wb())}function wn(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please enter state."),m.Wb())}function jn(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please enter county."),m.Wb())}function Sn(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please enter zip code."),m.Wb())}function Rn(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please enter to address."),m.Wb())}function Un(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please enter city."),m.Wb())}function Dn(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please enter state."),m.Wb())}function Fn(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please enter county."),m.Wb())}function Ln(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please enter zip code."),m.Wb())}var An,zn=((An=function(){function t(e,n,a,i,o,c,s){_classCallCheck(this,t),this.orderService=e,this.dialogRef=n,this.route=a,this._snackBar=i,this.router=o,this.dialog=c,this.visible=!0,this.selectable=!0,this.removable=!0,this.separatorKeysCodes=[d.g,d.c],this.fruitCtrl=new r.d,this.isLoading=!0,this.order=[],this.data=[],this.horizontalPos="right",this.verticalPos="top",this.sankBardata={},this.assignedUsers=[],this.isEdit=!0,this.services=["Parcel","Luggage","Documents","Electronics","Others"],this.data=s,this.order={_id:"",name:"",desc:"",mobile:"",email:"",type:"",qty:"",customerId:"",amount:"",from:{from_address:"",from_city:"",from_state:"",from_country:"",from_zip_code:""},to:{to_address:"",to_city:"",to_state:"",to_country:"",to_zip_code:""},location:[],assignedUsers:[]}}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.data.id&&"edit"==this.data.mode?this.orderService.getOrderById(this.data.id).subscribe((function(e){t.isLoading=!1,t.isEdit=!0,t.mode="edit",console.log("ttt",e),t.order=e.data[0]})):(this.isLoading=!1,this.mode="create",this.isEdit=!1,this.userId=null)}},{key:"onSave",value:function(t){var e=this;t.invalid||(console.log(this.order,t.value),"create"===this.mode?this.orderService.addOrder(this.order,this.userId).subscribe((function(t){e.dialogRef.close()}),(function(t){e.isLoading=!1})):this.orderService.updateOrder(this.order,t.value).subscribe((function(t){e.dialogRef.close()}),(function(t){e.isLoading=!1})))}},{key:"searchUsers",value:function(t){var e=this;t&&this.orderService.search(t).subscribe((function(t){e.searchUser=t.users}))}},{key:"displayFn",value:function(t){return t?t.first_name+" "+t.last_name:""}},{key:"onSelection",value:function(t){var e=t.option.value,n=this.order.assignedUsers.findIndex((function(t){return t._id===e._id}));console.log(n,e),-1==n?this.order.assignedUsers.push(t.option.value):(this.sankBardata.message="User Allready Exist in this Project.",this.openSnakBar(),this.fruitCtrl.setValue(null))}},{key:"selected",value:function(t){this.order.assignedUsers.push(t.option.viewValue),this.order.assignedUsers.nativeElement.value="",this.order.assignedUsers.setValue(null)}},{key:"remove",value:function(t){var e=this.order.assignedUsers.indexOf(t);e>=0&&this.order.assignedUsers.splice(e,1)}},{key:"close",value:function(){this.dialogRef.close()}},{key:"openSnakBar",value:function(){var t=new b.b;t.verticalPosition=this.verticalPos,t.horizontalPosition=this.horizontalPos,t.duration=8e3,this._snackBar.open(this.sankBardata.message,"Ok",t)}}]),t}()).\u0275fac=function(t){return new(t||An)(m.Rb(gn),m.Rb(l.h),m.Rb(s.a),m.Rb(b.a),m.Rb(s.b),m.Rb(l.b),m.Rb(l.a))},An.\u0275cmp=m.Lb({type:An,selectors:[["app-courier-project"]],viewQuery:function(t,e){var n;1&t&&(m.Zc(pn,!0),m.Zc(fn,!0)),2&t&&(m.Fc(n=m.kc())&&(e.assigneeInput=n.first),m.Fc(n=m.kc())&&(e.matAutocomplete=n.first))},decls:165,vars:48,consts:[["mat-dialog-title","",4,"ngIf"],[3,"submit"],["orderForm","ngForm"],["mat-dialog-content","",1,"font"],[1,"row"],[1,"col-md-6"],["appearance","outline"],["matInput","","name","name","type","text","placeholder","Order Name","required","",3,"ngModel","ngModelChange"],["nameInput","ngModel"],[4,"ngIf"],["matInput","","name","desc","type","text","placeholder","Description",3,"ngModel","ngModelChange"],["descInput","ngModel"],["matInput","","name","mobile","type","text","mobile","","pattern","[0-9]*","minlength","10","maxlength","10","placeholder","Enter Mobile Number","required","",3,"ngModel","ngModelChange"],["mobileInput","ngModel"],["matSuffix",""],["matInput","","name","email","autocomplete","off","type","email","placeholder","Enter Your Email","email","",3,"ngModel","ngModelChange"],["emailInput","ngModel"],["type","text","name","customerId","matInput","","placeholder","Serach Customer",3,"ngModel","matAutocomplete","formControl","ngModelChange","keyup"],["assigneeInput",""],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["name","type","placeholder","Order Type","required","",3,"ngModel","ngModelChange"],["typeInput","ngModel"],["matInput","","name","qty","type","text","placeholder","Quantity","required","",3,"ngModel","ngModelChange"],["qtyInput","ngModel"],["matInput","","name","amount","type","text","placeholder","Amount","required","",3,"ngModel","ngModelChange"],["amtInput","ngModel"],["matInput","","name","branch","type","text","placeholder","Courier Branch","required","",3,"ngModel","ngModelChange"],["role","main",1,"content"],[1,"container"],[2,"font-family","800"],["matInput","","name","from_address","type","text","placeholder","Enter Address","required","",3,"ngModel","ngModelChange"],["Add1Input","ngModel"],["align","end"],["matInput","","name","from_city","type","text","placeholder","Enter City","required","",3,"ngModel","ngModelChange"],["cityInput","ngModel"],["matInput","","name","from_state","type","text","placeholder","Enter State","required","",3,"ngModel","ngModelChange"],["stateInput","ngModel"],["matInput","","name","from_country","type","text","placeholder","Enter Country","required","",3,"ngModel","ngModelChange"],["countryInput","ngModel"],["matInput","","name","from_zip_code","type","text","placeholder","Enter Zip","required","",3,"ngModel","ngModelChange"],["zipInput","ngModel"],["matInput","","name","to_address","type","text","placeholder","Enter Address","required","",3,"ngModel","ngModelChange"],["Add2Input","ngModel"],["matInput","","name","to_city","type","text","placeholder","Enter City","required","",3,"ngModel","ngModelChange"],["city2Input","ngModel"],["matInput","","name","to_state","type","text","placeholder","Enter State","required","",3,"ngModel","ngModelChange"],["state2Input","ngModel"],["matInput","","name","to_country","type","text","placeholder","Enter Country","required","",3,"ngModel","ngModelChange"],["country2Input","ngModel"],["matInput","","name","to_zip_code","type","text","placeholder","Enter Zip","required","",3,"ngModel","ngModelChange"],["zip2Input","ngModel"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary","matDialogClose","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-dialog-title",""],[3,"value"],["datae",""]],template:function(t,e){if(1&t){var n=m.Yb();m.Rc(0,hn,2,0,"h1",0),m.Rc(1,vn,2,0,"h1",0),m.Xb(2,"form",1,2),m.jc("submit",(function(){m.Kc(n);var t=m.Gc(3);return e.onSave(t)})),m.Xb(4,"div",3),m.Xb(5,"div",4),m.Xb(6,"div",5),m.Xb(7,"mat-form-field",6),m.Xb(8,"mat-label"),m.Tc(9,"Order Name"),m.Wb(),m.Xb(10,"input",7,8),m.jc("ngModelChange",(function(t){return e.order.name=t})),m.Wb(),m.Rc(12,Cn,2,0,"mat-error",9),m.Wb(),m.Wb(),m.Xb(13,"div",5),m.Xb(14,"mat-form-field",6),m.Xb(15,"mat-label"),m.Tc(16,"Description"),m.Wb(),m.Xb(17,"textarea",10,11),m.jc("ngModelChange",(function(t){return e.order.desc=t})),m.Tc(19),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(20,"div",4),m.Xb(21,"div",5),m.Xb(22,"mat-form-field",6),m.Xb(23,"mat-label"),m.Tc(24,"Mobile"),m.Wb(),m.Xb(25,"input",12,13),m.jc("ngModelChange",(function(t){return e.order.mobile=t})),m.Wb(),m.Xb(27,"mat-icon",14),m.Tc(28,"call"),m.Wb(),m.Rc(29,_n,2,0,"mat-error",9),m.Rc(30,kn,2,0,"mat-error",9),m.Rc(31,Wn,2,0,"mat-error",9),m.Wb(),m.Wb(),m.Xb(32,"div",5),m.Xb(33,"mat-form-field",6),m.Xb(34,"mat-label"),m.Tc(35,"Email"),m.Wb(),m.Xb(36,"input",15,16),m.jc("ngModelChange",(function(t){return e.order.email=t})),m.Wb(),m.Xb(38,"mat-icon",14),m.Tc(39,"email"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(40,"div",4),m.Xb(41,"div",5),m.Xb(42,"mat-form-field",6),m.Xb(43,"mat-label"),m.Tc(44,"If Existing Customer..."),m.Wb(),m.Xb(45,"input",17,18),m.jc("ngModelChange",(function(t){return e.order.customerId=t}))("keyup",(function(){m.Kc(n);var t=m.Gc(46);return e.searchUsers(t.value)})),m.Wb(),m.Xb(47,"mat-autocomplete",19,20),m.Rc(49,Xn,3,3,"mat-option",21),m.Wb(),m.Wb(),m.Wb(),m.Xb(50,"div",5),m.Xb(51,"mat-form-field",6),m.Xb(52,"mat-label"),m.Tc(53,"Type"),m.Wb(),m.Xb(54,"mat-select",22,23),m.jc("ngModelChange",(function(t){return e.order.type=t})),m.Rc(56,yn,2,2,"mat-option",21),m.Wb(),m.Rc(57,Mn,2,0,"mat-error",9),m.Wb(),m.Wb(),m.Wb(),m.Xb(58,"div",4),m.Xb(59,"div",5),m.Xb(60,"mat-form-field",6),m.Xb(61,"mat-label"),m.Tc(62,"Quantity"),m.Wb(),m.Xb(63,"input",24,25),m.jc("ngModelChange",(function(t){return e.order.qty=t})),m.Wb(),m.Rc(65,Pn,2,0,"mat-error",9),m.Wb(),m.Wb(),m.Xb(66,"div",5),m.Xb(67,"mat-form-field",6),m.Xb(68,"mat-label"),m.Tc(69,"Amount"),m.Wb(),m.Xb(70,"input",26,27),m.jc("ngModelChange",(function(t){return e.order.amount=t})),m.Wb(),m.Rc(72,Tn,2,0,"mat-error",9),m.Wb(),m.Wb(),m.Wb(),m.Xb(73,"div",4),m.Xb(74,"div",5),m.Xb(75,"mat-form-field",6),m.Xb(76,"mat-label"),m.Tc(77,"Branch"),m.Wb(),m.Xb(78,"input",28,25),m.jc("ngModelChange",(function(t){return e.order.branch=t})),m.Wb(),m.Rc(80,On,2,0,"mat-error",9),m.Wb(),m.Wb(),m.Sb(81,"div",5),m.Wb(),m.Xb(82,"div",29),m.Xb(83,"div",30),m.Xb(84,"div",4),m.Xb(85,"div",5),m.Xb(86,"div"),m.Xb(87,"p",31),m.Tc(88,"From Address"),m.Wb(),m.Wb(),m.Xb(89,"mat-form-field",6),m.Xb(90,"mat-label"),m.Tc(91,"Address"),m.Wb(),m.Xb(92,"textarea",32,33),m.jc("ngModelChange",(function(t){return e.order.from.from_address=t})),m.Tc(94),m.Wb(),m.Xb(95,"mat-hint",34),m.Tc(96,"Not more then 100 characters long."),m.Wb(),m.Rc(97,xn,2,0,"mat-error",9),m.Wb(),m.Xb(98,"mat-form-field",6),m.Xb(99,"mat-label"),m.Tc(100,"City"),m.Wb(),m.Xb(101,"input",35,36),m.jc("ngModelChange",(function(t){return e.order.from.from_city=t})),m.Wb(),m.Rc(103,In,2,0,"mat-error",9),m.Wb(),m.Xb(104,"mat-form-field",6),m.Xb(105,"mat-label"),m.Tc(106,"State"),m.Wb(),m.Xb(107,"input",37,38),m.jc("ngModelChange",(function(t){return e.order.from.from_state=t})),m.Wb(),m.Rc(109,wn,2,0,"mat-error",9),m.Wb(),m.Xb(110,"mat-form-field",6),m.Xb(111,"mat-label"),m.Tc(112,"Country"),m.Wb(),m.Xb(113,"input",39,40),m.jc("ngModelChange",(function(t){return e.order.from.from_country=t})),m.Wb(),m.Rc(115,jn,2,0,"mat-error",9),m.Wb(),m.Xb(116,"mat-form-field",6),m.Xb(117,"mat-label"),m.Tc(118,"Zip Code"),m.Wb(),m.Xb(119,"input",41,42),m.jc("ngModelChange",(function(t){return e.order.from.from_zip_code=t})),m.Wb(),m.Rc(121,Sn,2,0,"mat-error",9),m.Wb(),m.Wb(),m.Xb(122,"div",5),m.Xb(123,"div"),m.Xb(124,"p",31),m.Tc(125,"To Address"),m.Wb(),m.Wb(),m.Xb(126,"mat-form-field",6),m.Xb(127,"mat-label"),m.Tc(128,"Address"),m.Wb(),m.Xb(129,"textarea",43,44),m.jc("ngModelChange",(function(t){return e.order.to.to_address=t})),m.Tc(131),m.Wb(),m.Xb(132,"mat-hint",34),m.Tc(133,"Not more then 100 characters long."),m.Wb(),m.Rc(134,Rn,2,0,"mat-error",9),m.Wb(),m.Xb(135,"mat-form-field",6),m.Xb(136,"mat-label"),m.Tc(137,"City"),m.Wb(),m.Xb(138,"input",45,46),m.jc("ngModelChange",(function(t){return e.order.to.to_city=t})),m.Wb(),m.Rc(140,Un,2,0,"mat-error",9),m.Wb(),m.Xb(141,"mat-form-field",6),m.Xb(142,"mat-label"),m.Tc(143,"State"),m.Wb(),m.Xb(144,"input",47,48),m.jc("ngModelChange",(function(t){return e.order.to.to_state=t})),m.Wb(),m.Rc(146,Dn,2,0,"mat-error",9),m.Wb(),m.Xb(147,"mat-form-field",6),m.Xb(148,"mat-label"),m.Tc(149,"Country"),m.Wb(),m.Xb(150,"input",49,50),m.jc("ngModelChange",(function(t){return e.order.to.to_country=t})),m.Wb(),m.Rc(152,Fn,2,0,"mat-error",9),m.Wb(),m.Xb(153,"mat-form-field",6),m.Xb(154,"mat-label"),m.Tc(155,"Zip Code"),m.Wb(),m.Xb(156,"input",51,52),m.jc("ngModelChange",(function(t){return e.order.to.to_zip_code=t})),m.Wb(),m.Rc(158,Ln,2,0,"mat-error",9),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(159,"div",53),m.Xb(160,"button",54),m.jc("click",(function(){return e.close()})),m.Tc(161,"Close"),m.Wb(),m.Tc(162,"\xa0 "),m.Xb(163,"button",55),m.Tc(164,"Save"),m.Wb(),m.Wb(),m.Wb()}if(2&t){var a=m.Gc(3),i=m.Gc(11),o=m.Gc(26),c=m.Gc(48),r=m.Gc(55),s=m.Gc(64),l=m.Gc(71),d=m.Gc(93),b=m.Gc(102),u=m.Gc(108),g=m.Gc(114),p=m.Gc(120),f=m.Gc(130),h=m.Gc(139),v=m.Gc(145),C=m.Gc(151),_=m.Gc(157);m.vc("ngIf","edit"==e.mode),m.Cb(1),m.vc("ngIf","create"==e.mode),m.Cb(9),m.vc("ngModel",e.order.name),m.Cb(2),m.vc("ngIf",i.hasError("required")),m.Cb(5),m.vc("ngModel",e.order.desc),m.Cb(2),m.Uc(e.order.desc),m.Cb(6),m.vc("ngModel",e.order.mobile),m.Cb(4),m.vc("ngIf",o.hasError("required")),m.Cb(1),m.vc("ngIf",o.hasError("pattern")),m.Cb(1),m.vc("ngIf",o.hasError("minlength")),m.Cb(5),m.vc("ngModel",e.order.email),m.Cb(9),m.vc("ngModel",e.order.customerId)("matAutocomplete",c)("formControl",e.fruitCtrl),m.Cb(2),m.vc("displayWith",e.displayFn),m.Cb(2),m.vc("ngForOf",e.searchUser),m.Cb(5),m.vc("ngModel",e.order.type),m.Cb(2),m.vc("ngForOf",e.services),m.Cb(1),m.vc("ngIf",r.hasError("required")),m.Cb(6),m.vc("ngModel",e.order.qty),m.Cb(2),m.vc("ngIf",s.hasError("required")),m.Cb(5),m.vc("ngModel",e.order.amount),m.Cb(2),m.vc("ngIf",l.hasError("required")),m.Cb(6),m.vc("ngModel",e.order.branch),m.Cb(2),m.vc("ngIf",s.hasError("required")),m.Cb(12),m.vc("ngModel",e.order.from.from_address),m.Cb(2),m.Uc(e.order.from.from_address),m.Cb(3),m.vc("ngIf",d.hasError("required")),m.Cb(4),m.vc("ngModel",e.order.from.from_city),m.Cb(2),m.vc("ngIf",b.hasError("required")),m.Cb(4),m.vc("ngModel",e.order.from.from_state),m.Cb(2),m.vc("ngIf",u.hasError("required")),m.Cb(4),m.vc("ngModel",e.order.from.from_country),m.Cb(2),m.vc("ngIf",g.hasError("required")),m.Cb(4),m.vc("ngModel",e.order.from.from_zip_code),m.Cb(2),m.vc("ngIf",p.hasError("required")),m.Cb(8),m.vc("ngModel",e.order.to.to_address),m.Cb(2),m.Uc(e.order.to.to_address),m.Cb(3),m.vc("ngIf",f.hasError("required")),m.Cb(4),m.vc("ngModel",e.order.to.to_city),m.Cb(2),m.vc("ngIf",h.hasError("required")),m.Cb(4),m.vc("ngModel",e.order.to.to_state),m.Cb(2),m.vc("ngIf",v.hasError("required")),m.Cb(4),m.vc("ngModel",e.order.to.to_country),m.Cb(2),m.vc("ngIf",C.hasError("required")),m.Cb(4),m.vc("ngModel",e.order.to.to_zip_code),m.Cb(2),m.vc("ngIf",_.hasError("required")),m.Cb(5),m.vc("disabled",e.isLoading||a.invalid)}},directives:[i.m,r.x,r.n,r.o,l.f,k.c,k.g,W.b,r.b,r.u,r.m,r.p,r.s,r.i,r.h,M.a,k.h,r.c,X.c,r.e,X.a,i.l,mt.a,k.f,y.b,l.d,l.i,k.b,T.o],styles:[".form[_ngcontent-%COMP%]{line-height:normal}mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}.example-additional-selection[_ngcontent-%COMP%]{opacity:.75;font-size:.75em}.assign_btn[_ngcontent-%COMP%]{padding:0 28px;margin:11px}"]}),An);function En(t,e){if(1&t&&(m.Xb(0,"mat-chip"),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.Cb(1),m.Wc(" ",n.first_name," ",n.last_name," ")}}function Bn(t,e){if(1&t&&(m.Xb(0,"div",10),m.Xb(1,"div",11),m.Xb(2,"mat-icon",12),m.Tc(3,"group"),m.Wb(),m.Xb(4,"mat-label"),m.Tc(5,"Assigned Users"),m.Wb(),m.Sb(6,"br"),m.Wb(),m.Xb(7,"div",11),m.Xb(8,"mat-chip-list",null,13),m.Rc(10,En,2,2,"mat-chip",14),m.Wb(),m.Wb(),m.Wb()),2&t){var n=m.nc(2);m.Cb(10),m.vc("ngForOf",n.project.assignedUsers)}}function qn(t,e){if(1&t&&(m.Xb(0,"mat-form-field",5),m.Xb(1,"mat-label"),m.Tc(2,"Created By"),m.Wb(),m.Sb(3,"input",6),m.Wb()),2&t){var n=m.nc(2);m.Cb(3),m.yc("value","",n.project.userId.first_name," ",n.project.userId.last_name,"")}}function Kn(t,e){if(1&t&&(m.Xb(0,"mat-form-field",5),m.Xb(1,"mat-label"),m.Tc(2,"Email"),m.Wb(),m.Sb(3,"input",6),m.Wb()),2&t){var n=m.nc(2);m.Cb(3),m.wc("value",n.project.userId.email)}}function $n(t,e){if(1&t&&(m.Xb(0,"mat-form-field",5),m.Xb(1,"mat-label"),m.Tc(2,"updated By"),m.Wb(),m.Sb(3,"input",6),m.Wb()),2&t){var n=m.nc(2);m.Cb(3),m.yc("value","",n.project.updatedBy.first_name," ",n.project.userId.last_name,"")}}function Gn(t,e){if(1&t&&(m.Xb(0,"div",4),m.Xb(1,"mat-form-field",5),m.Xb(2,"mat-label"),m.Tc(3,"Project Name"),m.Wb(),m.Sb(4,"input",6),m.Wb(),m.Xb(5,"mat-form-field",5),m.Xb(6,"mat-label"),m.Tc(7,"Project Description"),m.Wb(),m.Xb(8,"textarea",7),m.Tc(9),m.Wb(),m.Wb(),m.Rc(10,Bn,11,1,"div",8),m.Sb(11,"br"),m.Rc(12,qn,4,2,"mat-form-field",9),m.Rc(13,Kn,4,1,"mat-form-field",9),m.Rc(14,$n,4,2,"mat-form-field",9),m.Xb(15,"mat-form-field",5),m.Xb(16,"mat-label"),m.Tc(17,"Created At"),m.Wb(),m.Sb(18,"input",6),m.oc(19,"date"),m.Wb(),m.Xb(20,"mat-form-field",5),m.Xb(21,"mat-label"),m.Tc(22,"Updated At"),m.Wb(),m.Sb(23,"input",6),m.oc(24,"date"),m.Wb(),m.Xb(25,"mat-form-field",5),m.Xb(26,"mat-label"),m.Tc(27,"Status"),m.Wb(),m.Sb(28,"input",6),m.Wb(),m.Wb()),2&t){var n=m.nc();m.Cb(4),m.wc("value",n.project.project_name),m.Cb(5),m.Uc(n.project.project_desc),m.Cb(1),m.vc("ngIf",n.project.assignedUsers.length>0),m.Cb(2),m.vc("ngIf",n.project.userId),m.Cb(1),m.vc("ngIf",n.project.userId),m.Cb(1),m.vc("ngIf",n.project.userId),m.Cb(4),m.wc("value",m.pc(19,9,n.project.createdAt)),m.Cb(5),m.wc("value",m.pc(24,11,n.project.updatedAt)),m.Cb(5),m.wc("value",n.project.status)}}var Vn,Nn=((Vn=function(){function t(e,n,a,i,o,c){_classCallCheck(this,t),this.orderService=e,this.route=n,this.dialogRef=a,this.router=i,this.dialog=o,this.isLoading=!0,this.project=[],this.data=[],this.sankBardata={},this.assignedUsers=[],this.isEdit=!0,this.toppingList=["Extra cheese","Mushroom","Onion","Pepperoni","Sausage","Tomato"],this.data=c}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.orderService.getOrderById(this.data.id).subscribe((function(e){t.isLoading=!1,t.project=e.data[0]}))}},{key:"close",value:function(){this.dialogRef.close()}}]),t}()).\u0275fac=function(t){return new(t||Vn)(m.Rb(gn),m.Rb(s.a),m.Rb(l.h),m.Rb(s.b),m.Rb(l.b),m.Rb(l.a))},Vn.\u0275cmp=m.Lb({type:Vn,selectors:[["app-courier-info"]],decls:8,vars:1,consts:[["mat-dialog-title",""],["class","font","mat-dialog-content","",4,"ngIf"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","primary",3,"click"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","readonly","",3,"value"],["matInput","","type","text","readonly",""],["class","container",4,"ngIf"],["appearance","outline",4,"ngIf"],[1,"container"],[1,"row"],["md-list-icon",""],["chipList",""],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(m.Xb(0,"div"),m.Xb(1,"h2",0),m.Tc(2,"Project Info"),m.Wb(),m.Wb(),m.Rc(3,Gn,29,13,"div",1),m.Xb(4,"div",2),m.Xb(5,"button",3),m.jc("click",(function(){return e.close()})),m.Tc(6,"Close"),m.Wb(),m.Tc(7,"\xa0 "),m.Wb()),2&t&&(m.Cb(3),m.vc("ngIf",!e.isLoading))},directives:[l.i,i.m,l.c,y.b,l.f,k.c,k.g,W.b,M.a,P.b,i.l,P.a],pipes:[i.e],styles:[".form[_ngcontent-%COMP%]{line-height:normal}.mat-card[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:auto;min-height:598px}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),Vn);function Yn(t,e){if(1&t&&(m.Xb(0,"mat-option",28),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.vc("value",n.title),m.Cb(1),m.Vc(" ",n.title," ")}}function Hn(t,e){if(1&t){var n=m.Yb();m.Xb(0,"button",29),m.jc("click",(function(){return m.Kc(n),m.nc().openDialog(0,"create")})),m.Tc(1,"+ New Order"),m.Wb()}}function Zn(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-icon",30),m.jc("click",(function(){return m.Kc(n),m.nc().changeView()})),m.Tc(1,"line_style"),m.Wb()}}function Qn(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-icon",30),m.jc("click",(function(){return m.Kc(n),m.nc().changeView()})),m.Tc(1,"view_module"),m.Wb()}}function Jn(t,e){1&t&&(m.Xb(0,"th",48),m.Tc(1,"Name"),m.Wb())}function ta(t,e){if(1&t&&(m.Xb(0,"td",49),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.Cb(1),m.Wc(" ",n.first_name," ",n.name," ")}}function ea(t,e){1&t&&(m.Xb(0,"th",48),m.Tc(1,"Description"),m.Wb())}function na(t,e){if(1&t&&(m.Xb(0,"td",49),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.Cb(1),m.Uc(n.desc)}}function aa(t,e){1&t&&(m.Xb(0,"th",48),m.Tc(1,"OrderId"),m.Wb())}function ia(t,e){if(1&t&&(m.Xb(0,"td",49),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.Cb(1),m.Uc(n.orderId)}}function oa(t,e){1&t&&(m.Xb(0,"th",48),m.Tc(1,"Mobile"),m.Wb())}function ca(t,e){if(1&t&&(m.Xb(0,"td",49),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.Cb(1),m.Uc(n.mobile)}}function ra(t,e){1&t&&(m.Xb(0,"th",48),m.Tc(1,"Amount"),m.Wb())}function sa(t,e){if(1&t&&(m.Xb(0,"td",50),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.yc("matTooltip","Amount: ",n.amount," (Quantity: ",n.qty,")"),m.Cb(1),m.Wc("",n.amount," (",n.qty,")")}}function la(t,e){1&t&&(m.Xb(0,"th",48),m.Tc(1,"Status"),m.Wb())}function da(t,e){if(1&t&&(m.Xb(0,"mat-option",28),m.Tc(1),m.Wb()),2&t){var n=e.$implicit;m.vc("value",n),m.Cb(1),m.Vc(" ",n," ")}}function ba(t,e){1&t&&(m.Xb(0,"mat-error"),m.Tc(1,"Please choose order type."),m.Wb())}function ma(t,e){if(1&t){var n=m.Yb();m.Xb(0,"td",49),m.Xb(1,"mat-form-field",17),m.Xb(2,"mat-label"),m.Tc(3,"Status"),m.Wb(),m.Xb(4,"mat-select",51,52),m.jc("selectionChange",(function(){m.Kc(n);var t=e.$implicit,a=m.Gc(5);return m.nc(2).onChangeStatus(a.value,t._id)}))("ngModelChange",(function(t){return m.Kc(n),e.$implicit.status=t})),m.Rc(6,da,2,2,"mat-option",20),m.Wb(),m.Rc(7,ba,2,0,"mat-error",24),m.Wb(),m.Wb()}if(2&t){var a=e.$implicit,i=m.Gc(5),o=m.nc(2);m.Cb(4),m.vc("ngModel",a.status),m.Cb(2),m.vc("ngForOf",o.services),m.Cb(1),m.vc("ngIf",i.hasError("required"))}}function ua(t,e){1&t&&(m.Xb(0,"th",48),m.Tc(1,"CreatedAt"),m.Wb())}function ga(t,e){if(1&t&&(m.Xb(0,"td",49),m.Tc(1),m.oc(2,"date"),m.Wb()),2&t){var n=e.$implicit;m.Cb(1),m.Uc(m.pc(2,1,n.createdAt))}}function pa(t,e){1&t&&(m.Xb(0,"th",48),m.Tc(1,"UpdatedAt"),m.Wb())}function fa(t,e){if(1&t&&(m.Xb(0,"td",49),m.Tc(1),m.oc(2,"date"),m.Wb()),2&t){var n=e.$implicit;m.Cb(1),m.Uc(m.pc(2,1,n.updatedAt))}}function ha(t,e){1&t&&(m.Xb(0,"th",53),m.Tc(1,"Action"),m.Wb())}function va(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-icon",57),m.jc("click",(function(){m.Kc(n);var t=m.nc().$implicit;return m.nc(2).openDialog(t._id,"edit")})),m.Tc(1,"edit"),m.Wb()}}function Ca(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-icon",58),m.jc("click",(function(){m.Kc(n);var t=m.nc().$implicit;return m.nc(2).onDelete(t._id)})),m.Tc(1,"delete"),m.Wb()}}function _a(t,e){if(1&t&&(m.Xb(0,"td",54),m.Rc(1,va,2,0,"mat-icon",55),m.Rc(2,Ca,2,0,"mat-icon",56),m.Wb()),2&t){var n=m.nc(2);m.Cb(1),m.vc("ngIf",3!==n.userData.role),m.Cb(1),m.vc("ngIf",3!==n.userData.role)}}function ka(t,e){1&t&&m.Sb(0,"tr",59)}function Wa(t,e){1&t&&m.Sb(0,"tr",60)}function Xa(t,e){if(1&t&&(m.Xb(0,"table",31),m.Vb(1,32),m.Rc(2,Jn,2,0,"th",33),m.Rc(3,ta,2,2,"td",34),m.Ub(),m.Vb(4,35),m.Rc(5,ea,2,0,"th",33),m.Rc(6,na,2,1,"td",34),m.Ub(),m.Vb(7,36),m.Rc(8,aa,2,0,"th",33),m.Rc(9,ia,2,1,"td",34),m.Ub(),m.Vb(10,37),m.Rc(11,oa,2,0,"th",33),m.Rc(12,ca,2,1,"td",34),m.Ub(),m.Vb(13,38),m.Rc(14,ra,2,0,"th",33),m.Rc(15,sa,2,4,"td",39),m.Ub(),m.Vb(16,40),m.Rc(17,la,2,0,"th",33),m.Rc(18,ma,8,3,"td",34),m.Ub(),m.Vb(19,41),m.Rc(20,ua,2,0,"th",33),m.Rc(21,ga,3,3,"td",34),m.Ub(),m.Vb(22,42),m.Rc(23,pa,2,0,"th",33),m.Rc(24,fa,3,3,"td",34),m.Ub(),m.Vb(25,43),m.Rc(26,ha,2,0,"th",44),m.Rc(27,_a,3,2,"td",45),m.Ub(),m.Rc(28,ka,1,0,"tr",46),m.Rc(29,Wa,1,0,"tr",47),m.Wb()),2&t){var n=m.nc();m.vc("dataSource",n.orders),m.Cb(28),m.vc("matHeaderRowDef",n.displayedColumns),m.Cb(1),m.vc("matRowDefColumns",n.displayedColumns)}}function ya(t,e){if(1&t&&(m.Xb(0,"mat-card-subtitle"),m.Tc(1),m.Wb()),2&t){var n=m.nc().$implicit;m.Cb(1),m.Vc(" Courier Branch : ",n.branch," ")}}function Ma(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-icon",57),m.jc("click",(function(){m.Kc(n);var t=m.nc(2).$implicit;return m.nc(2).openDialog(t._id,"edit")})),m.Tc(1,"edit"),m.Wb()}}function Pa(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-icon",58),m.jc("click",(function(){m.Kc(n);var t=m.nc(2).$implicit;return m.nc(2).onDelete(t._id)})),m.Tc(1,"delete"),m.Wb()}}function Ta(t,e){if(1&t&&(m.Xb(0,"mat-card-actions"),m.Rc(1,Ma,2,0,"mat-icon",55),m.Rc(2,Pa,2,0,"mat-icon",56),m.Wb()),2&t){var n=m.nc(3);m.Cb(1),m.vc("ngIf",3!==n.userData.role),m.Cb(1),m.vc("ngIf",3!==n.userData.role)}}function Oa(t,e){if(1&t&&(m.Xb(0,"mat-card",63),m.Xb(1,"div",1),m.Xb(2,"div",16),m.Xb(3,"mat-card-header"),m.Xb(4,"mat-card-title"),m.Tc(5),m.Wb(),m.Xb(6,"mat-card-subtitle"),m.Tc(7),m.Wb(),m.Xb(8,"mat-card-subtitle"),m.Tc(9),m.Wb(),m.Wb(),m.Wb(),m.Xb(10,"div",16),m.Xb(11,"div",1),m.Xb(12,"div",16),m.Xb(13,"mat-card-header"),m.Xb(14,"mat-card-subtitle",64),m.Tc(15),m.Wb(),m.Xb(16,"mat-card-subtitle",64),m.Tc(17),m.Wb(),m.Rc(18,ya,2,1,"mat-card-subtitle",24),m.Wb(),m.Wb(),m.Xb(19,"div",65),m.Rc(20,Ta,3,2,"mat-card-actions",24),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(21,"mat-card-content",61),m.Xb(22,"div",1),m.Xb(23,"div",16),m.Xb(24,"mat-card-subtitle"),m.Tc(25,"From"),m.Wb(),m.Xb(26,"span"),m.Tc(27),m.Wb(),m.Sb(28,"br"),m.Xb(29,"span"),m.Tc(30),m.Wb(),m.Sb(31,"br"),m.Xb(32,"span"),m.Tc(33),m.Wb(),m.Tc(34,", "),m.Xb(35,"span"),m.Tc(36),m.Wb(),m.Sb(37,"br"),m.Xb(38,"span"),m.Tc(39),m.Wb(),m.Tc(40," - \xa0"),m.Xb(41,"span"),m.Tc(42),m.Wb(),m.Wb(),m.Xb(43,"div",16),m.Xb(44,"mat-card-subtitle"),m.Tc(45,"To"),m.Wb(),m.Xb(46,"span"),m.Tc(47),m.Wb(),m.Sb(48,"br"),m.Xb(49,"span"),m.Tc(50),m.Wb(),m.Sb(51,"br"),m.Xb(52,"span"),m.Tc(53),m.Wb(),m.Tc(54,", "),m.Xb(55,"span"),m.Tc(56),m.Wb(),m.Sb(57,"br"),m.Xb(58,"span"),m.Tc(59),m.Wb(),m.Tc(60," - \xa0"),m.Xb(61,"span"),m.Tc(62),m.Wb(),m.Wb(),m.Wb(),m.Xb(63,"div",66),m.Xb(64,"mat-card-subtitle"),m.Tc(65),m.Wb(),m.Wb(),m.Wb(),m.Wb()),2&t){var n=e.$implicit,a=m.nc(2);m.Cb(5),m.Vc("Order : ",n.name,""),m.Cb(2),m.Vc(" OrderId : ",n.orderId," "),m.Cb(2),m.Vc(" Mobile : ",n.mobile," "),m.Cb(5),m.yc("matTooltip","Amount: ",n.amount," (Quantity: ",n.qty,")"),m.Cb(1),m.Wc(" Amount : Rs:",n.amount,"/- (Quantity : ",n.qty,") "),m.Cb(1),m.yc("matTooltip","Amount: ",n.amount," (Quantity: ",n.qty,")"),m.Cb(1),m.Wc(" Status : ",n.status," / Courier type : ",n.type," "),m.Cb(1),m.vc("ngIf",n.branch),m.Cb(2),m.vc("ngIf",4!==a.userData.role),m.Cb(7),m.Uc(n.from.from_address),m.Cb(3),m.Uc(n.from.from_address),m.Cb(3),m.Uc(n.from.from_state),m.Cb(3),m.Uc(n.from.from_city),m.Cb(3),m.Uc(n.from.from_country),m.Cb(3),m.Uc(n.from.from_zip_code),m.Cb(5),m.Uc(n.to.to_address),m.Cb(3),m.Uc(n.to.to_address),m.Cb(3),m.Uc(n.to.to_state),m.Cb(3),m.Uc(n.to.to_city),m.Cb(3),m.Uc(n.to.to_country),m.Cb(3),m.Uc(n.to.to_zip_code),m.Cb(3),m.Vc(" Description : ",n.desc," ")}}function xa(t,e){if(1&t&&(m.Xb(0,"section"),m.Xb(1,"div",61),m.Rc(2,Oa,66,26,"mat-card",62),m.Wb(),m.Wb()),2&t){var n=m.nc();m.Cb(2),m.vc("ngForOf",n.orders)}}function Ia(t,e){1&t&&(m.Xb(0,"p",67),m.Tc(1,"No Orders Found!"),m.Wb())}function wa(t,e){1&t&&m.Sb(0,"mat-progress-spinner",68)}function ja(t,e){if(1&t){var n=m.Yb();m.Xb(0,"mat-paginator",69),m.jc("page",(function(t){return m.Kc(n),m.nc().onChangedPage(t)})),m.Wb()}if(2&t){var a=m.nc();m.vc("length",a.Count)("pageSize",a.perPage)("pageSizeOptions",a.sizeOptions)}}var Sa,Ra,Ua=[{path:"projects",component:st},{path:"orders",component:(Sa=function(){function t(e,n,a,i,o){_classCallCheck(this,t),this.orderService=e,this.route=n,this.authService=a,this.dialog=i,this.router=o,this.orders=[],this.isLoading=!1,this.viewType=!1,this.perPage=10,this.currentPage=1,this.Count=0,this.sizeOptions=[10,20,50],this.displayedColumns=["Name","Description","OrderId","Mobile","Amount","Status","CreatedAt","UpdatedAt","Action"],this.filterTypes=[{title:"Confirmed",id:1},{title:"Shipped",id:2},{title:"Faild to Ship",id:3},{title:"Out for Delivery",id:4},{title:"Delivered",id:5},{title:"Failed to Deliver",id:4}],this.services=["Confirmed","Shipped","Faild to Ship","Out for Delivery","Delivered","Failed to Deliver"];var c=new Date,r=(c.getMonth(),c.getFullYear());c.getDate(),this.start_date=new Date(r+"/01/01"),this.end_date=new Date(r+"/12/31")}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.isLoading=!0,this.userData=this.authService.getUserData(),this.orderService.getOrders(this.orderId,this.perPage,this.currentPage,this.filter,this.start_date,this.end_date).subscribe((function(e){t.orders=e.data,t.Count=e.count,t.isLoading=!1}))}},{key:"onDelete",value:function(t){var e=this;this.orderService.deleteOrder(t).subscribe((function(t){e.ngOnInit()}))}},{key:"onSearch",value:function(){this.ngOnInit()}},{key:"changeView",value:function(){this.viewType=!this.viewType}},{key:"checkChangesDates",value:function(t,e){"startDate"==t&&(this.start_date=e.value),"endDate"==t&&(this.end_date=e.value),this.ngOnInit()}},{key:"onChangeFilter",value:function(){this.isLoading=!0,this.ngOnInit()}},{key:"onChangedPage",value:function(t){this.isLoading=!0,this.currentPage=t.pageIndex+1,this.perPage=t.pageSize,this.ngOnInit()}},{key:"onChangeStatus",value:function(t,e){var n=this;this.orderService.updateOrderStatus(t,e).subscribe((function(t){n.ngOnInit()}))}},{key:"openDialog",value:function(t,e){var n=this,a=new l.e;a.disableClose=!0,a.autoFocus=!0,a.width="948px",a.data={id:t,mode:e},this.dialog.open(zn,a).afterClosed().subscribe((function(t){n.ngOnInit()}))}},{key:"projectInfoDialog",value:function(t){var e=this,n=new l.e;n.disableClose=!1,n.autoFocus=!0,n.width="598px",n.data={id:t},this.dialog.open(Nn,n).afterClosed().subscribe((function(t){e.ngOnInit()}))}}]),t}(),Sa.\u0275fac=function(t){return new(t||Sa)(m.Rb(gn),m.Rb(s.a),m.Rb(h.a),m.Rb(l.b),m.Rb(s.b))},Sa.\u0275cmp=m.Lb({type:Sa,selectors:[["app-couriers"]],decls:47,vars:17,consts:[[1,"card-container"],[1,"row"],[1,"col-md-4"],["action","#","autocomplete","off"],["appearance","outline",2,"width","100%"],["matInput","","name","name","type","text","placeholder","Search orderId (, separated)",3,"ngModel","ngModelChange","keyup.enter"],["nameInput","ngModel"],["matSuffix",""],["matInput","","readonly","","name","start_date","placeholder","Select Start Date","required","",3,"matDatepicker","ngModel","dateChange","ngModelChange"],["sdataInput","ngModel"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],["matInput","","readonly","","name","end_date","placeholder","Select End Date","required","",3,"matDatepicker","ngModel","dateChange","ngModelChange"],["edataInput","ngModel"],["picker1",""],[1,"col-md-6"],["appearance","outline"],["name","shift","placeholder","Select Filter",3,"ngModel","selectionChange","ngModelChange"],["filterInput","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","btn btn-success float-right",3,"click",4,"ngIf"],["style","float: right;","matTooltip","Change View",3,"click",4,"ngIf"],["mat-table","","role","grid","class","mat-elevation-z8 table-striped",3,"dataSource",4,"ngIf"],[4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],["class","example-margin","mode","indeterminate","diameter","20","value","20",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[3,"value"],[1,"btn","btn-success","float-right",3,"click"],["matTooltip","Change View",2,"float","right",3,"click"],["mat-table","","role","grid",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","OrderId"],["matColumnDef","Mobile"],["matColumnDef","Amount"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","Status"],["matColumnDef","CreatedAt"],["matColumnDef","UpdatedAt"],["matColumnDef","Action"],["mat-header-cell","","style","text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"matTooltip"],["name","status","placeholder","Status","required","",3,"ngModel","selectionChange","ngModelChange"],["typeInput","ngModel"],["mat-header-cell","",2,"text-align","center"],["mat-cell","",2,"text-align","center"],["md-list-icon","","color","primary","matTooltip","Edit Project",3,"click",4,"ngIf"],["matTooltip","Delete Project","color","warn","md-list-icon","",3,"click",4,"ngIf"],["md-list-icon","","color","primary","matTooltip","Edit Project",3,"click"],["matTooltip","Delete Project","color","warn","md-list-icon","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"container"],["class","example-card",4,"ngFor","ngForOf"],[1,"example-card"],[3,"matTooltip"],[1,"col-md-6",2,"text-align","right"],[1,"row","container"],[1,"info-text","mat-body-1"],["mode","indeterminate","diameter","20","value","20",1,"example-margin"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){if(1&t&&(m.Xb(0,"div",0),m.Xb(1,"div",1),m.Xb(2,"div",2),m.Xb(3,"form",3),m.Xb(4,"mat-form-field",4),m.Xb(5,"mat-label"),m.Tc(6,"Search"),m.Wb(),m.Xb(7,"input",5,6),m.jc("ngModelChange",(function(t){return e.orderId=t}))("keyup.enter",(function(){return e.onSearch()})),m.Wb(),m.Xb(9,"mat-icon",7),m.Tc(10,"search"),m.Wb(),m.Wb(),m.Wb(),m.Wb(),m.Xb(11,"div",2),m.Xb(12,"mat-form-field",4),m.Xb(13,"mat-label"),m.Tc(14,"Start Date"),m.Wb(),m.Xb(15,"input",8,9),m.jc("dateChange",(function(t){return e.checkChangesDates("startDate",t)}))("ngModelChange",(function(t){return e.start_date=t})),m.Wb(),m.Sb(17,"mat-datepicker-toggle",10),m.Sb(18,"mat-datepicker",11,12),m.Wb(),m.Wb(),m.Xb(20,"div",2),m.Xb(21,"mat-form-field",4),m.Xb(22,"mat-label"),m.Tc(23,"End Date"),m.Wb(),m.Xb(24,"input",13,14),m.jc("dateChange",(function(t){return e.checkChangesDates("edataInput",t)}))("ngModelChange",(function(t){return e.end_date=t})),m.Wb(),m.Sb(26,"mat-datepicker-toggle",10),m.Sb(27,"mat-datepicker",11,15),m.Wb(),m.Wb(),m.Wb(),m.Xb(29,"div",1),m.Xb(30,"div",16),m.Xb(31,"mat-form-field",17),m.Xb(32,"mat-label"),m.Tc(33,"Filter"),m.Wb(),m.Xb(34,"mat-select",18,19),m.jc("selectionChange",(function(){return e.onChangeFilter()}))("ngModelChange",(function(t){return e.filter=t})),m.Rc(36,Yn,2,2,"mat-option",20),m.Wb(),m.Wb(),m.Wb(),m.Xb(37,"div",16),m.Rc(38,Hn,2,0,"button",21),m.Wb(),m.Wb(),m.Wb(),m.Rc(39,Zn,2,0,"mat-icon",22),m.Rc(40,Qn,2,0,"mat-icon",22),m.Rc(41,Xa,30,3,"table",23),m.Rc(42,xa,3,1,"section",24),m.Xb(43,"div",0),m.Rc(44,Ia,2,0,"p",25),m.Rc(45,wa,1,0,"mat-progress-spinner",26),m.Wb(),m.Rc(46,ja,1,3,"mat-paginator",27)),2&t){var n=m.Gc(19),a=m.Gc(28);m.Cb(7),m.vc("ngModel",e.orderId),m.Cb(8),m.vc("matDatepicker",n)("ngModel",e.start_date),m.Cb(2),m.vc("for",n),m.Cb(7),m.vc("matDatepicker",a)("ngModel",e.end_date),m.Cb(2),m.vc("for",a),m.Cb(8),m.vc("ngModel",e.filter),m.Cb(2),m.vc("ngForOf",e.filterTypes),m.Cb(2),m.vc("ngIf",3!=e.userData.role),m.Cb(1),m.vc("ngIf",!e.viewType),m.Cb(1),m.vc("ngIf",e.viewType),m.Cb(1),m.vc("ngIf",!e.viewType),m.Cb(1),m.vc("ngIf",e.viewType&&e.orders.length),m.Cb(2),m.vc("ngIf",e.orders.length<=0),m.Cb(1),m.vc("ngIf",e.isLoading),m.Cb(1),m.vc("ngIf",e.orders.length>0)}},directives:[r.x,r.n,r.o,k.c,k.g,W.b,r.b,r.m,r.p,M.a,k.h,St.b,r.u,St.d,St.a,mt.a,i.l,i.m,T.o,Y.a,Ke.j,Ke.c,Ke.e,Ke.b,Ke.g,Ke.i,Ke.d,Ke.a,k.b,Ke.f,Ke.h,N.a,N.e,N.j,N.i,N.d,N.b,H.a,Z.a],pipes:[i.e],styles:[".mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}mat-form-field[_ngcontent-%COMP%]{height:57px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}.example-card[_ngcontent-%COMP%]{width:100%;margin:15px}.example-header-image[_ngcontent-%COMP%]{background-image:url(/assets/proj.jpg);background-size:cover}mat-card-subtitle[_ngcontent-%COMP%], mat-card-title[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.example-tooltip-red[_ngcontent-%COMP%]{background:#b71c1c!important}.mat-card[_ngcontent-%COMP%]{background:#fff;width:100%;color:#f89b46;height:auto;min-width:100%}mat-icon[_ngcontent-%COMP%]{margin:9px}"]}),Sa)},{path:"tickets/:pid",component:bn},{path:"",redirectTo:"projects",pathMatch:"full"}],Da=((Ra=function t(){_classCallCheck(this,t)}).\u0275mod=m.Pb({type:Ra}),Ra.\u0275inj=m.Ob({factory:function(t){return new(t||Ra)},imports:[[s.f.forChild(Ua)],s.f]}),Ra);n.d(e,"SharedModule",(function(){return La}));var Fa,La=((Fa=function t(){_classCallCheck(this,t)}).\u0275mod=m.Pb({type:Fa}),Fa.\u0275inj=m.Ob({factory:function(t){return new(t||Fa)},imports:[[i.c,r.g,o.b,r.t,c.a,Da]]}),Fa)}}]);