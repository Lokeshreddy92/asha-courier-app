(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{xtjK:function(t,e,a){"use strict";a.r(e);var n=a("ofXK"),i=a("tyNb"),o=a("fXoL"),c=a("AytR"),s=a("tk/3"),r=a("qXBG");const b=c.a.apiUrl+"/users",l=c.a.apiUrl+"/leave";let d=(()=>{class t{constructor(t,e,a){this.http=t,this.router=e,this.authService=a}getAssignedUsers(t,e,a,n){var i=`?pagesize=${t}&page=${e}`;return a&&(i+="&search="+a),this.http.get(b+"/getassignedusers/"+n+i)}getUser(t){return this.http.get(b+"/"+t)}getAssignedLeaves(t,e,a,n,i,o){var c=`?pagesize=${t}&page=${e}&start_date=${n}&end_date=${i}`;return a&&(c+="&filter="+a),o.userId&&null!=o.userId&&(c+="&userId="+o.userId),this.http.get(l+"/getassigneduserleaves/"+o.assigneeId+c)}updateLeaveStatus(t,e){return t.status=e,this.http.put(l+"/cancelleave/"+t._id,t)}approveLeave(t,e){return t.status=e,this.http.put(l+"/approveleave/"+t._id,t)}getUserId(){return this.authService.getUserId()}}return t.\u0275fac=function(e){return new(e||t)(o.fc(s.b),o.fc(i.b),o.fc(r.a))},t.\u0275prov=o.Nb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var u=a("0IaG"),m=a("Wp6s"),f=a("3Pt+"),g=a("kmnG"),p=a("qFsG"),h=a("NFeN"),v=a("Qu3c"),C=a("+0xr"),X=a("bTqV"),W=a("Xa2L"),_=a("M9IT");function T(t,e){1&t&&(o.Xb(0,"th",28),o.Tc(1,"User Name "),o.Wb())}function I(t,e){if(1&t&&(o.Xb(0,"td",29),o.Tc(1),o.Wb()),2&t){const t=e.$implicit;o.Cb(1),o.Wc(" ",t.first_name," ",t.last_name,"")}}function S(t,e){1&t&&(o.Xb(0,"th",28),o.Tc(1," Email "),o.Wb())}function w(t,e){if(1&t&&(o.Xb(0,"td",30),o.Tc(1),o.Wb()),2&t){const t=e.$implicit;o.yc("matTooltip","Leave Balance: ",t.leave_balance,"/Status: ",t.status,""),o.Cb(1),o.Vc(" ",t.email," ")}}function y(t,e){1&t&&(o.Xb(0,"th",28),o.Tc(1," Location "),o.Wb())}function M(t,e){if(1&t&&(o.Xb(0,"td",29),o.Tc(1),o.Wb()),2&t){const t=e.$implicit;o.Cb(1),o.Vc(" ",t.jobDetailsId.job_location," ")}}function P(t,e){1&t&&(o.Xb(0,"th",28),o.Tc(1,"Status "),o.Wb())}function R(t,e){if(1&t&&(o.Xb(0,"td",29),o.Tc(1),o.Wb()),2&t){const t=e.$implicit;o.Cb(1),o.Vc(" ",t.status," ")}}function O(t,e){1&t&&(o.Xb(0,"th",28),o.Tc(1," Role "),o.Wb())}function D(t,e){1&t&&(o.Xb(0,"a"),o.Tc(1,"Admin"),o.Wb())}function L(t,e){1&t&&(o.Xb(0,"a"),o.Tc(1,"Manager"),o.Wb())}function k(t,e){1&t&&(o.Xb(0,"a"),o.Tc(1,"Employee"),o.Wb())}function x(t,e){if(1&t&&(o.Xb(0,"td",29),o.Rc(1,D,2,0,"a",31),o.Rc(2,L,2,0,"a",31),o.Rc(3,k,2,0,"a",31),o.Wb()),2&t){const t=e.$implicit;o.Cb(1),o.vc("ngIf",1==t.role),o.Cb(1),o.vc("ngIf",2==t.role),o.Cb(1),o.vc("ngIf",3==t.role)}}function U(t,e){1&t&&(o.Xb(0,"th",28),o.Tc(1," Mobile "),o.Wb())}function A(t,e){if(1&t&&(o.Xb(0,"td",29),o.Tc(1),o.Wb()),2&t){const t=e.$implicit;o.Cb(1),o.Vc(" ",t.mobile," ")}}function V(t,e){1&t&&(o.Xb(0,"th",32),o.Tc(1,"Action "),o.Wb())}const z=function(t){return["/authorized/manager/approve_leave",t]},$=function(t){return["/authorized/emp/qualifications",t]};function j(t,e){if(1&t&&(o.Xb(0,"td",33),o.Xb(1,"a",34),o.Xb(2,"mat-icon",35),o.Tc(3,"info"),o.Wb(),o.Wb(),o.Xb(4,"button",36),o.Xb(5,"mat-icon",35),o.Tc(6,"account_balance"),o.Wb(),o.Wb(),o.Wb()),2&t){const t=e.$implicit;o.vc("ngSwitch",t.status),o.Cb(1),o.vc("routerLink",o.Ac(3,z,t._id)),o.Cb(3),o.vc("routerLink",o.Ac(5,$,t._id))}}function E(t,e){1&t&&o.Sb(0,"tr",37)}function F(t,e){1&t&&o.Sb(0,"tr",38)}function N(t,e){1&t&&o.Sb(0,"mat-progress-spinner",39)}function K(t,e){1&t&&(o.Xb(0,"p",40),o.Tc(1,"No Users Found!"),o.Wb())}function q(t,e){if(1&t){const t=o.Yb();o.Xb(0,"mat-paginator",41),o.jc("page",(function(e){return o.Kc(t),o.nc().onChangedPage(e)})),o.Wb()}if(2&t){const t=o.nc();o.vc("length",t.userCount)("pageSize",t.usersPerPage)("pageSizeOptions",t.userSizeOptions)}}const B=function(){return["/authorized/manager/approve_leave"]};let H=(()=>{class t{constructor(t,e,a,n,i){this.managerService=t,this.authService=e,this.activatedRoute=a,this.dialog=n,this.router=i,this.users=[],this.isLoading=!1,this.currentPage=1,this.userCount=0,this.usersPerPage=10,this.userSizeOptions=[10,20,50],this.userIsAuthenticated=!1,this.userData=[],this.displayedColumns=["Name","Email","Location","Role","Mobile","Status","Action"],this.activatedRoute.paramMap.subscribe(t=>{this.userId=t.get("userId")})}ngOnInit(){this.userId&&null!=this.userId||(this.userId=this.authService.getUserId()),this.userIsAuthenticated=this.authService.getIsAuth(),this.isLoading=!0,this.managerService.getAssignedUsers(this.usersPerPage,this.currentPage,this.usersearch,this.userId).subscribe(t=>{this.users=t.users,this.isLoading=!1})}onChangedPage(t){this.isLoading=!0,this.currentPage=t.pageIndex+1,this.usersPerPage=t.pageSize,this.ngOnInit()}userChangeValue(t){this.currentPage=1,this.ngOnInit()}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(d),o.Rb(r.a),o.Rb(i.a),o.Rb(u.b),o.Rb(i.b))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-assigned-users"]],decls:41,vars:9,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6"],["action","#","autocomplete","off"],[2,"width","50%"],["matInput","","name","name","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["nameInput","ngModel"],["matSuffix",""],["matTooltip","Approve Assigne Employee Leave",1,"btn","btn-success","float-right",3,"routerLink"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Email"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","Location"],["matColumnDef","Status"],["matColumnDef","Role"],["matColumnDef","Mobile"],["matColumnDef","Action"],["mat-header-cell","","style"," padding: 18px 55px; text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",3,"ngSwitch",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",3,"matTooltip"],[4,"ngIf"],["mat-header-cell","",2,"padding","18px 55px","text-align","center"],["mat-cell","",2,"text-align","center",3,"ngSwitch"],["mat-button","","matTooltip","User Leave Details",3,"routerLink"],["md-list-icon",""],["mat-button","","matTooltip","Qualifications",3,"routerLink"],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){if(1&t){const t=o.Yb();o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"div",2),o.Sb(3,"div",3),o.Xb(4,"div",3),o.Xb(5,"mat-card"),o.Xb(6,"form",4),o.Xb(7,"mat-form-field",5),o.Xb(8,"input",6,7),o.jc("ngModelChange",(function(t){return e.usersearch=t}))("keyup",(function(){o.Kc(t);const a=o.Gc(9);return e.userChangeValue(a.value)})),o.Wb(),o.Xb(10,"mat-icon",8),o.Tc(11,"search"),o.Wb(),o.Wb(),o.Xb(12,"button",9),o.Tc(13,"Approve Leaves"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(14,"table",10),o.Vb(15,11),o.Rc(16,T,2,0,"th",12),o.Rc(17,I,2,2,"td",13),o.Ub(),o.Vb(18,14),o.Rc(19,S,2,0,"th",12),o.Rc(20,w,2,3,"td",15),o.Ub(),o.Vb(21,16),o.Rc(22,y,2,0,"th",12),o.Rc(23,M,2,1,"td",13),o.Ub(),o.Vb(24,17),o.Rc(25,P,2,0,"th",12),o.Rc(26,R,2,1,"td",13),o.Ub(),o.Vb(27,18),o.Rc(28,O,2,0,"th",12),o.Rc(29,x,4,3,"td",13),o.Ub(),o.Vb(30,19),o.Rc(31,U,2,0,"th",12),o.Rc(32,A,2,1,"td",13),o.Ub(),o.Vb(33,20),o.Rc(34,V,2,0,"th",21),o.Rc(35,j,7,7,"td",22),o.Ub(),o.Rc(36,E,1,0,"tr",23),o.Rc(37,F,1,0,"tr",24),o.Wb(),o.Rc(38,N,1,0,"mat-progress-spinner",25),o.Rc(39,K,2,0,"p",26),o.Rc(40,q,1,3,"mat-paginator",27),o.Wb()}2&t&&(o.Cb(8),o.vc("ngModel",e.usersearch),o.Cb(4),o.vc("routerLink",o.zc(8,B)),o.Cb(2),o.vc("dataSource",e.users),o.Cb(22),o.vc("matHeaderRowDef",e.displayedColumns),o.Cb(1),o.vc("matRowDefColumns",e.displayedColumns),o.Cb(1),o.vc("ngIf",e.isLoading),o.Cb(1),o.vc("ngIf",e.users.length<=0&&!e.isLoading),o.Cb(1),o.vc("ngIf",e.users.length>0))},directives:[m.a,f.x,f.n,f.o,g.c,p.b,f.b,f.m,f.p,h.a,g.h,v.a,i.c,C.j,C.c,C.e,C.b,C.g,C.i,n.m,C.d,C.a,n.o,X.a,i.e,X.b,C.f,C.h,W.a,_.a],styles:[".mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}"]}),t})();function Y(t,e){if(1&t&&(o.Xb(0,"mat-form-field",5),o.Xb(1,"mat-label"),o.Tc(2,"Duration"),o.Wb(),o.Sb(3,"input",15),o.Xb(4,"mat-icon",7),o.Tc(5,"schedule"),o.Wb(),o.Wb()),2&t){const t=o.nc(2);o.Cb(3),o.wc("value",t.data.duration)}}function G(t,e){if(1&t&&(o.Xb(0,"mat-form-field",5),o.Xb(1,"mat-label"),o.Tc(2,"Shift"),o.Wb(),o.Sb(3,"input",16),o.Xb(4,"mat-icon",7),o.Tc(5,"schedule"),o.Wb(),o.Wb()),2&t){const t=o.nc(2);o.Cb(3),o.wc("value",t.data.shift)}}function J(t,e){if(1&t&&(o.Xb(0,"div",3),o.Xb(1,"div",17),o.Xb(2,"mat-form-field",5),o.Xb(3,"mat-label"),o.Tc(4,"Start Time"),o.Wb(),o.Sb(5,"input",18),o.Xb(6,"mat-icon",7),o.Tc(7,"access_time"),o.Wb(),o.Wb(),o.Wb(),o.Xb(8,"div",17),o.Xb(9,"mat-form-field",5),o.Xb(10,"mat-label"),o.Tc(11,"End Time"),o.Wb(),o.Sb(12,"input",19),o.Xb(13,"mat-icon",7),o.Tc(14,"access_time"),o.Wb(),o.Wb(),o.Wb(),o.Xb(15,"div",17),o.Xb(16,"mat-form-field",5),o.Xb(17,"mat-label"),o.Tc(18,"Time Taken"),o.Wb(),o.Sb(19,"input",20),o.Xb(20,"mat-icon",7),o.Tc(21,"timelapse"),o.Wb(),o.Wb(),o.Wb(),o.Wb()),2&t){const t=o.nc(2);o.Cb(5),o.wc("value",t.data.start_time),o.Cb(7),o.wc("value",t.data.end_time),o.Cb(7),o.wc("value",t.data.time_taken)}}function Q(t,e){if(1&t){const t=o.Yb();o.Xb(0,"div",2),o.Xb(1,"div",3),o.Xb(2,"div",4),o.Xb(3,"mat-form-field",5),o.Xb(4,"mat-label"),o.Tc(5,"Leave Type"),o.Wb(),o.Sb(6,"input",6),o.Xb(7,"mat-icon",7),o.Tc(8,"launch"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(9,"div",3),o.Xb(10,"div",4),o.Xb(11,"mat-form-field",5),o.Xb(12,"mat-label"),o.Tc(13,"Start Date"),o.Wb(),o.Sb(14,"input",8),o.oc(15,"date"),o.Xb(16,"mat-icon",7),o.Tc(17,"calendar_today"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(18,"div",3),o.Xb(19,"div",4),o.Xb(20,"mat-form-field",5),o.Xb(21,"mat-label"),o.Tc(22,"End Date"),o.Wb(),o.Sb(23,"input",9),o.oc(24,"date"),o.Xb(25,"mat-icon",7),o.Tc(26,"calendar_today"),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(27,"div",3),o.Xb(28,"div",4),o.Rc(29,Y,6,1,"mat-form-field",10),o.Wb(),o.Wb(),o.Xb(30,"div",3),o.Xb(31,"div",4),o.Rc(32,G,6,1,"mat-form-field",10),o.Wb(),o.Wb(),o.Rc(33,J,22,3,"div",11),o.Xb(34,"div",3),o.Xb(35,"div",4),o.Xb(36,"mat-form-field",5),o.Xb(37,"mat-label"),o.Tc(38,"Comments"),o.Wb(),o.Xb(39,"textarea",12),o.Tc(40),o.Wb(),o.Xb(41,"mat-icon",7),o.Tc(42,"speaker_notes"),o.Wb(),o.Wb(),o.Sb(43,"br"),o.Wb(),o.Wb(),o.Xb(44,"div",13),o.Xb(45,"button",14),o.jc("click",(function(){return o.Kc(t),o.nc().close()})),o.Tc(46,"Close"),o.Wb(),o.Tc(47,"\xa0 "),o.Wb(),o.Wb()}if(2&t){const t=o.nc();o.Cb(6),o.wc("value",t.data.leaveId.leave_type),o.Cb(8),o.wc("value",o.qc(15,8,t.data.start_date,"shortDate")),o.Cb(9),o.wc("value",o.qc(24,11,t.data.end_date,"shortDate")),o.Cb(6),o.vc("ngIf",t.data.duration),o.Cb(3),o.vc("ngIf",t.data.shift),o.Cb(1),o.vc("ngIf","Specify Time"==t.data.duration),o.Cb(6),o.wc("value",t.data.leave_desc),o.Cb(1),o.Uc(t.data.leave_desc)}}let Z=(()=>{class t{constructor(t,e,a,n,i,o){this.managerService=t,this.dialogRef=e,this.route=a,this.router=n,this.dialog=i,this.isLoading=!0,this.category=[],this.disablerole=!0,this.data=[],this.leave=[],this.isEdit=!0,this.userId=null,console.log(o,"0000000"),this.data=o.data,this.leave=o.balance}ngOnInit(){this.isLoading=!1}close(){this.dialogRef.close()}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(d),o.Rb(u.h),o.Rb(i.a),o.Rb(i.b),o.Rb(u.b),o.Rb(u.a))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-leave-details"]],decls:5,vars:4,consts:[["mat-dialog-title",""],["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-12"],["appearance","outline"],["matInput","","name","leaveId","readonly","",3,"value"],["matSuffix",""],["matInput","","readonly","","name","start_date",3,"value"],["matInput","","name","end_date","readonly","",3,"value"],["appearance","outline",4,"ngIf"],["class","row",4,"ngIf"],["matInput","","name","leave_desc","type","text","readonly","",3,"value"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary",3,"click"],["matInput","","name","duration","readonly","",3,"value"],["matInput","","name","shift","readonly","",3,"value"],[1,"col-md-4"],["matInput","","name","start_time","placeholder","Start Time","readonly","",3,"value"],["matInput","","name","end_time","placeholder","End Time","readonly","",3,"value"],["matInput","","name","time_taken","disabled","true","type","text","readonly","",3,"value"]],template:function(t,e){1&t&&(o.Xb(0,"div"),o.Xb(1,"h2",0),o.Tc(2),o.oc(3,"date"),o.Wb(),o.Wb(),o.Rc(4,Q,48,14,"div",1)),2&t&&(o.Cb(2),o.Vc("Leave Details Applied On: ",o.pc(3,2,e.data.createdAt),""),o.Cb(2),o.vc("ngIf",!e.isLoading))},directives:[u.i,n.m,g.c,g.g,p.b,h.a,g.h,X.b],pipes:[n.e],styles:[".form[_ngcontent-%COMP%]{line-height:normal}.mat-card[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:auto;min-height:598px}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),t})();var tt=a("iadO"),et=a("d3UM"),at=a("FKr1");function nt(t,e){if(1&t&&(o.Xb(0,"mat-option",36),o.Tc(1),o.Wb()),2&t){const t=e.$implicit;o.vc("value",t.title),o.Cb(1),o.Vc(" ",t.title," ")}}function it(t,e){if(1&t&&(o.Xb(0,"div",1),o.Xb(1,"div",37),o.Xb(2,"button",38),o.Tc(3),o.Wb(),o.Tc(4,"\xa0 "),o.Xb(5,"button",39),o.Tc(6),o.Wb(),o.Tc(7,"\xa0 "),o.Xb(8,"button",40),o.Tc(9),o.Wb(),o.Tc(10,"\xa0 "),o.Xb(11,"button",41),o.Tc(12),o.Wb(),o.Tc(13,"\xa0 "),o.Xb(14,"button",42),o.Tc(15),o.Wb(),o.Tc(16,"\xa0 "),o.Wb(),o.Wb()),2&t){const t=o.nc();o.Cb(3),o.Uc(t.leaveBalance.leave_balance),o.Cb(3),o.Uc(t.leaveBalance.optional_holidays),o.Cb(3),o.Uc(t.leaveBalance.camp_off),o.Cb(3),o.Uc(t.leaveBalance.marternity_leave),o.Cb(3),o.Uc(t.leaveBalance.paternity_leave)}}function ot(t,e){1&t&&(o.Xb(0,"th",43),o.Tc(1," Leave Type"),o.Wb())}function ct(t,e){if(1&t&&(o.Xb(0,"td",44),o.Tc(1),o.Wb()),2&t){const t=e.$implicit;o.Cb(1),o.Vc(" ",t.leaveId.leave_type," ")}}function st(t,e){1&t&&(o.Xb(0,"th",43),o.Tc(1," Start Date "),o.Wb())}function rt(t,e){if(1&t&&(o.Xb(0,"td",44),o.Tc(1),o.oc(2,"date"),o.Wb()),2&t){const t=e.$implicit;o.Cb(1),o.Vc(" ",o.pc(2,1,t.start_date)," ")}}function bt(t,e){1&t&&(o.Xb(0,"th",43),o.Tc(1," Applied Date "),o.Wb())}function lt(t,e){if(1&t&&(o.Xb(0,"td",44),o.Tc(1),o.oc(2,"date"),o.Wb()),2&t){const t=e.$implicit;o.Cb(1),o.Vc(" ",o.pc(2,1,t.createdAt)," ")}}function dt(t,e){1&t&&(o.Xb(0,"th",43),o.Tc(1," End Date "),o.Wb())}function ut(t,e){if(1&t&&(o.Xb(0,"td",44),o.Tc(1),o.oc(2,"date"),o.Wb()),2&t){const t=e.$implicit;o.Cb(1),o.Vc(" ",o.pc(2,1,t.end_date)," ")}}function mt(t,e){1&t&&(o.Xb(0,"th",43),o.Tc(1," No of Days Taken "),o.Wb())}function ft(t,e){if(1&t&&(o.Xb(0,"a",46),o.Tc(1),o.Wb()),2&t){const t=o.nc().$implicit;o.wc("matTooltip",t.time_taken),o.Cb(1),o.Vc(" days - ",t.time_taken," (hrs : mins)")}}function gt(t,e){if(1&t&&(o.Xb(0,"td",44),o.Tc(1),o.Rc(2,ft,2,2,"a",45),o.Wb()),2&t){const t=e.$implicit;o.Cb(1),o.Vc(" ",t.no_of_days_taken," "),o.Cb(1),o.vc("ngIf",0==t.no_of_days_taken)}}function pt(t,e){1&t&&(o.Xb(0,"th",43),o.Tc(1," Loss of Pay "),o.Wb())}function ht(t,e){1&t&&(o.Xb(0,"a"),o.Tc(1,"-- --"),o.Wb())}function vt(t,e){if(1&t&&(o.Xb(0,"a"),o.Tc(1),o.Wb()),2&t){const t=o.nc().$implicit;o.Cb(1),o.Vc("",t.los_of_pay_days," ")}}function Ct(t,e){if(1&t&&(o.Xb(0,"td",44),o.Rc(1,ht,2,0,"a",47),o.Rc(2,vt,2,1,"a",47),o.Wb()),2&t){const t=e.$implicit;o.Cb(1),o.vc("ngIf",t.los_of_pay_days<=0),o.Cb(1),o.vc("ngIf",t.los_of_pay_days>0)}}function Xt(t,e){1&t&&(o.Xb(0,"th",43),o.Tc(1," Status "),o.Wb())}function Wt(t,e){if(1&t&&(o.Xb(0,"td",44),o.Tc(1),o.Wb()),2&t){const t=e.$implicit;o.Cb(1),o.Vc(" ",t.status," ")}}function _t(t,e){1&t&&(o.Xb(0,"th",48),o.Tc(1,"Action "),o.Wb())}function Tt(t,e){1&t&&(o.Xb(0,"a",56),o.Xb(1,"mat-icon",51),o.Tc(2,"check"),o.Wb(),o.Wb())}function It(t,e){if(1&t){const t=o.Yb();o.Xb(0,"a",57),o.jc("click",(function(){o.Kc(t);const e=o.nc().$implicit;return o.nc().updateLeaveStatus(e,"Canceled")})),o.Xb(1,"mat-icon",51),o.Tc(2,"cancel"),o.Wb(),o.Wb()}if(2&t){const t=o.nc(2);o.vc("disabled",t.isDisabled)}}function St(t,e){if(1&t){const t=o.Yb();o.Xb(0,"a",58),o.jc("click",(function(){o.Kc(t);const e=o.nc().$implicit;return o.nc().approveLeave(e,"Approved")})),o.Xb(1,"mat-icon",51),o.Tc(2,"check"),o.Wb(),o.Wb()}if(2&t){const t=o.nc(2);o.vc("disabled",t.isDisabled)}}function wt(t,e){1&t&&(o.Xb(0,"a",59),o.Xb(1,"mat-icon",51),o.Tc(2,"block"),o.Wb(),o.Wb())}function yt(t,e){if(1&t){const t=o.Yb();o.Xb(0,"td",49),o.Xb(1,"a",50),o.jc("click",(function(){o.Kc(t);const a=e.$implicit;return o.nc().openDialog(a)})),o.Xb(2,"mat-icon",51),o.Tc(3,"info"),o.Wb(),o.Wb(),o.Rc(4,Tt,3,0,"a",52),o.Rc(5,It,3,1,"a",53),o.Rc(6,St,3,1,"a",54),o.Rc(7,wt,3,0,"a",55),o.Wb()}2&t&&(o.vc("ngSwitch",e.$implicit.status),o.Cb(4),o.vc("ngSwitchCase","Approved"),o.Cb(1),o.vc("ngSwitchCase","Pending"),o.Cb(1),o.vc("ngSwitchCase","Pending"),o.Cb(1),o.vc("ngSwitchCase","Canceled"))}function Mt(t,e){1&t&&o.Sb(0,"tr",60)}function Pt(t,e){1&t&&o.Sb(0,"tr",61)}function Rt(t,e){1&t&&o.Sb(0,"mat-progress-spinner",62)}function Ot(t,e){1&t&&(o.Xb(0,"p",63),o.Tc(1,"No Leaves Found!"),o.Wb())}function Dt(t,e){if(1&t){const t=o.Yb();o.Xb(0,"mat-paginator",64),o.jc("page",(function(e){return o.Kc(t),o.nc().onChangedPage(e)})),o.Wb()}if(2&t){const t=o.nc();o.vc("length",t.Count)("pageSize",t.perPage)("pageSizeOptions",t.sizeOptions)}}let Lt=(()=>{class t{constructor(t,e,a,n){this.managerService=t,this.activatedRoute=e,this.dialog=a,this.router=n,this.leaves=[],this.isLoading=!0,this.perPage=10,this.currentPage=1,this.Count=0,this.sizeOptions=[10,20,50,100],this.displayedColumns1=["Leave Type","Applied Date","Start Date","End Date","No of Days Taken","Loss of Pay","Status","Action"],this.filterTypes=[{title:"Approved",id:1},{title:"Rejected",id:2},{title:"Pending",id:3},{title:"Canceled",id:4}],this.isDisabled=!1,this.userId=this.managerService.getUserId(),this.activatedRoute.paramMap.subscribe(t=>{this.userId=t.get("userId")});let i=new Date,o=(i.getMonth(),i.getFullYear());i.getDate(),this.start_date=new Date(o+"/01/01"),this.end_date=new Date(o+"/12/31")}ngOnInit(){this.assigneeId=this.managerService.getUserId();let t={assigneeId:this.assigneeId};this.userId&&(t.userId=this.userId),this.managerService.getAssignedLeaves(this.perPage,this.currentPage,this.filter,this.start_date,this.end_date,t).subscribe(t=>{this.leaves=t.data,this.isLoading=!1,this.Count=t.count})}updateLeaveStatus(t,e){this.isDisabled=!0,this.managerService.updateLeaveStatus(t,e).subscribe(t=>{this.ngOnInit()},t=>{this.isDisabled=!1})}approveLeave(t,e){this.isDisabled=!0,this.managerService.approveLeave(t,e).subscribe(t=>{this.isLoading=!0,this.ngOnInit()},t=>{this.isDisabled=!1})}checkChangesDates(t,e){console.log("changeeee"),"startDate"==t&&(this.start_date=e.value),"endDate"==t&&(this.end_date=e.value),this.isLoading=!0,this.ngOnInit()}onChangeFilter(){this.isLoading=!0,this.ngOnInit()}onChangedPage(t){this.isLoading=!0,this.currentPage=t.pageIndex+1,this.perPage=t.pageSize,this.ngOnInit()}openDialog(t){const e=new u.e;e.disableClose=!1,e.autoFocus=!0,e.width="610px",e.data={data:t},this.dialog.open(Z,e).afterClosed().subscribe(t=>{this.ngOnInit()})}}return t.\u0275fac=function(e){return new(e||t)(o.Rb(d),o.Rb(i.a),o.Rb(u.b),o.Rb(i.b))},t.\u0275cmp=o.Lb({type:t,selectors:[["app-myleave"]],decls:65,vars:15,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"row",2,"margin","9px"],["appearance","outline"],["matInput","","readonly","","name","start_date","placeholder","Select Start Date","required","",3,"matDatepicker","ngModel","dateChange","ngModelChange"],["sdataInput","ngModel"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],["matInput","","readonly","","name","end_date","placeholder","Select End Date","required","",3,"matDatepicker","ngModel","dateChange","ngModelChange"],["edataInput","ngModel"],["picker1",""],["name","shift","placeholder","Select Filter",3,"ngModel","selectionChange","ngModelChange"],["filterInput","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","container",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Leave Type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Start Date"],["matColumnDef","Applied Date"],["matColumnDef","End Date"],["matColumnDef","No of Days Taken"],["matColumnDef","Loss of Pay"],["matColumnDef","Status"],["matColumnDef","Action"],["mat-header-cell","","style"," padding: 18px 55px; text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",3,"ngSwitch",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[3,"value"],[1,"row",2,"float","right"],["mat-mini-fab","","matTooltip","Annual Leave"],["mat-mini-fab","","matTooltip","Optional Leave"],["mat-mini-fab","","matTooltip","Camp Off Leave"],["mat-mini-fab","","matTooltip","Marternity Leave"],["mat-mini-fab","","matTooltip","Paternity Leave"],["mat-header-cell",""],["mat-cell",""],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],[4,"ngIf"],["mat-header-cell","",2,"padding","18px 55px","text-align","center"],["mat-cell","",2,"text-align","center",3,"ngSwitch"],["mat-button","","matTooltip","Leave Details",3,"click"],["md-list-icon",""],["mat-button","","color","accent","matTooltip","Approved",4,"ngSwitchCase"],["mat-button","","color","warn","matTooltip","Cancel Leave",3,"disabled","click",4,"ngSwitchCase"],["mat-button","","color","primary","matTooltip","Approve Leave",3,"disabled","click",4,"ngSwitchCase"],["mat-button","","color","warn","matTooltip","Leave Canceled",4,"ngSwitchCase"],["mat-button","","color","accent","matTooltip","Approved"],["mat-button","","color","warn","matTooltip","Cancel Leave",3,"disabled","click"],["mat-button","","color","primary","matTooltip","Approve Leave",3,"disabled","click"],["mat-button","","color","warn","matTooltip","Leave Canceled"],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){if(1&t&&(o.Xb(0,"div",0),o.Xb(1,"div",1),o.Xb(2,"div",2),o.Xb(3,"div",3),o.Xb(4,"div",4),o.Xb(5,"div",3),o.Xb(6,"mat-form-field",5),o.Xb(7,"mat-label"),o.Tc(8,"Start Date"),o.Wb(),o.Xb(9,"input",6,7),o.jc("dateChange",(function(t){return e.checkChangesDates("startDate",t)}))("ngModelChange",(function(t){return e.start_date=t})),o.Wb(),o.Sb(11,"mat-datepicker-toggle",8),o.Sb(12,"mat-datepicker",9,10),o.Wb(),o.Wb(),o.Xb(14,"div",3),o.Xb(15,"mat-form-field",5),o.Xb(16,"mat-label"),o.Tc(17,"End Date"),o.Wb(),o.Xb(18,"input",11,12),o.jc("dateChange",(function(t){return e.checkChangesDates("edataInput",t)}))("ngModelChange",(function(t){return e.end_date=t})),o.Wb(),o.Sb(20,"mat-datepicker-toggle",8),o.Sb(21,"mat-datepicker",9,13),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Xb(23,"div",3),o.Xb(24,"div",4),o.Xb(25,"div",3),o.Xb(26,"mat-form-field",5),o.Xb(27,"mat-label"),o.Tc(28,"Filter"),o.Wb(),o.Xb(29,"mat-select",14,15),o.jc("selectionChange",(function(){return e.onChangeFilter()}))("ngModelChange",(function(t){return e.filter=t})),o.Rc(31,nt,2,2,"mat-option",16),o.Wb(),o.Wb(),o.Wb(),o.Sb(32,"div",3),o.Wb(),o.Wb(),o.Wb(),o.Wb(),o.Sb(33,"br"),o.Rc(34,it,17,5,"div",17),o.Xb(35,"table",18),o.Vb(36,19),o.Rc(37,ot,2,0,"th",20),o.Rc(38,ct,2,1,"td",21),o.Ub(),o.Vb(39,22),o.Rc(40,st,2,0,"th",20),o.Rc(41,rt,3,3,"td",21),o.Ub(),o.Vb(42,23),o.Rc(43,bt,2,0,"th",20),o.Rc(44,lt,3,3,"td",21),o.Ub(),o.Vb(45,24),o.Rc(46,dt,2,0,"th",20),o.Rc(47,ut,3,3,"td",21),o.Ub(),o.Vb(48,25),o.Rc(49,mt,2,0,"th",20),o.Rc(50,gt,3,2,"td",21),o.Ub(),o.Vb(51,26),o.Rc(52,pt,2,0,"th",20),o.Rc(53,Ct,3,2,"td",21),o.Ub(),o.Vb(54,27),o.Rc(55,Xt,2,0,"th",20),o.Rc(56,Wt,2,1,"td",21),o.Ub(),o.Vb(57,28),o.Rc(58,_t,2,0,"th",29),o.Rc(59,yt,8,5,"td",30),o.Ub(),o.Rc(60,Mt,1,0,"tr",31),o.Rc(61,Pt,1,0,"tr",32),o.Wb(),o.Rc(62,Rt,1,0,"mat-progress-spinner",33),o.Rc(63,Ot,2,0,"p",34),o.Rc(64,Dt,1,3,"mat-paginator",35),o.Wb()),2&t){const t=o.Gc(13),a=o.Gc(22);o.Cb(9),o.vc("matDatepicker",t)("ngModel",e.start_date),o.Cb(2),o.vc("for",t),o.Cb(7),o.vc("matDatepicker",a)("ngModel",e.end_date),o.Cb(2),o.vc("for",a),o.Cb(9),o.vc("ngModel",e.filter),o.Cb(2),o.vc("ngForOf",e.filterTypes),o.Cb(3),o.vc("ngIf",!e.isLoading&&e.leaveBalance),o.Cb(1),o.vc("dataSource",e.leaves),o.Cb(25),o.vc("matHeaderRowDef",e.displayedColumns1),o.Cb(1),o.vc("matRowDefColumns",e.displayedColumns1),o.Cb(1),o.vc("ngIf",e.isLoading),o.Cb(1),o.vc("ngIf",e.leaves.length<=0&&!e.isLoading),o.Cb(1),o.vc("ngIf",e.leaves.length>0)}},directives:[g.c,g.g,p.b,tt.b,f.b,f.u,f.m,f.p,tt.d,g.h,tt.a,et.a,n.l,n.m,C.j,C.c,C.e,C.b,C.g,C.i,at.o,X.b,v.a,C.d,C.a,n.o,X.a,h.a,n.p,C.f,C.h,W.a,_.a],pipes:[n.e],styles:[".mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}"]}),t})();const kt=[{path:"assigned_users",component:H},{path:"assigned_users/:userId",component:H},{path:"approve_leave",component:Lt},{path:"approve_leave/:assignUserId",component:Lt},{path:"",redirectTo:"assigned_userss",pathMatch:"full"}];let xt=(()=>{class t{}return t.\u0275mod=o.Pb({type:t}),t.\u0275inj=o.Ob({factory:function(e){return new(e||t)},imports:[[i.f.forChild(kt)],i.f]}),t})();var Ut=a("rhD1");a.d(e,"ManagerModule",(function(){return At}));let At=(()=>{class t{}return t.\u0275mod=o.Pb({type:t}),t.\u0275inj=o.Ob({factory:function(e){return new(e||t)},imports:[[n.c,f.g,f.t,Ut.a,xt]]}),t})()}}]);