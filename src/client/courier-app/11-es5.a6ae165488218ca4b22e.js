function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"5OiB":function(e,t,n){"use strict";n.r(t);var a,o=n("ofXK"),i=n("tyNb"),r=n("0IaG"),c=n("fXoL"),l=n("AytR"),s=n("tk/3"),b=l.a.apiUrl+"/roles",d=((a=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.router=n}return _createClass(e,[{key:"getRoles",value:function(e,t,n){var a="?pagesize=".concat(e,"&page=").concat(t);return console.log(n),n&&(a+="&search="+n),this.http.get(b+"/getroles"+a)}},{key:"addRole",value:function(e,t){return this.http.post(b+"/createrole",{role_name:e,role_desc:t})}},{key:"getRoleById",value:function(e){return this.http.get(b+"/"+e)}},{key:"updateRole",value:function(e,t,n,a){var o;return o={id:e,role_name:n,role_desc:a,role_id:t},console.log(o),this.http.put(b+"/"+e,o)}},{key:"deleteRole",value:function(e){return this.http.delete(b+"/"+e)}}]),e}()).\u0275fac=function(e){return new(e||a)(c.fc(s.b),c.fc(i.b))},a.\u0275prov=c.Nb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),u=n("3Pt+"),m=n("kmnG"),g=n("qFsG"),f=n("bTqV");function p(e,t){1&e&&(c.Xb(0,"h1",13),c.Tc(1,"Edit Role Details"),c.Wb())}function h(e,t){1&e&&(c.Xb(0,"h1",13),c.Tc(1,"Create Role"),c.Wb())}function v(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter RoleName."),c.Wb())}function C(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Only alphabets allowed"),c.Wb())}function y(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Description."),c.Wb())}var _,M=((_=function(){function e(t,n,a,o,i,r){_classCallCheck(this,e),this.rolesService=t,this.dialogRef=n,this.route=a,this.router=o,this.dialog=i,this.isLoading=!1,this.role=[],this.disablerole=!0,this.data=[],this.isEdit=!0,this.userId=null,console.log(r,"0000000"),this.data=r,this.role={_id:"",role_name:"",role_desc:"",role_id:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.data.id&&"edit"==this.data.mode?this.rolesService.getRoleById(this.data.id).subscribe((function(t){e.isLoading=!1,e.isEdit=!0,e.mode="edit",console.log("ttt",t),e.role={_id:t.role[0]._id,role_name:t.role[0].role_name,role_desc:t.role[0].role_desc,role_id:t.role[0].role_id}})):(this.isLoading=!1,this.mode="create",this.isEdit=!1,this.userId=null)}},{key:"onSaveRole",value:function(e){var t=this;e.invalid||(this.isLoading=!0,"create"===this.mode?this.rolesService.addRole(e.value.role_name,e.value.role_desc).subscribe((function(e){t.dialogRef.close()}),(function(e){t.isLoading=!1})):this.rolesService.updateRole(this.role._id,this.role.role_id,this.role.role_name,e.value.role_desc).subscribe((function(e){t.dialogRef.close()}),(function(e){t.isLoading=!1})))}},{key:"close",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||_)(c.Rb(d),c.Rb(r.h),c.Rb(i.a),c.Rb(i.b),c.Rb(r.b),c.Rb(r.a))},_.\u0275cmp=c.Lb({type:_,selectors:[["app-create-roles"]],decls:25,vars:10,consts:[["mat-dialog-title","",4,"ngIf"],[3,"submit"],["roleForm","ngForm"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","name","role_name","pattern","[a-zA-Z][a-zA-Z ]+","type","text","placeholder","Role Name","required","",3,"disabled","ngModel","ngModelChange"],["nameInput","ngModel"],[4,"ngIf"],["matInput","","name","role_desc","type","text","placeholder","Role Description","required","",3,"ngModel","ngModelChange"],["descInput","ngModel"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary","matDialogClose","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-dialog-title",""]],template:function(e,t){if(1&e){var n=c.Yb();c.Rc(0,p,2,0,"h1",0),c.Rc(1,h,2,0,"h1",0),c.Xb(2,"form",1,2),c.jc("submit",(function(){c.Kc(n);var e=c.Gc(3);return t.onSaveRole(e)})),c.Xb(4,"div",3),c.Xb(5,"mat-form-field",4),c.Xb(6,"mat-label"),c.Tc(7,"Role Name"),c.Wb(),c.Xb(8,"input",5,6),c.jc("ngModelChange",(function(e){return t.role.role_name=e})),c.Wb(),c.Rc(10,v,2,0,"mat-error",7),c.Rc(11,C,2,0,"mat-error",7),c.Wb(),c.Xb(12,"mat-form-field",4),c.Xb(13,"mat-label"),c.Tc(14,"Description"),c.Wb(),c.Xb(15,"textarea",8,9),c.jc("ngModelChange",(function(e){return t.role.role_desc=e})),c.Tc(17),c.Wb(),c.Rc(18,y,2,0,"mat-error",7),c.Wb(),c.Wb(),c.Xb(19,"div",10),c.Xb(20,"button",11),c.jc("click",(function(){return t.close()})),c.Tc(21,"Close"),c.Wb(),c.Tc(22,"\xa0 "),c.Xb(23,"button",12),c.Tc(24,"Save"),c.Wb(),c.Wb(),c.Wb()}if(2&e){var a=c.Gc(3),o=c.Gc(9),i=c.Gc(16);c.vc("ngIf","edit"==t.mode),c.Cb(1),c.vc("ngIf","create"==t.mode),c.Cb(7),c.vc("disabled",t.isEdit)("ngModel",t.role.role_name),c.Cb(2),c.vc("ngIf",o.hasError("required")),c.Cb(1),c.vc("ngIf",o.hasError("pattern")),c.Cb(4),c.vc("ngModel",t.role.role_desc),c.Cb(2),c.Uc(t.role.role_desc),c.Cb(1),c.vc("ngIf",i.hasError("required")),c.Cb(5),c.vc("disabled",t.isLoading||a.invalid)}},directives:[o.m,u.x,u.n,u.o,r.f,m.c,m.g,g.b,u.b,u.s,u.u,u.m,u.p,f.b,r.d,r.i,m.b],styles:[".form[_ngcontent-%COMP%]{line-height:normal}mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),_),W=n("Wp6s"),X=n("NFeN"),I=n("+0xr"),P=n("Qu3c"),T=n("Xa2L"),O=n("M9IT");function k(e,t){1&e&&(c.Xb(0,"th",24),c.Tc(1," Role Name "),c.Wb())}function R(e,t){if(1&e&&(c.Xb(0,"td",25),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.role_name," ")}}function w(e,t){1&e&&(c.Xb(0,"th",24),c.Tc(1," Description "),c.Wb())}function S(e,t){if(1&e&&(c.Xb(0,"td",25),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.role_desc," ")}}function D(e,t){1&e&&(c.Xb(0,"th",24),c.Tc(1," RoleID "),c.Wb())}function x(e,t){if(1&e&&(c.Xb(0,"td",25),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.role_id," ")}}function L(e,t){1&e&&(c.Xb(0,"th",26),c.Tc(1,"Action "),c.Wb())}function j(e,t){if(1&e){var n=c.Yb();c.Xb(0,"td",27),c.Xb(1,"a",28),c.jc("click",(function(){c.Kc(n);var e=t.$implicit;return c.nc().openDialog(e._id,"edit")})),c.Xb(2,"mat-icon",8),c.Tc(3,"edit"),c.Wb(),c.Wb(),c.Wb()}}function E(e,t){1&e&&c.Sb(0,"tr",29)}function U(e,t){1&e&&c.Sb(0,"tr",30)}function A(e,t){1&e&&c.Sb(0,"mat-progress-spinner",31)}function z(e,t){1&e&&(c.Xb(0,"p",32),c.Tc(1,"No Roles Found!"),c.Wb())}function q(e,t){if(1&e){var n=c.Yb();c.Xb(0,"mat-paginator",33),c.jc("page",(function(e){return c.Kc(n),c.nc().onChangedPage(e)})),c.Wb()}if(2&e){var a=c.nc();c.vc("length",a.roleCount)("pageSize",a.rolesPerPage)("pageSizeOptions",a.roleSizeOptions)}}var N,V,F=((N=function(){function e(t,n,a,o){_classCallCheck(this,e),this.rolesService=t,this.route=n,this.dialog=a,this.router=o,this.roles=[],this.isLoading=!1,this.rolesPerPage=10,this.currentPage=1,this.roleCount=0,this.roleSizeOptions=[10,20,50],this.displayedColumns1=["Role Name","Description","RoleID","Action"]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isLoading=!0,this.rolesService.getRoles(this.rolesPerPage,this.currentPage,this.rolesearch).subscribe((function(t){e.roles=t.data,e.isLoading=!1,e.roleCount=t.count,console.log("role-",e.roleCount)}))}},{key:"onDeleteRole",value:function(e){var t=this;this.rolesService.deleteRole(e).subscribe((function(e){t.rolesService.getRoles(t.rolesPerPage,t.currentPage,t.rolesearch).subscribe((function(e){t.roles=e.data}))}))}},{key:"onSearch",value:function(){this.ngOnInit()}},{key:"onChangedPage",value:function(e){this.currentPage=e.pageIndex+1,this.rolesPerPage=e.pageSize,this.ngOnInit()}},{key:"openDialog",value:function(e,t){var n=this,a=new r.e;a.disableClose=!0,a.autoFocus=!0,a.data={id:e,mode:t},this.dialog.open(M,a).afterClosed().subscribe((function(e){n.rolesService.getRoles(n.rolesPerPage,n.currentPage,n.rolesearch).subscribe((function(e){n.roles=e.data}))}))}}]),e}()).\u0275fac=function(e){return new(e||N)(c.Rb(d),c.Rb(i.a),c.Rb(r.b),c.Rb(i.b))},N.\u0275cmp=c.Lb({type:N,selectors:[["app-roles"]],decls:33,vars:7,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6"],["action","#","autocomplete","off"],[2,"width","45%"],["matInput","","name","name","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["nameInput","ngModel"],["md-list-icon",""],[1,"btn","btn-success","float-right",3,"click"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Role Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","RoleID"],["matColumnDef","Action"],["mat-header-cell","","style","text-align: center; padding: 18px 55px;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",2,"text-align","center","padding","18px 55px"],["mat-cell","",2,"text-align","center"],["mat-button","","color","primary","matTooltip","Edit User Details","aria-label","Button that displays a tooltip when focused or hovered over",3,"click"],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(e,t){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Sb(3,"div",3),c.Xb(4,"div",3),c.Xb(5,"mat-card"),c.Xb(6,"form",4),c.Xb(7,"mat-form-field",5),c.Xb(8,"input",6,7),c.jc("ngModelChange",(function(e){return t.rolesearch=e}))("keyup",(function(){return t.onSearch()})),c.Wb(),c.Wb(),c.Xb(10,"mat-icon",8),c.Tc(11,"search"),c.Wb(),c.Xb(12,"button",9),c.jc("click",(function(){return t.openDialog(0,"create")})),c.Tc(13,"+ New Role"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Sb(14,"br"),c.Xb(15,"table",10),c.Vb(16,11),c.Rc(17,k,2,0,"th",12),c.Rc(18,R,2,1,"td",13),c.Ub(),c.Vb(19,14),c.Rc(20,w,2,0,"th",12),c.Rc(21,S,2,1,"td",13),c.Ub(),c.Vb(22,15),c.Rc(23,D,2,0,"th",12),c.Rc(24,x,2,1,"td",13),c.Ub(),c.Vb(25,16),c.Rc(26,L,2,0,"th",17),c.Rc(27,j,4,0,"td",18),c.Ub(),c.Rc(28,E,1,0,"tr",19),c.Rc(29,U,1,0,"tr",20),c.Wb(),c.Rc(30,A,1,0,"mat-progress-spinner",21),c.Rc(31,z,2,0,"p",22),c.Rc(32,q,1,3,"mat-paginator",23),c.Wb()),2&e&&(c.Cb(8),c.vc("ngModel",t.rolesearch),c.Cb(7),c.vc("dataSource",t.roles),c.Cb(13),c.vc("matHeaderRowDef",t.displayedColumns1),c.Cb(1),c.vc("matRowDefColumns",t.displayedColumns1),c.Cb(1),c.vc("ngIf",t.isLoading),c.Cb(1),c.vc("ngIf",t.roles.length<=0&&!t.isLoading),c.Cb(1),c.vc("ngIf",t.roles.length>0))},directives:[W.a,u.x,u.n,u.o,m.c,g.b,u.b,u.m,u.p,X.a,I.j,I.c,I.e,I.b,I.g,I.i,o.m,I.d,I.a,f.a,P.a,I.f,I.h,T.a,O.a],styles:[".mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}"]}),N),$=n("XNiG"),G=n("lJxs"),J=n("dMDw"),B=l.a.apiUrl+"/users",K=l.a.apiUrl+"/roles",H=l.a.apiUrl+"/category",Y=l.a.apiUrl+"/subcategory",Z=l.a.apiUrl+"/job",Q=((V=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.router=n,this.users=[],this.usersUpdated=new $.a}return _createClass(e,[{key:"getUsers",value:function(e,t,n){var a=this,o="?pagesize=".concat(e,"&page=").concat(t);n&&(o+="&search="+n),this.http.get(B+"/listusers"+o).pipe(Object(G.a)((function(e){return{users:e.users,userCount:e.userCount}}))).subscribe((function(e){a.users=e.users,a.usersUpdated.next({users:_toConsumableArray(a.users),userCount:e.userCount})}))}},{key:"getUser",value:function(e){return this.http.get(B+"/"+e)}},{key:"search",value:function(e){var t="?";return e&&(t+="search="+e),this.http.get(B+"/search"+t).pipe(Object(J.debounceTime)(500),Object(G.a)((function(e){return e})))}},{key:"addUser",value:function(e){return this.http.post(B+"/",{email:e.value.email,first_name:e.value.first_name,last_name:e.value.last_name,role:e.value.role,mobile:e.value.mobile,categoryId:e.value.categoryId,subcategoryId:e.value.subcategoryId,work_shift:e.value.work_shift,employment_status:e.value.employment_status,job_specification:e.value.job_specification,job_location:e.value.job_location,leave_balance:e.value.leave_balance,join_date:e.value.join_date,jobId:e.value.jobId,personal_email:e.value.personal_email,address1:e.value.address1,address2:e.value.address2,city:e.value.city,state:e.value.state,country:e.value.country,zip_code:e.value.zip_code,assignee:e.value.assignee,assigneeId:e.value.assignee._id})}},{key:"updateUser",value:function(e,t,n,a){var o;console.log(t.value);var i={id:e,email:t.value.email,first_name:t.value.first_name,last_name:t.value.last_name,role:t.value.role,mobile:t.value.mobile,categoryId:t.value.categoryId,subcategoryId:t.value.subcategoryId,work_shift:t.value.work_shift,employment_status:t.value.employment_status,job_specification:t.value.job_specification,job_location:t.value.job_location,leave_balance:t.value.leave_balance,join_date:t.value.join_date,jobId:t.value.jobId,personal_email:t.value.personal_email,address1:t.value.address1,address2:t.value.address2,city:t.value.city,jobDetailsId:n,userAddressId:a,state:t.value.state,country:t.value.country,zip_code:t.value.zip_code,assignee:t.value.assignee,assigneeId:null===(o=t.value.assignee)||void 0===o?void 0:o._id};return this.http.put(B+"/"+e,i)}},{key:"deleteUser",value:function(e){return this.http.delete(B+"/"+e)}},{key:"activeUserAccount",value:function(e){return this.http.put(B+"/activeuseraccount/"+e._id,e)}},{key:"deactiveUserAccount",value:function(e){return this.http.put(B+"/deactiveuseraccount/"+e._id,e)}},{key:"getRoles",value:function(){return this.http.get(K+"/getroles")}},{key:"getCategories",value:function(){return this.http.get(H+"/getcategories")}},{key:"getSubcatByCatId",value:function(e){return this.http.get(Y+"/categories/"+e)}},{key:"getJobs",value:function(){return this.http.get(Z+"/getjobs")}},{key:"getUserUpdateListener",value:function(){return this.usersUpdated.asObservable()}}]),e}()).\u0275fac=function(e){return new(e||V)(c.fc(s.b),c.fc(i.b))},V.\u0275prov=c.Nb({token:V,factory:V.\u0275fac,providedIn:"root"}),V),ee=n("qXBG"),te=n("d3UM"),ne=n("iadO"),ae=n("/1cH"),oe=n("FKr1");function ie(e,t){1&e&&(c.Xb(0,"h1",60),c.Tc(1,"Edit User Details"),c.Wb())}function re(e,t){1&e&&(c.Xb(0,"h1",60),c.Tc(1,"Create User"),c.Wb())}function ce(e,t){1&e&&c.Sb(0,"mat-progress-spinner",61)}function le(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter First Name."),c.Wb())}function se(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Last Name."),c.Wb())}function be(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Email."),c.Wb())}function de(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Email format should be "),c.Xb(2,"small"),c.Xb(3,"b"),c.Tc(4,"joe@abc.com"),c.Wb(),c.Wb(),c.Wb())}function ue(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Personal Email."),c.Wb())}function me(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Email format should be "),c.Xb(2,"small"),c.Xb(3,"b"),c.Tc(4,"joe@abc.com"),c.Wb(),c.Wb(),c.Wb())}function ge(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter PhoneNumber."),c.Wb())}function fe(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Mobile number should be only numbers"),c.Wb())}function pe(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Mobile should be 10digit"),c.Wb())}function he(e,t){if(1&e&&(c.Xb(0,"mat-option",62),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.vc("value",n.role_id),c.Cb(1),c.Vc(" ",n.role_name," ")}}function ve(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Select Role."),c.Wb())}function Ce(e,t){if(1&e&&(c.Xb(0,"mat-option",62),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.vc("value",n._id),c.Cb(1),c.Vc(" ",n.job_name," ")}}function ye(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Job Title."),c.Wb())}function _e(e,t){if(1&e&&(c.Xb(0,"mat-option",62),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.vc("value",n.title),c.Cb(1),c.Vc(" ",n.title," ")}}function Me(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Employment Status."),c.Wb())}function We(e,t){if(1&e&&(c.Xb(0,"mat-option",62),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.vc("value",n._id),c.Cb(1),c.Vc(" ",n.category_name," ")}}function Xe(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Select Category."),c.Wb())}function Ie(e,t){if(1&e&&(c.Xb(0,"mat-option",62),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.vc("value",n._id),c.Cb(1),c.Vc(" ",n.sub_category_name," ")}}function Pe(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Sub Unit."),c.Wb())}function Te(e,t){if(1&e&&(c.Xb(0,"mat-option",62),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.vc("value",n.title),c.Cb(1),c.Vc(" ",n.title," ")}}function Oe(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Work Shift."),c.Wb())}function ke(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Job Specification."),c.Wb())}function Re(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Not More then 50."),c.Wb())}function we(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Enter Leave Balance."),c.Wb())}function Se(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Joined Date."),c.Wb())}function De(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Job Location."),c.Wb())}function xe(e,t){if(1&e&&(c.Xb(0,"mat-option",62),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.vc("value",n),c.Cb(1),c.Wc(" ",n.first_name," ",n.last_name," ")}}function Le(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Select Assignee Manager/User."),c.Wb())}function je(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Address1."),c.Wb())}function Ee(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Address2."),c.Wb())}function Ue(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter City."),c.Wb())}function Ae(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter State."),c.Wb())}function ze(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter County."),c.Wb())}function qe(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Zip Code."),c.Wb())}var Ne,Ve=((Ne=function(){function e(t,n,a,o,i,r,c){var l=this;_classCallCheck(this,e),this.userService=t,this.dialogRef=n,this.route=a,this.authService=o,this.router=i,this.dialog=r,this.searchTerm=new u.d,this.searchUser=[],this.data=[],this.isLoading=!0,this.rolesdata=[],this.subCatData=[],this.userData=[],this.jobsData=[],this.catData=[],this.isEdit=!1,this.mode="create",this.disabledLabel=!1,this.currentPage=1,this.empStatus=[{title:"Freelance",value:0},{title:"Full time Contract",value:1},{title:"Full-Time Permanent",value:2},{title:"Full-Time Probation",value:3},{title:"Part-Time Contract",value:4},{title:"Part-Time Internship",value:5}],this.workShift=[{title:"Full Day Work",value:0},{title:"Half Day Work",value:1}],console.log(c,"0000000"),this.data=c,this.userService.getRoles().subscribe((function(e){l.rolesdata=e.data})),this.userService.getCategories().subscribe((function(e){l.catData=e.data})),this.userService.getJobs().subscribe((function(e){l.jobsData=e.data}))}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.authStatusSub=this.authService.getAuthStatusListener().subscribe((function(e){})),this.userData=this.authService.getUserData(),this.user={id:"",email:"",personal_email:"",first_name:"",last_name:"",work_shift:"",employment_status:"",job_specification:"",job_location:"",leave_balance:"",address1:"",address2:"",join_date:"",categoryId:"",subcategoryId:"",jobId:"",role:"",mobile:"",country:"",state:"",city:"",zip_code:"",jobDetailsId:"",userAddressId:"",assignee:""},this.data.id&&"edit"==this.data.mode?(this.mode="edit",this.disabledLabel=!0,this.isEdit=!1,this.userService.getUser(this.data.id).subscribe((function(t){var n,a,o,i,r,c,l,s,b,d,u,m,g,f,p,h,v,C,y,_,M,W,X,I,P,T,O,k,R,w,S,D,x,L,j,E,U,A,z;e.isLoading=!1,(null===(o=null===(a=null===(n=t=t.user[0])||void 0===n?void 0:n.jobDetailsId)||void 0===a?void 0:a.categoryId)||void 0===o?void 0:o._id)&&e.onChangeUser(t.jobDetailsId.categoryId._id),e.user={id:t._id,email:t.email,first_name:t.first_name,last_name:t.last_name,role:t.role,mobile:t.mobile,work_shift:null===(r=null===(i=t)||void 0===i?void 0:i.jobDetailsId)||void 0===r?void 0:r.work_shift,employment_status:null===(l=null===(c=t)||void 0===c?void 0:c.jobDetailsId)||void 0===l?void 0:l.employment_status,job_specification:null===(b=null===(s=t)||void 0===s?void 0:s.jobDetailsId)||void 0===b?void 0:b.job_specification,job_location:null===(u=null===(d=t)||void 0===d?void 0:d.jobDetailsId)||void 0===u?void 0:u.job_location,leave_balance:t.leave_balance,join_date:null===(g=null===(m=t)||void 0===m?void 0:m.jobDetailsId)||void 0===g?void 0:g.join_date,categoryId:null===(h=null===(p=null===(f=t)||void 0===f?void 0:f.jobDetailsId)||void 0===p?void 0:p.categoryId)||void 0===h?void 0:h._id,subcategoryId:null===(y=null===(C=null===(v=t)||void 0===v?void 0:v.jobDetailsId)||void 0===C?void 0:C.subcategoryId)||void 0===y?void 0:y._id,jobId:null===(M=null===(_=t.jobDetailsId)||void 0===_?void 0:_.jobId)||void 0===M?void 0:M._id,jobDetailsId:null===(X=null===(W=t)||void 0===W?void 0:W.jobDetailsId)||void 0===X?void 0:X._id,userAddressId:null===(P=null===(I=t)||void 0===I?void 0:I.userAddressId)||void 0===P?void 0:P._id,city:null===(O=null===(T=t)||void 0===T?void 0:T.userAddressId)||void 0===O?void 0:O.city,state:null===(R=null===(k=t)||void 0===k?void 0:k.userAddressId)||void 0===R?void 0:R.state,country:null===(S=null===(w=t)||void 0===w?void 0:w.userAddressId)||void 0===S?void 0:S.country,address1:null===(x=null===(D=t)||void 0===D?void 0:D.userAddressId)||void 0===x?void 0:x.address1,address2:null===(j=null===(L=t)||void 0===L?void 0:L.userAddressId)||void 0===j?void 0:j.address2,zip_code:null===(U=null===(E=t)||void 0===E?void 0:E.userAddressId)||void 0===U?void 0:U.zip_code,personal_email:null===(A=t)||void 0===A?void 0:A.personal_email,assignee:null===(z=t)||void 0===z?void 0:z.assignee}}))):(this.isLoading=!1,this.mode="create",this.isEdit=!0,this.userId=null)}},{key:"onSaveUser",value:function(e){var t=this;e.invalid||(this.isLoading=!0,"create"===this.mode?this.userService.addUser(e).subscribe((function(n){t.dialogRef.close(),e.reset()}),(function(e){t.isLoading=!1})):this.userService.updateUser(this.data.id,e,this.user.jobDetailsId,this.user.userAddressId).subscribe((function(n){t.dialogRef.close(),e.reset()}),(function(e){t.isLoading=!1})))}},{key:"onChangeUser",value:function(e){var t=this;this.userService.getSubcatByCatId(e).subscribe((function(e){t.subCatData=e.data}))}},{key:"searchUsers",value:function(e){var t=this;this.userService.search(e).subscribe((function(e){t.searchUser=e.users}))}},{key:"displayFn",value:function(e){return e?e.first_name+" "+e.last_name:""}},{key:"close",value:function(){this.dialogRef.close()}},{key:"ngOnDestroy",value:function(){this.authStatusSub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Ne)(c.Rb(Q),c.Rb(r.h),c.Rb(i.a),c.Rb(ee.a),c.Rb(i.b),c.Rb(r.b),c.Rb(r.a))},Ne.\u0275cmp=c.Lb({type:Ne,selectors:[["app-dataset-create"]],decls:179,vars:66,consts:[["mat-dialog-title","",4,"ngIf"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],[3,"submit"],["userForm","ngForm"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","name","first_name","type","text","placeholder","Enter First Name","required","",3,"ngModel","ngModelChange"],["FnameInput","ngModel"],["align","end"],[4,"ngIf"],["matInput","","name","last_name","type","text","placeholder","Enter Last Name","required","",3,"ngModel","ngModelChange"],["LnameInput","ngModel"],["matInput","","name","email","type","email","placeholder","Enter Company Email ID","email","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$","required","",3,"ngModel","ngModelChange"],["cemailInput","ngModel"],["matInput","","name","personal_email","type","email","placeholder","Enter Personale Email","email","","pattern","^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w{2,3})+$","required","",3,"ngModel","ngModelChange"],["pemailInput","ngModel"],["matInput","","name","mobile","type","text","mobile","","pattern","[0-9]*","minlength","10","maxlength","10","placeholder","Enter Mobile Number","required","",3,"ngModel","ngModelChange"],["mobileInput","ngModel"],["name","role","placeholder","Select Role","required","",3,"ngModel","ngModelChange"],["roleInput","ngModel"],[3,"value",4,"ngFor","ngForOf"],["name","jobId","placeholder","Select Job Title","required","",3,"ngModel","ngModelChange"],["jobTitleInput","ngModel"],["name","employment_status","placeholder","Select Employment Status","required","",3,"ngModel","ngModelChange"],["empStatusInput","ngModel"],["name","categoryId","placeholder","Select Employment Status","required","",3,"ngModel","selectionChange","ngModelChange"],["categoryInput","ngModel"],["name","subcategoryId","placeholder","Select Employment Status","required","",3,"ngModel","ngModelChange"],["subCategoryInput","ngModel"],["name","work_shift","placeholder","Select Work Shift","required","",3,"ngModel","ngModelChange"],["workShiftInput","ngModel"],["matInput","","name","job_specification","type","text","placeholder","Enter Job Specification","required","","pattern","[a-zA-Z][a-zA-Z ]+",3,"ngModel","ngModelChange"],["JobSInput","ngModel"],["matInput","","name","leave_balance","type","number","pattern","[0-50]*","minlength","50","maxlength","50","placeholder","Enter Leave Balance","required","",3,"ngModel","ngModelChange"],["LbalanceInput","ngModel"],["matInput","","name","join_date","placeholder","Select Join Date","required","",3,"matDatepicker","ngModel","ngModelChange"],["JdataInput","ngModel"],["matSuffix","",3,"for"],["picker",""],["matInput","","name","job_location","type","text","placeholder","Select Job Location","required","",3,"ngModel","ngModelChange"],["JoblocationInput","ngModel"],["type","text","name","assignee","matInput","","required","",3,"ngModel","matAutocomplete","ngModelChange","keyup"],["assigneeInput","ngModel"],[3,"displayWith"],["auto","matAutocomplete"],["matInput","","name","address1","type","text","placeholder","Enter Address1","required","",3,"ngModel","ngModelChange"],["Add1Input","ngModel"],["matInput","","name","address2","type","text","placeholder","Enter Address2","required","",3,"ngModel","ngModelChange"],["Add12nput","ngModel"],["matInput","","name","city","type","text","placeholder","Enter City","required","",3,"ngModel","ngModelChange"],["cityInput","ngModel"],["matInput","","name","state","type","text","placeholder","Enter State","required","",3,"ngModel","ngModelChange"],["stateInput","ngModel"],["matInput","","name","country","type","text","placeholder","Enter Country","required","",3,"ngModel","ngModelChange"],["countryInput","ngModel"],["matInput","","name","zip_code","type","text","placeholder","Enter Zip","required","",3,"ngModel","ngModelChange"],["zipInput","ngModel"],["mat-dialog-actions","","align","end"],["mat-raised-button","","color","primary","matDialogClose","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-dialog-title",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[3,"value"]],template:function(e,t){if(1&e){var n=c.Yb();c.Rc(0,ie,2,0,"h1",0),c.Rc(1,re,2,0,"h1",0),c.Xb(2,"div"),c.Rc(3,ce,1,0,"mat-progress-spinner",1),c.Wb(),c.Xb(4,"form",2,3),c.jc("submit",(function(){c.Kc(n);var e=c.Gc(5);return t.onSaveUser(e)})),c.Xb(6,"div",4),c.Xb(7,"div"),c.Xb(8,"p"),c.Tc(9,"Employee Job Details"),c.Wb(),c.Wb(),c.Xb(10,"mat-form-field",5),c.Xb(11,"mat-label"),c.Tc(12,"First Name"),c.Wb(),c.Xb(13,"input",6,7),c.jc("ngModelChange",(function(e){return t.user.first_name=e})),c.Wb(),c.Xb(15,"mat-hint",8),c.Tc(16,"Not more then 50 characters long."),c.Wb(),c.Rc(17,le,2,0,"mat-error",9),c.Wb(),c.Xb(18,"mat-form-field",5),c.Xb(19,"mat-label"),c.Tc(20,"Last Name"),c.Wb(),c.Xb(21,"input",10,11),c.jc("ngModelChange",(function(e){return t.user.last_name=e})),c.Wb(),c.Xb(23,"mat-hint",8),c.Tc(24,"Not more then 50 characters long."),c.Wb(),c.Rc(25,se,2,0,"mat-error",9),c.Wb(),c.Xb(26,"mat-form-field",5),c.Xb(27,"mat-label"),c.Tc(28,"Email"),c.Wb(),c.Xb(29,"input",12,13),c.jc("ngModelChange",(function(e){return t.user.email=e})),c.Wb(),c.Rc(31,be,2,0,"mat-error",9),c.Rc(32,de,5,0,"mat-error",9),c.Wb(),c.Xb(33,"mat-form-field",5),c.Xb(34,"mat-label"),c.Tc(35,"Personal Email"),c.Wb(),c.Xb(36,"input",14,15),c.jc("ngModelChange",(function(e){return t.user.personal_email=e})),c.Wb(),c.Rc(38,ue,2,0,"mat-error",9),c.Rc(39,me,5,0,"mat-error",9),c.Wb(),c.Xb(40,"mat-form-field",5),c.Xb(41,"mat-label"),c.Tc(42,"Mobile"),c.Wb(),c.Xb(43,"input",16,17),c.jc("ngModelChange",(function(e){return t.user.mobile=e})),c.Wb(),c.Rc(45,ge,2,0,"mat-error",9),c.Rc(46,fe,2,0,"mat-error",9),c.Rc(47,pe,2,0,"mat-error",9),c.Wb(),c.Xb(48,"mat-form-field",5),c.Xb(49,"mat-label"),c.Tc(50,"Role"),c.Wb(),c.Xb(51,"mat-select",18,19),c.jc("ngModelChange",(function(e){return t.user.role=e})),c.Rc(53,he,2,2,"mat-option",20),c.Wb(),c.Rc(54,ve,2,0,"mat-error",9),c.Wb(),c.Xb(55,"mat-form-field",5),c.Xb(56,"mat-label"),c.Tc(57,"Job Title"),c.Wb(),c.Xb(58,"mat-select",21,22),c.jc("ngModelChange",(function(e){return t.user.jobId=e})),c.Rc(60,Ce,2,2,"mat-option",20),c.Wb(),c.Rc(61,ye,2,0,"mat-error",9),c.Wb(),c.Xb(62,"mat-form-field",5),c.Xb(63,"mat-label"),c.Tc(64,"Employment Status"),c.Wb(),c.Xb(65,"mat-select",23,24),c.jc("ngModelChange",(function(e){return t.user.employment_status=e})),c.Rc(67,_e,2,2,"mat-option",20),c.Wb(),c.Rc(68,Me,2,0,"mat-error",9),c.Wb(),c.Xb(69,"mat-form-field",5),c.Xb(70,"mat-label"),c.Tc(71,"Job Category"),c.Wb(),c.Xb(72,"mat-select",25,26),c.jc("selectionChange",(function(){c.Kc(n);var e=c.Gc(73);return t.onChangeUser(e.value)}))("ngModelChange",(function(e){return t.user.categoryId=e})),c.Rc(74,We,2,2,"mat-option",20),c.Wb(),c.Rc(75,Xe,2,0,"mat-error",9),c.Wb(),c.Xb(76,"mat-form-field",5),c.Xb(77,"mat-label"),c.Tc(78,"Sub Unit"),c.Wb(),c.Xb(79,"mat-select",27,28),c.jc("ngModelChange",(function(e){return t.user.subcategoryId=e})),c.Rc(81,Ie,2,2,"mat-option",20),c.Wb(),c.Rc(82,Pe,2,0,"mat-error",9),c.Wb(),c.Xb(83,"mat-form-field",5),c.Xb(84,"mat-label"),c.Tc(85,"Work Shift"),c.Wb(),c.Xb(86,"mat-select",29,30),c.jc("ngModelChange",(function(e){return t.user.work_shift=e})),c.Rc(88,Te,2,2,"mat-option",20),c.Wb(),c.Rc(89,Oe,2,0,"mat-error",9),c.Wb(),c.Xb(90,"mat-form-field",5),c.Xb(91,"mat-label"),c.Tc(92,"Job Specification"),c.Wb(),c.Xb(93,"input",31,32),c.jc("ngModelChange",(function(e){return t.user.job_specification=e})),c.Wb(),c.Rc(95,ke,2,0,"mat-error",9),c.Wb(),c.Xb(96,"mat-form-field",5),c.Xb(97,"mat-label"),c.Tc(98,"Leave Balance"),c.Wb(),c.Xb(99,"input",33,34),c.jc("ngModelChange",(function(e){return t.user.leave_balance=e})),c.Wb(),c.Rc(101,Re,2,0,"mat-error",9),c.Rc(102,we,2,0,"mat-error",9),c.Wb(),c.Xb(103,"mat-form-field",5),c.Xb(104,"mat-label"),c.Tc(105,"Joined Date"),c.Wb(),c.Xb(106,"input",35,36),c.jc("ngModelChange",(function(e){return t.user.join_date=e})),c.Wb(),c.Sb(108,"mat-datepicker-toggle",37),c.Sb(109,"mat-datepicker",null,38),c.Rc(111,Se,2,0,"mat-error",9),c.Wb(),c.Xb(112,"mat-form-field",5),c.Xb(113,"mat-label"),c.Tc(114,"Job Location"),c.Wb(),c.Xb(115,"input",39,40),c.jc("ngModelChange",(function(e){return t.user.job_location=e})),c.Wb(),c.Rc(117,De,2,0,"mat-error",9),c.Wb(),c.Xb(118,"mat-form-field",5),c.Xb(119,"mat-label"),c.Tc(120,"Assignee"),c.Wb(),c.Xb(121,"input",41,42),c.jc("ngModelChange",(function(e){return t.user.assignee=e}))("keyup",(function(){c.Kc(n);var e=c.Gc(122);return t.searchUsers(e.value)})),c.Wb(),c.Xb(123,"mat-autocomplete",43,44),c.Rc(125,xe,2,3,"mat-option",20),c.Wb(),c.Rc(126,Le,2,0,"mat-error",9),c.Wb(),c.Sb(127,"br"),c.Xb(128,"div"),c.Xb(129,"p"),c.Tc(130,"Employee Address Details"),c.Wb(),c.Wb(),c.Xb(131,"mat-form-field",5),c.Xb(132,"mat-label"),c.Tc(133,"Address1"),c.Wb(),c.Xb(134,"textarea",45,46),c.jc("ngModelChange",(function(e){return t.user.address1=e})),c.Tc(136),c.Wb(),c.Xb(137,"mat-hint",8),c.Tc(138,"Not more then 50 characters long."),c.Wb(),c.Rc(139,je,2,0,"mat-error",9),c.Wb(),c.Xb(140,"mat-form-field",5),c.Xb(141,"mat-label"),c.Tc(142,"Address2"),c.Wb(),c.Xb(143,"textarea",47,48),c.jc("ngModelChange",(function(e){return t.user.address2=e})),c.Tc(145),c.Wb(),c.Xb(146,"mat-hint",8),c.Tc(147,"Not more then 50 characters long."),c.Wb(),c.Rc(148,Ee,2,0,"mat-error",9),c.Wb(),c.Xb(149,"mat-form-field",5),c.Xb(150,"mat-label"),c.Tc(151,"City"),c.Wb(),c.Xb(152,"input",49,50),c.jc("ngModelChange",(function(e){return t.user.city=e})),c.Wb(),c.Rc(154,Ue,2,0,"mat-error",9),c.Wb(),c.Xb(155,"mat-form-field",5),c.Xb(156,"mat-label"),c.Tc(157,"State"),c.Wb(),c.Xb(158,"input",51,52),c.jc("ngModelChange",(function(e){return t.user.state=e})),c.Wb(),c.Rc(160,Ae,2,0,"mat-error",9),c.Wb(),c.Xb(161,"mat-form-field",5),c.Xb(162,"mat-label"),c.Tc(163,"Country"),c.Wb(),c.Xb(164,"input",53,54),c.jc("ngModelChange",(function(e){return t.user.country=e})),c.Wb(),c.Rc(166,ze,2,0,"mat-error",9),c.Wb(),c.Xb(167,"mat-form-field",5),c.Xb(168,"mat-label"),c.Tc(169,"Zip Code"),c.Wb(),c.Xb(170,"input",55,56),c.jc("ngModelChange",(function(e){return t.user.zip_code=e})),c.Wb(),c.Rc(172,qe,2,0,"mat-error",9),c.Wb(),c.Wb(),c.Xb(173,"div",57),c.Xb(174,"button",58),c.jc("click",(function(){return t.close()})),c.Tc(175,"Close"),c.Wb(),c.Tc(176,"\xa0 "),c.Xb(177,"button",59),c.Tc(178,"Save"),c.Wb(),c.Wb(),c.Wb()}if(2&e){var a=c.Gc(5),o=c.Gc(14),i=c.Gc(22),r=c.Gc(30),l=c.Gc(37),s=c.Gc(44),b=c.Gc(52),d=c.Gc(59),u=c.Gc(66),m=c.Gc(73),g=c.Gc(80),f=c.Gc(87),p=c.Gc(94),h=c.Gc(100),v=c.Gc(107),C=c.Gc(110),y=c.Gc(116),_=c.Gc(122),M=c.Gc(124),W=c.Gc(135),X=c.Gc(153),I=c.Gc(159),P=c.Gc(165),T=c.Gc(171);c.vc("ngIf","edit"==t.mode),c.Cb(1),c.vc("ngIf","create"==t.mode),c.Cb(2),c.vc("ngIf",t.isLoading),c.Cb(10),c.vc("ngModel",t.user.first_name),c.Cb(4),c.vc("ngIf",o.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.last_name),c.Cb(4),c.vc("ngIf",i.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.email),c.Cb(2),c.vc("ngIf",r.hasError("required")),c.Cb(1),c.vc("ngIf",r.hasError("pattern")),c.Cb(4),c.vc("ngModel",t.user.personal_email),c.Cb(2),c.vc("ngIf",l.hasError("required")),c.Cb(1),c.vc("ngIf",l.hasError("pattern")),c.Cb(4),c.vc("ngModel",t.user.mobile),c.Cb(2),c.vc("ngIf",s.hasError("required")),c.Cb(1),c.vc("ngIf",s.hasError("pattern")),c.Cb(1),c.vc("ngIf",s.hasError("minlength")),c.Cb(4),c.vc("ngModel",t.user.role),c.Cb(2),c.vc("ngForOf",t.rolesdata),c.Cb(1),c.vc("ngIf",b.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.jobId),c.Cb(2),c.vc("ngForOf",t.jobsData),c.Cb(1),c.vc("ngIf",d.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.employment_status),c.Cb(2),c.vc("ngForOf",t.empStatus),c.Cb(1),c.vc("ngIf",u.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.categoryId),c.Cb(2),c.vc("ngForOf",t.catData),c.Cb(1),c.vc("ngIf",m.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.subcategoryId),c.Cb(2),c.vc("ngForOf",t.subCatData),c.Cb(1),c.vc("ngIf",g.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.work_shift),c.Cb(2),c.vc("ngForOf",t.workShift),c.Cb(1),c.vc("ngIf",f.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.job_specification),c.Cb(2),c.vc("ngIf",p.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.leave_balance),c.Cb(2),c.vc("ngIf",h.hasError("pattern")),c.Cb(1),c.vc("ngIf",h.hasError("required")),c.Cb(4),c.vc("matDatepicker",C)("ngModel",t.user.join_date),c.Cb(2),c.vc("for",C),c.Cb(3),c.vc("ngIf",v.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.job_location),c.Cb(2),c.vc("ngIf",y.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.assignee)("matAutocomplete",M),c.Cb(2),c.vc("displayWith",t.displayFn),c.Cb(2),c.vc("ngForOf",t.searchUser),c.Cb(1),c.vc("ngIf",_.hasError("required")),c.Cb(8),c.vc("ngModel",t.user.address1),c.Cb(2),c.Uc(t.user.address1),c.Cb(3),c.vc("ngIf",W.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.address2),c.Cb(2),c.Uc(t.user.address2),c.Cb(3),c.vc("ngIf",W.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.city),c.Cb(2),c.vc("ngIf",X.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.state),c.Cb(2),c.vc("ngIf",I.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.country),c.Cb(2),c.vc("ngIf",P.hasError("required")),c.Cb(4),c.vc("ngModel",t.user.zip_code),c.Cb(2),c.vc("ngIf",T.hasError("required")),c.Cb(5),c.vc("disabled",t.isLoading||a.invalid)}},directives:[o.m,u.x,u.n,u.o,r.f,m.c,m.g,g.b,u.b,u.u,u.m,u.p,m.f,u.c,u.s,u.i,u.h,te.a,o.l,u.r,ne.b,ne.d,m.h,ne.a,ae.c,ae.a,r.c,f.b,r.d,r.i,T.a,m.b,oe.o],styles:[".form[_ngcontent-%COMP%]{line-height:normal}mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:50%;padding:5px}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}.mat-dialog-container[_ngcontent-%COMP%]{display:block!important;padding:37px!important;border-radius:4px!important;box-sizing:border-box!important;overflow:auto!important;outline:0!important;width:100%!important;min-width:525px!important;height:100%!important;min-height:inherit;max-height:inherit}.mat-dialog-content[_ngcontent-%COMP%]{display:block;margin:0 -24px;padding:0 24px;max-height:78vh;overflow:auto;-webkit-overflow-scrolling:touch}"]}),Ne);function Fe(e,t){1&e&&(c.Xb(0,"th",26),c.Tc(1,"User Name "),c.Wb())}function $e(e,t){if(1&e&&c.Sb(0,"img",31),2&e){var n=c.nc().$implicit,a=c.nc();c.yc("src","",a.host_ip,"/uploads/",n.profile_img,"",c.Lc)}}function Ge(e,t){1&e&&c.Sb(0,"img",32)}function Je(e,t){if(1&e&&(c.Xb(0,"td",27),c.Xb(1,"div",28),c.Rc(2,$e,1,2,"img",29),c.Rc(3,Ge,1,0,"img",30),c.Tc(4),c.Wb(),c.Wb()),2&e){var n=t.$implicit;c.Cb(2),c.vc("ngIf",n.profile_img),c.Cb(1),c.vc("ngIf",!n.profile_img),c.Cb(1),c.Wc(" ",n.first_name," ",n.last_name," ")}}function Be(e,t){1&e&&(c.Xb(0,"th",26),c.Tc(1," Email "),c.Wb())}function Ke(e,t){if(1&e&&(c.Xb(0,"td",33),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.yc("matTooltip","Leave Balance: ",n.leave_balance.toFixed(2),"/Status: ",n.status,""),c.Cb(1),c.Vc(" ",n.email," ")}}function He(e,t){1&e&&(c.Xb(0,"th",26),c.Tc(1,"Status "),c.Wb())}function Ye(e,t){if(1&e&&(c.Xb(0,"td",27),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.status," ")}}function Ze(e,t){1&e&&(c.Xb(0,"th",26),c.Tc(1," Role "),c.Wb())}function Qe(e,t){1&e&&(c.Xb(0,"a"),c.Tc(1,"Admin"),c.Wb())}function et(e,t){1&e&&(c.Xb(0,"a"),c.Tc(1,"Sub-Admin"),c.Wb())}function tt(e,t){1&e&&(c.Xb(0,"a"),c.Tc(1,"Employee"),c.Wb())}function nt(e,t){1&e&&(c.Xb(0,"a"),c.Tc(1,"Customer"),c.Wb())}function at(e,t){if(1&e&&(c.Xb(0,"td",27),c.Rc(1,Qe,2,0,"a",34),c.Rc(2,et,2,0,"a",34),c.Rc(3,tt,2,0,"a",34),c.Rc(4,nt,2,0,"a",34),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.vc("ngIf",1===n.role),c.Cb(1),c.vc("ngIf",2===n.role),c.Cb(1),c.vc("ngIf",3===n.role),c.Cb(1),c.vc("ngIf",4===n.role)}}function ot(e,t){1&e&&(c.Xb(0,"th",26),c.Tc(1," Mobile "),c.Wb())}function it(e,t){if(1&e&&(c.Xb(0,"td",27),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.mobile," ")}}function rt(e,t){1&e&&(c.Xb(0,"th",35),c.Tc(1,"Action "),c.Wb())}function ct(e,t){if(1&e){var n=c.Yb();c.Xb(0,"button",46),c.jc("click",(function(){c.Kc(n);var e=c.nc().$implicit;return c.nc().openDialog(e._id,"edit")})),c.Xb(1,"mat-icon",42),c.Tc(2,"edit"),c.Wb(),c.Wb()}}function lt(e,t){if(1&e){var n=c.Yb();c.Xb(0,"button",47),c.jc("click",(function(){c.Kc(n);var e=c.nc().$implicit;return c.nc().activeAccount(e)})),c.Xb(1,"mat-icon",42),c.Tc(2,"how_to_reg"),c.Wb(),c.Wb()}}function st(e,t){if(1&e){var n=c.Yb();c.Xb(0,"button",48),c.jc("click",(function(){c.Kc(n);var e=c.nc().$implicit;return c.nc().deactiveAccount(e)})),c.Xb(1,"mat-icon",42),c.Tc(2,"how_to_reg"),c.Wb(),c.Wb()}}var bt=function(e){return["/authorized/emp/myattachments",e]};function dt(e,t){if(1&e&&(c.Xb(0,"button",49),c.Xb(1,"mat-icon",42),c.Tc(2,"attachment"),c.Wb(),c.Wb()),2&e){var n=c.nc().$implicit;c.vc("routerLink",c.Ac(1,bt,n._id))}}var ut=function(e){return["/authorized/emp/myleave",e]};function mt(e,t){if(1&e&&(c.Xb(0,"button",50),c.Xb(1,"mat-icon",42),c.Tc(2,"timelapse"),c.Wb(),c.Wb()),2&e){var n=c.nc().$implicit;c.vc("routerLink",c.Ac(1,ut,n._id))}}var gt=function(e){return["/authorized/manager/assigned_users",e]};function ft(e,t){if(1&e&&(c.Xb(0,"button",51),c.Xb(1,"mat-icon",42),c.Tc(2,"account_tree"),c.Wb(),c.Wb()),2&e){var n=c.nc().$implicit;c.vc("routerLink",c.Ac(1,gt,n._id))}}var pt=function(e){return["/authorized/emp/qualifications",e]};function ht(e,t){if(1&e&&(c.Xb(0,"button",52),c.Xb(1,"mat-icon",42),c.Tc(2,"account_balance"),c.Wb(),c.Wb()),2&e){var n=c.nc().$implicit;c.vc("routerLink",c.Ac(1,pt,n._id))}}var vt=function(e){return["/authorized/emp/profile",e]};function Ct(e,t){if(1&e&&(c.Xb(0,"td",36),c.Rc(1,ct,3,0,"button",37),c.Rc(2,lt,3,0,"button",38),c.Rc(3,st,3,0,"button",39),c.Rc(4,dt,3,3,"button",40),c.Xb(5,"button",41),c.Xb(6,"mat-icon",42),c.Tc(7,"info"),c.Wb(),c.Wb(),c.Rc(8,mt,3,3,"button",43),c.Rc(9,ft,3,3,"button",44),c.Rc(10,ht,3,3,"button",45),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.vc("ngIf",4!==n.role),c.Cb(1),c.vc("ngIf","Inactive"==n.status),c.Cb(1),c.vc("ngIf","Active"==n.status),c.Cb(1),c.vc("ngIf",4!==n.role),c.Cb(1),c.vc("routerLink",c.Ac(8,vt,n._id)),c.Cb(3),c.vc("ngIf",4!==n.role),c.Cb(1),c.vc("ngIf",2===n.role&&4!==n.role),c.Cb(1),c.vc("ngIf",4!==n.role)}}function yt(e,t){1&e&&c.Sb(0,"tr",53)}function _t(e,t){1&e&&c.Sb(0,"tr",54)}function Mt(e,t){1&e&&c.Sb(0,"mat-progress-spinner",55)}function Wt(e,t){if(1&e){var n=c.Yb();c.Xb(0,"mat-paginator",56),c.jc("page",(function(e){return c.Kc(n),c.nc().onChangedPage(e)})),c.Wb()}if(2&e){var a=c.nc();c.vc("length",a.userCount)("pageSize",a.usersPerPage)("pageSizeOptions",a.userSizeOptions)}}var Xt,It,Pt=((Xt=function(){function e(t,n,a,o,i){_classCallCheck(this,e),this.usersService=t,this.authService=n,this.route=a,this.dialog=o,this.router=i,this.users=[],this.isLoading=!1,this.host_ip=l.a.ip,this.currentPage=1,this.userCount=0,this.usersPerPage=10,this.userSizeOptions=[10,20,50],this.userIsAuthenticated=!1,this.userData=[],this.displayedColumns=["Name","Email","Role","Mobile","Status","Action"]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isLoading=!0,this.usersService.getUsers(this.usersPerPage,this.currentPage,this.usersearch),this.userId=this.authService.getUserId(),this.userData=this.authService.getUserData(),this.userSub=this.usersService.getUserUpdateListener().subscribe((function(t){e.isLoading=!1,e.userCount=t.userCount,e.users=t.users})),this.userIsAuthenticated=this.authService.getIsAuth(),this.authStatusSub=this.authService.getAuthStatusListener().subscribe((function(t){e.userIsAuthenticated=t,e.userId=e.authService.getUserId()}))}},{key:"onChangedPage",value:function(e){this.isLoading=!0,this.currentPage=e.pageIndex+1,this.usersPerPage=e.pageSize,this.usersService.getUsers(this.usersPerPage,this.currentPage,this.usersearch)}},{key:"onDelete",value:function(e){var t=this;this.usersService.deleteUser(e).subscribe((function(e){t.usersService.getUsers(t.usersPerPage,t.currentPage,t.usersearch)}))}},{key:"activeAccount",value:function(e){var t=this;this.usersService.activeUserAccount(e).subscribe((function(e){t.usersService.getUsers(t.usersPerPage,t.currentPage,t.usersearch)}))}},{key:"deactiveAccount",value:function(e){var t=this;this.usersService.deactiveUserAccount(e).subscribe((function(e){t.usersService.getUsers(t.usersPerPage,t.currentPage,t.usersearch)}))}},{key:"userChangeValue",value:function(e){this.currentPage=1,this.usersService.getUsers(this.usersPerPage,this.currentPage,this.usersearch)}},{key:"openDialog",value:function(e,t){var n=this,a=new r.e;a.maxWidth="962px",a.disableClose=!0,a.autoFocus=!0,a.data={id:e,mode:t},this.dialog.open(Ve,a).afterClosed().subscribe((function(e){n.usersService.getUsers(n.usersPerPage,n.currentPage,n.usersearch)}))}},{key:"ngOnDestroy",value:function(){this.userSub.unsubscribe(),this.authStatusSub.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||Xt)(c.Rb(Q),c.Rb(ee.a),c.Rb(i.a),c.Rb(r.b),c.Rb(i.b))},Xt.\u0275cmp=c.Lb({type:Xt,selectors:[["app-users"]],decls:37,vars:6,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6"],["action","#","autocomplete","off"],[2,"width","45%"],["matInput","","name","name","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["nameInput","ngModel"],["matSuffix",""],[1,"btn","btn-success","float-right",3,"click"],["mat-table","","role","grid",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Email"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","Status"],["matColumnDef","Role"],["matColumnDef","Mobile"],["matColumnDef","Action"],["mat-header-cell","","style","padding: 18px 146px;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: right;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["fxlayout","row","fxlayoutalign","center center",2,"flex-direction","row","box-sizing","border-box","display","flex","align-items","center"],["class","avatar mr-0 mr-sm-16",3,"src",4,"ngIf"],["src","/assets/avatar.png","class","avatar mr-0 mr-sm-16",4,"ngIf"],[1,"avatar","mr-0","mr-sm-16",3,"src"],["src","/assets/avatar.png",1,"avatar","mr-0","mr-sm-16"],["mat-cell","",3,"matTooltip"],[4,"ngIf"],["mat-header-cell","",2,"padding","18px 146px"],["mat-cell","",2,"text-align","right"],["mat-button","","color","primary","matTooltip","Edit User Details","aria-label","Button that displays a tooltip when focused or hovered over",3,"click",4,"ngIf"],["mat-button","","color","primary","matTooltip","Activate User",3,"click",4,"ngIf"],["mat-button","","color","warn","matTooltip","Inactivate User",3,"click",4,"ngIf"],["mat-button","","color","link","matTooltip","User Attachments",3,"routerLink",4,"ngIf"],["mat-button","","matTooltip","User Info",3,"routerLink"],["md-list-icon",""],["mat-button","","matTooltip","User Leaves",3,"routerLink",4,"ngIf"],["mat-button","","color","accent","matTooltip","Assigned Employees",3,"routerLink",4,"ngIf"],["mat-button","","matTooltip","Qualifications",3,"routerLink",4,"ngIf"],["mat-button","","color","primary","matTooltip","Edit User Details","aria-label","Button that displays a tooltip when focused or hovered over",3,"click"],["mat-button","","color","primary","matTooltip","Activate User",3,"click"],["mat-button","","color","warn","matTooltip","Inactivate User",3,"click"],["mat-button","","color","link","matTooltip","User Attachments",3,"routerLink"],["mat-button","","matTooltip","User Leaves",3,"routerLink"],["mat-button","","color","accent","matTooltip","Assigned Employees",3,"routerLink"],["mat-button","","matTooltip","Qualifications",3,"routerLink"],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(e,t){if(1&e){var n=c.Yb();c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Sb(3,"div",3),c.Xb(4,"div",3),c.Xb(5,"mat-card"),c.Xb(6,"form",4),c.Xb(7,"mat-form-field",5),c.Xb(8,"input",6,7),c.jc("ngModelChange",(function(e){return t.usersearch=e}))("keyup",(function(){c.Kc(n);var e=c.Gc(9);return t.userChangeValue(e.value)})),c.Wb(),c.Xb(10,"mat-icon",8),c.Tc(11,"search"),c.Wb(),c.Wb(),c.Xb(12,"button",9),c.jc("click",(function(){return t.openDialog(0,"create")})),c.Tc(13,"+ New User"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(14,"table",10),c.Vb(15,11),c.Rc(16,Fe,2,0,"th",12),c.Rc(17,Je,5,4,"td",13),c.Ub(),c.Vb(18,14),c.Rc(19,Be,2,0,"th",12),c.Rc(20,Ke,2,3,"td",15),c.Ub(),c.Vb(21,16),c.Rc(22,He,2,0,"th",12),c.Rc(23,Ye,2,1,"td",13),c.Ub(),c.Vb(24,17),c.Rc(25,Ze,2,0,"th",12),c.Rc(26,at,5,4,"td",13),c.Ub(),c.Vb(27,18),c.Rc(28,ot,2,0,"th",12),c.Rc(29,it,2,1,"td",13),c.Ub(),c.Vb(30,19),c.Rc(31,rt,2,0,"th",20),c.Rc(32,Ct,11,10,"td",21),c.Ub(),c.Rc(33,yt,1,0,"tr",22),c.Rc(34,_t,1,0,"tr",23),c.Wb(),c.Rc(35,Mt,1,0,"mat-progress-spinner",24),c.Rc(36,Wt,1,3,"mat-paginator",25),c.Wb()}2&e&&(c.Cb(8),c.vc("ngModel",t.usersearch),c.Cb(6),c.vc("dataSource",t.users),c.Cb(19),c.vc("matHeaderRowDef",t.displayedColumns),c.Cb(1),c.vc("matRowDefColumns",t.displayedColumns),c.Cb(1),c.vc("ngIf",t.isLoading),c.Cb(1),c.vc("ngIf",t.users.length>0))},directives:[W.a,u.x,u.n,u.o,m.c,g.b,u.b,u.m,u.p,X.a,m.h,I.j,I.c,I.e,I.b,I.g,I.i,o.m,I.d,I.a,P.a,f.b,i.c,I.f,I.h,T.a,O.a],styles:[".mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.avatar[_ngcontent-%COMP%]{width:30px;min-width:30px;height:30px;line-height:40px;margin:0 8px 0 0;border-radius:50%;font-size:17px;font-weight:600;text-align:center}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}"]}),Xt),Tt=l.a.apiUrl+"/category",Ot=((It=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.router=n}return _createClass(e,[{key:"getCategories",value:function(e,t,n){var a="?pagesize=".concat(e,"&page=").concat(t);return n&&(a+="&search="+n),this.http.get(Tt+"/getcategories"+a)}},{key:"addCategory",value:function(e,t){return this.http.post(Tt+"/create",{category_name:e,category_desc:t})}},{key:"getCategoryById",value:function(e){return this.http.get(Tt+"/"+e)}},{key:"updateCategory",value:function(e,t,n){return this.http.put(Tt+"/"+e,{id:e,category_name:t,category_desc:n})}},{key:"deleteCategory",value:function(e){return this.http.delete(Tt+"/"+e)}}]),e}()).\u0275fac=function(e){return new(e||It)(c.fc(s.b),c.fc(i.b))},It.\u0275prov=c.Nb({token:It,factory:It.\u0275fac,providedIn:"root"}),It);function kt(e,t){1&e&&(c.Xb(0,"h1",13),c.Tc(1,"Edit Job Category"),c.Wb())}function Rt(e,t){1&e&&(c.Xb(0,"h1",13),c.Tc(1,"Create Job Cateogry"),c.Wb())}function wt(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Category Name."),c.Wb())}function St(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Catgory Description."),c.Wb())}var Dt,xt=((Dt=function(){function e(t,n,a,o,i,r){_classCallCheck(this,e),this.categoryService=t,this.dialogRef=n,this.route=a,this.router=o,this.dialog=i,this.isLoading=!0,this.category=[],this.disablerole=!0,this.data=[],this.isEdit=!0,this.userId=null,console.log(r,"0000000"),this.data=r,this.category={_id:"",category_name:"",category_desc:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isLoading=!0,this.data.id&&"edit"==this.data.mode?this.categoryService.getCategoryById(this.data.id).subscribe((function(t){e.isLoading=!1,e.isEdit=!0,e.mode="edit",e.category={_id:t.data[0]._id,category_name:t.data[0].category_name,category_desc:t.data[0].category_desc}}),(function(t){e.isLoading=!1})):(this.isLoading=!1,this.mode="create",this.isEdit=!1,this.userId=null)}},{key:"onSave",value:function(e){var t=this;e.invalid||(this.isLoading=!0,"create"===this.mode?this.categoryService.addCategory(e.value.category_name,e.value.category_desc).subscribe((function(e){t.isLoading=!1,t.dialogRef.close()}),(function(e){t.isLoading=!1})):this.categoryService.updateCategory(this.category._id,this.category.category_name,e.value.category_desc).subscribe((function(e){t.dialogRef.close(),t.isLoading=!1}),(function(e){t.isLoading=!1})))}},{key:"close",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||Dt)(c.Rb(Ot),c.Rb(r.h),c.Rb(i.a),c.Rb(i.b),c.Rb(r.b),c.Rb(r.a))},Dt.\u0275cmp=c.Lb({type:Dt,selectors:[["app-create-category"]],decls:24,vars:9,consts:[["mat-dialog-title","",4,"ngIf"],[3,"submit"],["categoryForm","ngForm"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","name","category_name","type","text","placeholder","Category Name","required","",3,"disabled","ngModel","ngModelChange"],["nameInput","ngModel"],[4,"ngIf"],["matInput","","name","category_desc","type","text","placeholder","Description","required","",3,"ngModel","ngModelChange"],["descInput","ngModel"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary","matDialogClose","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-dialog-title",""]],template:function(e,t){if(1&e){var n=c.Yb();c.Rc(0,kt,2,0,"h1",0),c.Rc(1,Rt,2,0,"h1",0),c.Xb(2,"form",1,2),c.jc("submit",(function(){c.Kc(n);var e=c.Gc(3);return t.onSave(e)})),c.Xb(4,"div",3),c.Xb(5,"mat-form-field",4),c.Xb(6,"mat-label"),c.Tc(7,"Category Name"),c.Wb(),c.Xb(8,"input",5,6),c.jc("ngModelChange",(function(e){return t.category.category_name=e})),c.Wb(),c.Rc(10,wt,2,0,"mat-error",7),c.Wb(),c.Xb(11,"mat-form-field",4),c.Xb(12,"mat-label"),c.Tc(13,"Description"),c.Wb(),c.Xb(14,"textarea",8,9),c.jc("ngModelChange",(function(e){return t.category.category_desc=e})),c.Tc(16),c.Wb(),c.Rc(17,St,2,0,"mat-error",7),c.Wb(),c.Wb(),c.Xb(18,"div",10),c.Xb(19,"button",11),c.jc("click",(function(){return t.close()})),c.Tc(20,"Close"),c.Wb(),c.Tc(21,"\xa0 "),c.Xb(22,"button",12),c.Tc(23,"Save"),c.Wb(),c.Wb(),c.Wb()}if(2&e){var a=c.Gc(3),o=c.Gc(9),i=c.Gc(15);c.vc("ngIf","edit"==t.mode),c.Cb(1),c.vc("ngIf","create"==t.mode),c.Cb(7),c.vc("disabled",t.isEdit)("ngModel",t.category.category_name),c.Cb(2),c.vc("ngIf",o.hasError("required")),c.Cb(4),c.vc("ngModel",t.category.category_desc),c.Cb(2),c.Uc(t.category.category_desc),c.Cb(1),c.vc("ngIf",i.hasError("required")),c.Cb(5),c.vc("disabled",t.isLoading||a.invalid)}},directives:[o.m,u.x,u.n,u.o,r.f,m.c,m.g,g.b,u.b,u.u,u.m,u.p,f.b,r.d,r.i,m.b],styles:[".form[_ngcontent-%COMP%]{line-height:normal}mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),Dt);function Lt(e,t){1&e&&(c.Xb(0,"th",23),c.Tc(1," Category Name "),c.Wb())}function jt(e,t){if(1&e&&(c.Xb(0,"td",24),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.category_name," ")}}function Et(e,t){1&e&&(c.Xb(0,"th",23),c.Tc(1," Description "),c.Wb())}function Ut(e,t){if(1&e&&(c.Xb(0,"td",24),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.category_desc," ")}}function At(e,t){1&e&&(c.Xb(0,"th",25),c.Tc(1,"Action "),c.Wb())}function zt(e,t){if(1&e){var n=c.Yb();c.Xb(0,"td",26),c.Xb(1,"a",27),c.jc("click",(function(){c.Kc(n);var e=t.$implicit;return c.nc().openDialog(e._id,"edit")})),c.Xb(2,"mat-icon",8),c.Tc(3,"edit"),c.Wb(),c.Wb(),c.Xb(4,"button",28),c.jc("click",(function(){c.Kc(n);var e=t.$implicit;return c.nc().onDeleteCategory(e._id)})),c.Xb(5,"mat-icon",8),c.Tc(6,"delete"),c.Wb(),c.Wb(),c.Wb()}}function qt(e,t){1&e&&c.Sb(0,"tr",29)}function Nt(e,t){1&e&&c.Sb(0,"tr",30)}function Vt(e,t){1&e&&c.Sb(0,"mat-progress-spinner",31)}function Ft(e,t){1&e&&(c.Xb(0,"p",32),c.Tc(1,"No Categories Found!"),c.Wb())}function $t(e,t){if(1&e){var n=c.Yb();c.Xb(0,"mat-paginator",33),c.jc("page",(function(e){return c.Kc(n),c.nc().onChangedPage(e)})),c.Wb()}if(2&e){var a=c.nc();c.vc("length",a.Count)("pageSize",a.perPage)("pageSizeOptions",a.sizeOptions)}}var Gt,Jt,Bt=((Gt=function(){function e(t,n,a,o){_classCallCheck(this,e),this.categoryService=t,this.route=n,this.dialog=a,this.router=o,this.categories=[],this.isLoading=!1,this.perPage=10,this.currentPage=1,this.Count=0,this.sizeOptions=[10,20,50],this.displayedColumns1=["Category Name","Description","Action"]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isLoading=!0,this.categoryService.getCategories(this.perPage,this.currentPage,this.search).subscribe((function(t){e.categories=t.data,e.isLoading=!1,e.Count=t.count}))}},{key:"onDeleteCategory",value:function(e){var t=this;this.categoryService.deleteCategory(e).subscribe((function(e){t.ngOnInit()}))}},{key:"onSearch",value:function(){this.ngOnInit()}},{key:"onChangedPage",value:function(e){this.isLoading=!0,this.currentPage=e.pageIndex+1,this.perPage=e.pageSize,this.ngOnInit()}},{key:"openDialog",value:function(e,t){var n=this,a=new r.e;a.disableClose=!0,a.autoFocus=!0,a.data={id:e,mode:t},this.dialog.open(xt,a).afterClosed().subscribe((function(e){n.ngOnInit()}))}}]),e}()).\u0275fac=function(e){return new(e||Gt)(c.Rb(Ot),c.Rb(i.a),c.Rb(r.b),c.Rb(i.b))},Gt.\u0275cmp=c.Lb({type:Gt,selectors:[["app-categories"]],decls:30,vars:7,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6"],["action","#","autocomplete","off"],[2,"width","45%"],["matInput","","name","name","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["nameInput","ngModel"],["md-list-icon",""],[1,"btn","btn-success","float-right",3,"click"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Category Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","Action"],["mat-header-cell","","style","text-align: center; padding: 18px 55px;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",2,"text-align","center","padding","18px 55px"],["mat-cell","",2,"text-align","center"],["mat-button","","color","primary","matTooltip","Edit Category Details","aria-label","Button that displays a tooltip when focused or hovered over",3,"click"],["mat-button","","color","warn","matTooltip","Delete Category","aria-label","Button that displays a tooltip when focused or hovered over",3,"click"],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(e,t){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Sb(3,"div",3),c.Xb(4,"div",3),c.Xb(5,"mat-card"),c.Xb(6,"form",4),c.Xb(7,"mat-form-field",5),c.Xb(8,"input",6,7),c.jc("ngModelChange",(function(e){return t.search=e}))("keyup",(function(){return t.onSearch()})),c.Wb(),c.Wb(),c.Xb(10,"mat-icon",8),c.Tc(11,"search"),c.Wb(),c.Xb(12,"button",9),c.jc("click",(function(){return t.openDialog(0,"create")})),c.Tc(13,"+ New Job Category"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Sb(14,"br"),c.Xb(15,"table",10),c.Vb(16,11),c.Rc(17,Lt,2,0,"th",12),c.Rc(18,jt,2,1,"td",13),c.Ub(),c.Vb(19,14),c.Rc(20,Et,2,0,"th",12),c.Rc(21,Ut,2,1,"td",13),c.Ub(),c.Vb(22,15),c.Rc(23,At,2,0,"th",16),c.Rc(24,zt,7,0,"td",17),c.Ub(),c.Rc(25,qt,1,0,"tr",18),c.Rc(26,Nt,1,0,"tr",19),c.Wb(),c.Rc(27,Vt,1,0,"mat-progress-spinner",20),c.Rc(28,Ft,2,0,"p",21),c.Rc(29,$t,1,3,"mat-paginator",22),c.Wb()),2&e&&(c.Cb(8),c.vc("ngModel",t.search),c.Cb(7),c.vc("dataSource",t.categories),c.Cb(10),c.vc("matHeaderRowDef",t.displayedColumns1),c.Cb(1),c.vc("matRowDefColumns",t.displayedColumns1),c.Cb(1),c.vc("ngIf",t.isLoading),c.Cb(1),c.vc("ngIf",t.categories.length<=0&&!t.isLoading),c.Cb(1),c.vc("ngIf",t.categories.length>0))},directives:[W.a,u.x,u.n,u.o,m.c,g.b,u.b,u.m,u.p,X.a,I.j,I.c,I.e,I.b,I.g,I.i,o.m,I.d,I.a,f.a,P.a,f.b,I.f,I.h,T.a,O.a],styles:[".mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}"]}),Gt),Kt=l.a.apiUrl+"/subcategory",Ht=((Jt=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.router=n}return _createClass(e,[{key:"getCategories",value:function(e,t,n){var a="?pagesize=".concat(e,"&page=").concat(t);return console.log(n),n&&(a+="&search="+n),this.http.get(Kt+"/getsubcategories"+a)}},{key:"addCategory",value:function(e,t,n){return this.http.post(Kt+"/create",{sub_category_name:e,sub_category_desc:t,categoryId:n})}},{key:"getCategoryById",value:function(e){return this.http.get(Kt+"/"+e)}},{key:"updateCategory",value:function(e,t,n,a){return this.http.put(Kt+"/"+e,{id:e,sub_category_name:t,sub_category_desc:n,categoryId:a})}},{key:"deleteCategory",value:function(e){return this.http.delete(Kt+"/"+e)}}]),e}()).\u0275fac=function(e){return new(e||Jt)(c.fc(s.b),c.fc(i.b))},Jt.\u0275prov=c.Nb({token:Jt,factory:Jt.\u0275fac,providedIn:"root"}),Jt);function Yt(e,t){1&e&&(c.Xb(0,"h1",16),c.Tc(1,"Edit Sub Unit/Sub Category"),c.Wb())}function Zt(e,t){1&e&&(c.Xb(0,"h1",16),c.Tc(1,"Create Sub Unit/Sub Category"),c.Wb())}function Qt(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Sub Category Name."),c.Wb())}function en(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Sub Catgory Description."),c.Wb())}function tn(e,t){if(1&e&&(c.Xb(0,"mat-option",17),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.vc("value",n._id),c.Cb(1),c.Uc(n.category_name)}}function nn(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Select Job Category."),c.Wb())}var an,on=l.a.apiUrl+"/category",rn=((an=function(){function e(t,n,a,o,i,r,c){_classCallCheck(this,e),this.categoryService=t,this.dialogRef=n,this.route=a,this.http=o,this.router=i,this.dialog=r,this.isLoading=!0,this.category=[],this.disablerole=!0,this.data=[],this.dropDownCategories=[],this.isEdit=!0,this.userId=null,this.data=c,this.category={_id:"",sub_category_name:"",sub_category_desc:"",categoryId:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.data.id&&"edit"==this.data.mode?this.categoryService.getCategoryById(this.data.id).subscribe((function(t){e.isLoading=!1,e.isEdit=!0,e.mode="edit",console.log("ttt",t),e.category={_id:t.data[0]._id,sub_category_name:t.data[0].sub_category_name,sub_category_desc:t.data[0].sub_category_desc,categoryId:t.data[0].categoryId._id}})):(this.isLoading=!1,this.mode="create",this.isEdit=!1,this.userId=null),this.getCategories()}},{key:"onSaveRole",value:function(e){var t=this;e.invalid||(this.isLoading=!0,"create"===this.mode?this.categoryService.addCategory(e.value.sub_category_name,e.value.sub_category_desc,e.value.categoryId).subscribe((function(e){t.dialogRef.close()}),(function(e){t.isLoading=!1})):this.categoryService.updateCategory(this.category._id,this.category.sub_category_name,e.value.sub_category_desc,e.value.categoryId).subscribe((function(e){t.dialogRef.close()}),(function(e){t.isLoading=!1})))}},{key:"close",value:function(){this.dialogRef.close()}},{key:"getCategories",value:function(){var e=this;this.http.get(on+"/getcategories").subscribe((function(t){e.dropDownCategories=t.data}))}}]),e}()).\u0275fac=function(e){return new(e||an)(c.Rb(Ht),c.Rb(r.h),c.Rb(i.a),c.Rb(s.b),c.Rb(i.b),c.Rb(r.b),c.Rb(r.a))},an.\u0275cmp=c.Lb({type:an,selectors:[["app-create-sub-category"]],decls:31,vars:12,consts:[["mat-dialog-title","",4,"ngIf"],[3,"submit"],["roleForm","ngForm"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","name","sub_category_name","type","text","placeholder","Category Name","required","",3,"disabled","ngModel","ngModelChange"],["nameInput","ngModel"],[4,"ngIf"],["matInput","","name","sub_category_desc","type","text","placeholder","Description","required","",3,"ngModel","ngModelChange"],["descInput","ngModel"],["name","categoryId","placeholder","Select Job Category","required","",3,"ngModel","ngModelChange"],["catInput","ngModel"],[3,"value",4,"ngFor","ngForOf"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary","matDialogClose","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-dialog-title",""],[3,"value"]],template:function(e,t){if(1&e){var n=c.Yb();c.Rc(0,Yt,2,0,"h1",0),c.Rc(1,Zt,2,0,"h1",0),c.Xb(2,"form",1,2),c.jc("submit",(function(){c.Kc(n);var e=c.Gc(3);return t.onSaveRole(e)})),c.Xb(4,"div",3),c.Xb(5,"mat-form-field",4),c.Xb(6,"mat-label"),c.Tc(7,"Sub Category Name"),c.Wb(),c.Xb(8,"input",5,6),c.jc("ngModelChange",(function(e){return t.category.sub_category_name=e})),c.Wb(),c.Rc(10,Qt,2,0,"mat-error",7),c.Wb(),c.Xb(11,"mat-form-field",4),c.Xb(12,"mat-label"),c.Tc(13,"Description"),c.Wb(),c.Xb(14,"textarea",8,9),c.jc("ngModelChange",(function(e){return t.category.sub_category_desc=e})),c.Tc(16),c.Wb(),c.Rc(17,en,2,0,"mat-error",7),c.Wb(),c.Xb(18,"mat-form-field",4),c.Xb(19,"mat-label"),c.Tc(20,"Select Category"),c.Wb(),c.Xb(21,"mat-select",10,11),c.jc("ngModelChange",(function(e){return t.category.categoryId=e})),c.Rc(23,tn,2,2,"mat-option",12),c.Wb(),c.Rc(24,nn,2,0,"mat-error",7),c.Wb(),c.Wb(),c.Xb(25,"div",13),c.Xb(26,"button",14),c.jc("click",(function(){return t.close()})),c.Tc(27,"Close"),c.Wb(),c.Tc(28,"\xa0 "),c.Xb(29,"button",15),c.Tc(30,"Save"),c.Wb(),c.Wb(),c.Wb()}if(2&e){var a=c.Gc(3),o=c.Gc(9),i=c.Gc(15),r=c.Gc(22);c.vc("ngIf","edit"==t.mode),c.Cb(1),c.vc("ngIf","create"==t.mode),c.Cb(7),c.vc("disabled",t.isEdit)("ngModel",t.category.sub_category_name),c.Cb(2),c.vc("ngIf",o.hasError("required")),c.Cb(4),c.vc("ngModel",t.category.sub_category_desc),c.Cb(2),c.Uc(t.category.sub_category_desc),c.Cb(1),c.vc("ngIf",i.hasError("required")),c.Cb(4),c.vc("ngModel",t.category.categoryId),c.Cb(2),c.vc("ngForOf",t.dropDownCategories),c.Cb(1),c.vc("ngIf",r.hasError("required")),c.Cb(5),c.vc("disabled",t.isLoading||a.invalid)}},directives:[o.m,u.x,u.n,u.o,r.f,m.c,m.g,g.b,u.b,u.u,u.m,u.p,te.a,o.l,f.b,r.d,r.i,m.b,oe.o],styles:[".form[_ngcontent-%COMP%]{line-height:normal}mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),an);function cn(e,t){1&e&&(c.Xb(0,"th",24),c.Tc(1," Sub Category Name "),c.Wb())}function ln(e,t){if(1&e&&(c.Xb(0,"td",25),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.sub_category_name," ")}}function sn(e,t){1&e&&(c.Xb(0,"th",24),c.Tc(1," Description "),c.Wb())}function bn(e,t){if(1&e&&(c.Xb(0,"td",25),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.sub_category_desc," ")}}function dn(e,t){1&e&&(c.Xb(0,"th",24),c.Tc(1," Category Name "),c.Wb())}function un(e,t){if(1&e&&(c.Xb(0,"td",25),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.categoryId.category_name," ")}}function mn(e,t){1&e&&(c.Xb(0,"th",26),c.Tc(1,"Action "),c.Wb())}function gn(e,t){if(1&e){var n=c.Yb();c.Xb(0,"td",27),c.Xb(1,"a",28),c.jc("click",(function(){c.Kc(n);var e=t.$implicit;return c.nc().openDialog(e._id,"edit")})),c.Xb(2,"mat-icon",8),c.Tc(3,"edit"),c.Wb(),c.Wb(),c.Xb(4,"button",29),c.jc("click",(function(){c.Kc(n);var e=t.$implicit;return c.nc().onDeleteCategory(e._id)})),c.Xb(5,"mat-icon",8),c.Tc(6,"delete"),c.Wb(),c.Wb(),c.Wb()}}function fn(e,t){1&e&&c.Sb(0,"tr",30)}function pn(e,t){1&e&&c.Sb(0,"tr",31)}function hn(e,t){1&e&&c.Sb(0,"mat-progress-spinner",32)}function vn(e,t){1&e&&(c.Xb(0,"p",33),c.Tc(1,"No Sub Unit/Categories Found!"),c.Wb())}function Cn(e,t){if(1&e){var n=c.Yb();c.Xb(0,"mat-paginator",34),c.jc("page",(function(e){return c.Kc(n),c.nc().onChangedPage(e)})),c.Wb()}if(2&e){var a=c.nc();c.vc("length",a.Count)("pageSize",a.perPage)("pageSizeOptions",a.sizeOptions)}}var yn,_n,Mn=((yn=function(){function e(t,n,a,o){_classCallCheck(this,e),this.categoryService=t,this.route=n,this.dialog=a,this.router=o,this.categories=[],this.isLoading=!1,this.perPage=10,this.currentPage=1,this.Count=0,this.sizeOptions=[10,20,50],this.displayedColumns1=["Sub Category Name","Description","Category Name","Action"]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isLoading=!0,this.categoryService.getCategories(this.perPage,this.currentPage,this.search).subscribe((function(t){e.categories=t.data,e.isLoading=!1,e.Count=t.count,console.log("role-",e.Count)}))}},{key:"onDeleteCategory",value:function(e){var t=this;this.categoryService.deleteCategory(e).subscribe((function(e){t.ngOnInit()}))}},{key:"onChangedPage",value:function(e){this.isLoading=!0,this.currentPage=e.pageIndex+1,this.perPage=e.pageSize,this.ngOnInit()}},{key:"onSearch",value:function(){this.ngOnInit()}},{key:"openDialog",value:function(e,t){var n=this,a=new r.e;a.disableClose=!0,a.autoFocus=!0,a.data={id:e,mode:t},this.dialog.open(rn,a).afterClosed().subscribe((function(e){n.ngOnInit()}))}}]),e}()).\u0275fac=function(e){return new(e||yn)(c.Rb(Ht),c.Rb(i.a),c.Rb(r.b),c.Rb(i.b))},yn.\u0275cmp=c.Lb({type:yn,selectors:[["app-sub-categories"]],decls:33,vars:7,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6"],["action","#","autocomplete","off"],[2,"width","45%"],["matInput","","name","name","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["nameInput","ngModel"],["md-list-icon",""],[1,"btn","btn-success","float-right",3,"click"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Sub Category Name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","Category Name"],["matColumnDef","Action"],["mat-header-cell","","style","text-align: center; padding: 18px 55px;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",2,"text-align","center","padding","18px 55px"],["mat-cell","",2,"text-align","center"],["mat-button","","color","primary","matTooltip","Edit Category Details","aria-label","Button that displays a tooltip when focused or hovered over",3,"click"],["mat-button","","color","warn","matTooltip","Delete Category","aria-label","Button that displays a tooltip when focused or hovered over",3,"click"],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(e,t){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Sb(3,"div",3),c.Xb(4,"div",3),c.Xb(5,"mat-card"),c.Xb(6,"form",4),c.Xb(7,"mat-form-field",5),c.Xb(8,"input",6,7),c.jc("ngModelChange",(function(e){return t.search=e}))("keyup",(function(){return t.onSearch()})),c.Wb(),c.Wb(),c.Xb(10,"mat-icon",8),c.Tc(11,"search"),c.Wb(),c.Xb(12,"button",9),c.jc("click",(function(){return t.openDialog(0,"create")})),c.Tc(13,"+ New Job Category"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Sb(14,"br"),c.Xb(15,"table",10),c.Vb(16,11),c.Rc(17,cn,2,0,"th",12),c.Rc(18,ln,2,1,"td",13),c.Ub(),c.Vb(19,14),c.Rc(20,sn,2,0,"th",12),c.Rc(21,bn,2,1,"td",13),c.Ub(),c.Vb(22,15),c.Rc(23,dn,2,0,"th",12),c.Rc(24,un,2,1,"td",13),c.Ub(),c.Vb(25,16),c.Rc(26,mn,2,0,"th",17),c.Rc(27,gn,7,0,"td",18),c.Ub(),c.Rc(28,fn,1,0,"tr",19),c.Rc(29,pn,1,0,"tr",20),c.Wb(),c.Rc(30,hn,1,0,"mat-progress-spinner",21),c.Rc(31,vn,2,0,"p",22),c.Rc(32,Cn,1,3,"mat-paginator",23),c.Wb()),2&e&&(c.Cb(8),c.vc("ngModel",t.search),c.Cb(7),c.vc("dataSource",t.categories),c.Cb(13),c.vc("matHeaderRowDef",t.displayedColumns1),c.Cb(1),c.vc("matRowDefColumns",t.displayedColumns1),c.Cb(1),c.vc("ngIf",t.isLoading),c.Cb(1),c.vc("ngIf",t.categories.length<=0&&!t.isLoading),c.Cb(1),c.vc("ngIf",t.categories.length>0))},directives:[W.a,u.x,u.n,u.o,m.c,g.b,u.b,u.m,u.p,X.a,I.j,I.c,I.e,I.b,I.g,I.i,o.m,I.d,I.a,f.a,P.a,f.b,I.f,I.h,T.a,O.a],styles:[".mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}"]}),yn),Wn=l.a.apiUrl+"/job",Xn=((_n=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.router=n}return _createClass(e,[{key:"getJobs",value:function(e,t,n){var a="?pagesize=".concat(e,"&page=").concat(t);return console.log(n),n&&(a+="&search="+n),this.http.get(Wn+"/getjobs"+a)}},{key:"addJob",value:function(e,t){return this.http.post(Wn+"/create",{job_name:e,job_desc:t})}},{key:"getJobById",value:function(e){return this.http.get(Wn+"/"+e)}},{key:"updateJob",value:function(e,t,n){return this.http.put(Wn+"/"+e,{id:e,job_name:t,job_desc:n})}},{key:"deleteJob",value:function(e){return this.http.delete(Wn+"/"+e)}}]),e}()).\u0275fac=function(e){return new(e||_n)(c.fc(s.b),c.fc(i.b))},_n.\u0275prov=c.Nb({token:_n,factory:_n.\u0275fac,providedIn:"root"}),_n);function In(e,t){1&e&&(c.Xb(0,"h1",13),c.Tc(1,"Edit Job Category"),c.Wb())}function Pn(e,t){1&e&&(c.Xb(0,"h1",13),c.Tc(1,"Create Job Cateogry"),c.Wb())}function Tn(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Job Titl."),c.Wb())}function On(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Job Description."),c.Wb())}var kn,Rn=((kn=function(){function e(t,n,a,o,i,r){_classCallCheck(this,e),this.jobService=t,this.dialogRef=n,this.route=a,this.router=o,this.dialog=i,this.isLoading=!1,this.jobs=[],this.disablerole=!0,this.data=[],this.isEdit=!0,this.userId=null,this.data=r,this.jobs={_id:"",job_name:"",job_desc:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isLoading=!0,this.data.id&&"edit"==this.data.mode?this.jobService.getJobById(this.data.id).subscribe((function(t){e.isLoading=!1,e.isEdit=!0,e.mode="edit",console.log("ttt",t),e.jobs={_id:t.data[0]._id,job_name:t.data[0].job_name,job_desc:t.data[0].job_desc}})):(console.log("Create"),this.isLoading=!1,this.mode="create",this.isEdit=!1,this.userId=null)}},{key:"onSaveRole",value:function(e){var t=this;e.invalid||("create"===this.mode?(this.isLoading=!0,this.jobService.addJob(e.value.job_name,e.value.job_desc).subscribe((function(e){t.isLoading=!1,t.dialogRef.close()}),(function(e){t.isLoading=!1}))):this.jobService.updateJob(this.jobs._id,this.jobs.job_name,e.value.job_desc).subscribe((function(e){t.isLoading=!1,t.dialogRef.close()}),(function(e){t.isLoading=!1})))}},{key:"close",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||kn)(c.Rb(Xn),c.Rb(r.h),c.Rb(i.a),c.Rb(i.b),c.Rb(r.b),c.Rb(r.a))},kn.\u0275cmp=c.Lb({type:kn,selectors:[["app-create-job"]],decls:23,vars:8,consts:[["mat-dialog-title","",4,"ngIf"],[3,"submit"],["roleForm","ngForm"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","name","job_name","type","text","placeholder","Job Title","required","",3,"disabled","ngModel","ngModelChange"],["nameInput","ngModel"],[4,"ngIf"],["matInput","","name","job_desc","type","text","placeholder","Job Description","required","",3,"ngModel","ngModelChange"],["descInput","ngModel"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary","matDialogClose","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-dialog-title",""]],template:function(e,t){if(1&e){var n=c.Yb();c.Rc(0,In,2,0,"h1",0),c.Rc(1,Pn,2,0,"h1",0),c.Xb(2,"form",1,2),c.jc("submit",(function(){c.Kc(n);var e=c.Gc(3);return t.onSaveRole(e)})),c.Xb(4,"div",3),c.Xb(5,"mat-form-field",4),c.Xb(6,"mat-label"),c.Tc(7,"Job Title"),c.Wb(),c.Xb(8,"input",5,6),c.jc("ngModelChange",(function(e){return t.jobs.job_name=e})),c.Wb(),c.Rc(10,Tn,2,0,"mat-error",7),c.Wb(),c.Xb(11,"mat-form-field",4),c.Xb(12,"mat-label"),c.Tc(13,"Description"),c.Wb(),c.Xb(14,"textarea",8,9),c.jc("ngModelChange",(function(e){return t.jobs.job_desc=e})),c.Wb(),c.Rc(16,On,2,0,"mat-error",7),c.Wb(),c.Wb(),c.Xb(17,"div",10),c.Xb(18,"button",11),c.jc("click",(function(){return t.close()})),c.Tc(19,"Close"),c.Wb(),c.Tc(20,"\xa0 "),c.Xb(21,"button",12),c.Tc(22,"Save"),c.Wb(),c.Wb(),c.Wb()}if(2&e){var a=c.Gc(3),o=c.Gc(9),i=c.Gc(15);c.vc("ngIf","edit"==t.mode),c.Cb(1),c.vc("ngIf","create"==t.mode),c.Cb(7),c.vc("disabled",t.isEdit)("ngModel",t.jobs.job_name),c.Cb(2),c.vc("ngIf",o.hasError("required")),c.Cb(4),c.vc("ngModel",t.jobs.job_desc),c.Cb(2),c.vc("ngIf",i.hasError("required")),c.Cb(5),c.vc("disabled",t.isLoading||a.invalid)}},directives:[o.m,u.x,u.n,u.o,r.f,m.c,m.g,g.b,u.b,u.u,u.m,u.p,f.b,r.d,r.i,m.b],styles:[".form[_ngcontent-%COMP%]{line-height:normal}mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),kn);function wn(e,t){1&e&&(c.Xb(0,"th",23),c.Tc(1," Job Title "),c.Wb())}function Sn(e,t){if(1&e&&(c.Xb(0,"td",24),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.job_name," ")}}function Dn(e,t){1&e&&(c.Xb(0,"th",23),c.Tc(1," Description "),c.Wb())}function xn(e,t){if(1&e&&(c.Xb(0,"td",24),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.job_desc," ")}}function Ln(e,t){1&e&&(c.Xb(0,"th",25),c.Tc(1,"Action "),c.Wb())}function jn(e,t){if(1&e){var n=c.Yb();c.Xb(0,"td",26),c.Xb(1,"a",27),c.jc("click",(function(){c.Kc(n);var e=t.$implicit;return c.nc().openDialog(e._id,"edit")})),c.Xb(2,"mat-icon",8),c.Tc(3,"edit"),c.Wb(),c.Wb(),c.Xb(4,"button",28),c.jc("click",(function(){c.Kc(n);var e=t.$implicit;return c.nc().onDelete(e._id)})),c.Xb(5,"mat-icon",8),c.Tc(6,"delete"),c.Wb(),c.Wb(),c.Wb()}}function En(e,t){1&e&&c.Sb(0,"tr",29)}function Un(e,t){1&e&&c.Sb(0,"tr",30)}function An(e,t){1&e&&c.Sb(0,"mat-progress-spinner",31)}function zn(e,t){1&e&&(c.Xb(0,"p",32),c.Tc(1,"No Jobs Found!"),c.Wb())}function qn(e,t){if(1&e){var n=c.Yb();c.Xb(0,"mat-paginator",33),c.jc("page",(function(e){return c.Kc(n),c.nc().onChangedPage(e)})),c.Wb()}if(2&e){var a=c.nc();c.vc("length",a.Count)("pageSize",a.perPage)("pageSizeOptions",a.sizeOptions)}}var Nn,Vn,Fn=((Nn=function(){function e(t,n,a,o){_classCallCheck(this,e),this.jobService=t,this.route=n,this.dialog=a,this.router=o,this.jobs=[],this.isLoading=!0,this.perPage=10,this.currentPage=1,this.Count=0,this.sizeOptions=[10,20,50],this.displayedColumns1=["Job Title","Description","Action"]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isLoading=!0,this.jobService.getJobs(this.perPage,this.currentPage,this.search).subscribe((function(t){e.jobs=t.data,e.isLoading=!1,e.Count=t.count,console.log("role-",e.Count)}))}},{key:"onDelete",value:function(e){var t=this;this.jobService.deleteJob(e).subscribe((function(e){t.ngOnInit()}))}},{key:"onChangedPage",value:function(e){this.isLoading=!0,this.currentPage=e.pageIndex+1,this.perPage=e.pageSize,this.ngOnInit()}},{key:"onSearch",value:function(){this.ngOnInit()}},{key:"openDialog",value:function(e,t){var n=this,a=new r.e;a.disableClose=!0,a.autoFocus=!0,a.data={id:e,mode:t},this.dialog.open(Rn,a).afterClosed().subscribe((function(e){n.ngOnInit()}))}}]),e}()).\u0275fac=function(e){return new(e||Nn)(c.Rb(Xn),c.Rb(i.a),c.Rb(r.b),c.Rb(i.b))},Nn.\u0275cmp=c.Lb({type:Nn,selectors:[["app-jobs-list"]],decls:30,vars:7,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6"],["action","#","autocomplete","off"],[2,"width","45%"],["matInput","","name","name","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["nameInput","ngModel"],["md-list-icon",""],[1,"btn","btn-success","float-right",3,"click"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Job Title"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","Action"],["mat-header-cell","","style","text-align: center; padding: 18px 55px;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",2,"text-align","center","padding","18px 55px"],["mat-cell","",2,"text-align","center"],["mat-button","","color","primary","matTooltip","Edit Category Details","aria-label","Button that displays a tooltip when focused or hovered over",3,"click"],["mat-button","","color","warn","matTooltip","Delete Category","aria-label","Button that displays a tooltip when focused or hovered over",3,"click"],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(e,t){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Sb(3,"div",3),c.Xb(4,"div",3),c.Xb(5,"mat-card"),c.Xb(6,"form",4),c.Xb(7,"mat-form-field",5),c.Xb(8,"input",6,7),c.jc("ngModelChange",(function(e){return t.search=e}))("keyup",(function(){return t.onSearch()})),c.Wb(),c.Wb(),c.Xb(10,"mat-icon",8),c.Tc(11,"search"),c.Wb(),c.Xb(12,"button",9),c.jc("click",(function(){return t.openDialog(0,"create")})),c.Tc(13,"+ New Job Category"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Sb(14,"br"),c.Xb(15,"table",10),c.Vb(16,11),c.Rc(17,wn,2,0,"th",12),c.Rc(18,Sn,2,1,"td",13),c.Ub(),c.Vb(19,14),c.Rc(20,Dn,2,0,"th",12),c.Rc(21,xn,2,1,"td",13),c.Ub(),c.Vb(22,15),c.Rc(23,Ln,2,0,"th",16),c.Rc(24,jn,7,0,"td",17),c.Ub(),c.Rc(25,En,1,0,"tr",18),c.Rc(26,Un,1,0,"tr",19),c.Wb(),c.Rc(27,An,1,0,"mat-progress-spinner",20),c.Rc(28,zn,2,0,"p",21),c.Rc(29,qn,1,3,"mat-paginator",22),c.Wb()),2&e&&(c.Cb(8),c.vc("ngModel",t.search),c.Cb(7),c.vc("dataSource",t.jobs),c.Cb(10),c.vc("matHeaderRowDef",t.displayedColumns1),c.Cb(1),c.vc("matRowDefColumns",t.displayedColumns1),c.Cb(1),c.vc("ngIf",t.isLoading),c.Cb(1),c.vc("ngIf",t.jobs.length<=0&&!t.isLoading),c.Cb(1),c.vc("ngIf",t.jobs.length>0))},directives:[W.a,u.x,u.n,u.o,m.c,g.b,u.b,u.m,u.p,X.a,I.j,I.c,I.e,I.b,I.g,I.i,o.m,I.d,I.a,f.a,P.a,f.b,I.f,I.h,T.a,O.a],styles:[".mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}"]}),Nn),$n=l.a.apiUrl+"/leavetypes",Gn=((Vn=function(){function e(t,n){_classCallCheck(this,e),this.http=t,this.router=n}return _createClass(e,[{key:"getLeaveTypes",value:function(e,t,n){var a="?pagesize=".concat(e,"&page=").concat(t);return console.log(n),n&&(a+="&search="+n),this.http.get($n+"/getleavetypes"+a)}},{key:"addLeaveType",value:function(e){return this.http.post($n+"/create",e)}},{key:"getLeaveTypeById",value:function(e){return this.http.get($n+"/"+e)}},{key:"updateLeaveType",value:function(e,t){return t.id=e,this.http.put($n+"/"+e,t)}},{key:"deleteLeaveType",value:function(e){return this.http.delete($n+"/"+e)}}]),e}()).\u0275fac=function(e){return new(e||Vn)(c.fc(s.b),c.fc(i.b))},Vn.\u0275prov=c.Nb({token:Vn,factory:Vn.\u0275fac,providedIn:"root"}),Vn);function Jn(e,t){1&e&&(c.Xb(0,"h1",21),c.Tc(1,"Edit Leave types"),c.Wb())}function Bn(e,t){1&e&&(c.Xb(0,"h1",21),c.Tc(1,"Create Leave types"),c.Wb())}function Kn(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Leave Type."),c.Wb())}function Hn(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Description."),c.Wb())}function Yn(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter No of Days."),c.Wb())}function Zn(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Carry Forward Leaves for Every Year."),c.Wb())}function Qn(e,t){if(1&e&&(c.Xb(0,"mat-option",22),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.vc("value",n.value),c.Cb(1),c.Vc(" ",n.title," ")}}function ea(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Select Duration."),c.Wb())}function ta(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter No of Days Allowed."),c.Wb())}function na(e,t){if(1&e){var n=c.Yb();c.Xb(0,"mat-form-field",4),c.Xb(1,"mat-label"),c.Tc(2,"No of Days Allowed"),c.Wb(),c.Xb(3,"input",23,24),c.jc("ngModelChange",(function(e){return c.Kc(n),c.nc().leave.allowed_days=e})),c.Wb(),c.Rc(5,ta,2,0,"mat-error",7),c.Wb()}if(2&e){var a=c.Gc(4),o=c.nc();c.Cb(3),c.vc("ngModel",o.leave.allowed_days),c.Cb(2),c.vc("ngIf",a.hasError("required"))}}function aa(e,t){1&e&&(c.Xb(0,"mat-error"),c.Tc(1,"Please Enter Description."),c.Wb())}function oa(e,t){if(1&e){var n=c.Yb();c.Xb(0,"mat-form-field",4),c.Xb(1,"mat-label"),c.Tc(2,"Message"),c.Wb(),c.Xb(3,"textarea",25,26),c.jc("ngModelChange",(function(e){return c.Kc(n),c.nc().leave.message=e})),c.Tc(5),c.Wb(),c.Rc(6,aa,2,0,"mat-error",7),c.Wb()}if(2&e){var a=c.Gc(4),o=c.nc();c.Cb(3),c.vc("ngModel",o.leave.message),c.Cb(2),c.Uc(o.leave.message),c.Cb(1),c.vc("ngIf",a.hasError("required"))}}var ia,ra=((ia=function(){function e(t,n,a,o,i,r){_classCallCheck(this,e),this.leaveService=t,this.dialogRef=n,this.route=a,this.router=o,this.dialog=i,this.isLoading=!1,this.leave=[],this.disablerole=!0,this.data=[],this.isEdit=!0,this.userId=null,this.validations=[{title:"No",value:!1},{title:"Yes",value:!0}],this.leaveType=[{title:"Annual",value:0},{title:"Comp off",value:1},{title:"Maternity Leave",value:2},{title:"Optional Holiday",value:3},{title:"Paternity",value:4}],console.log(r,"0000000"),this.data=r,this.leave={_id:"",leave_type:"",message:"",any_validation:!1,leave_desc:"",no_of_days:""}}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isLoading=!0,this.data.id&&"edit"==this.data.mode?this.leaveService.getLeaveTypeById(this.data.id).subscribe((function(t){e.isLoading=!1,e.isEdit=!0,e.mode="edit",e.leave={_id:t.data[0]._id,leave_type:t.data[0].leave_type,leave_desc:t.data[0].leave_desc,no_of_days:t.data[0].no_of_days,any_validation:t.data[0].any_validation,message:t.data[0].message,allowed_days:t.data[0].allowed_days}})):(this.isLoading=!1,this.mode="create",this.isEdit=!1,this.userId=null)}},{key:"onSaveLeave",value:function(e){var t=this;e.invalid||(this.isLoading=!0,"create"===this.mode?this.leaveService.addLeaveType(e.value).subscribe((function(e){t.dialogRef.close(),t.isLoading=!1}),(function(e){t.isLoading=!1})):this.leaveService.updateLeaveType(this.leave._id,e.value).subscribe((function(e){t.dialogRef.close(),t.isLoading=!1}),(function(e){t.isLoading=!1})))}},{key:"close",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||ia)(c.Rb(Gn),c.Rb(r.h),c.Rb(i.a),c.Rb(i.b),c.Rb(r.b),c.Rb(r.a))},ia.\u0275cmp=c.Lb({type:ia,selectors:[["app-create-leave-type"]],decls:45,vars:19,consts:[["mat-dialog-title","",4,"ngIf"],[3,"submit"],["leaveForm","ngForm"],["mat-dialog-content","",1,"font"],["appearance","outline"],["matInput","","name","leave_type","type","text","placeholder","Leve Type","required","",3,"ngModel","ngModelChange"],["LtypeInput","ngModel"],[4,"ngIf"],["matInput","","name","leave_desc","type","text","placeholder","Description","required","",3,"ngModel","ngModelChange"],["descInput","ngModel"],["matInput","","name","no_of_days","type","number","placeholder","No of Days","required","",3,"ngModel","ngModelChange"],["daysInput","ngModel"],["matInput","","name","carry_forward","type","number","placeholder","Carry Forward Leave","required","",3,"min","max","ngModel","ngModelChange"],["cfInput","ngModel"],["name","any_validation","placeholder","Select Validation","required","",3,"ngModel","ngModelChange"],["validationInput","ngModel"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",4,"ngIf"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary","matDialogClose","",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["mat-dialog-title",""],[3,"value"],["type","number","matInput","","name","allowed_days","placeholder","Allowed Days","required","",3,"ngModel","ngModelChange"],["no_of_daysInput","ngModel"],["matInput","","name","message","type","text","placeholder","Message","required","",3,"ngModel","ngModelChange"],["messageInput","ngModel"]],template:function(e,t){if(1&e){var n=c.Yb();c.Rc(0,Jn,2,0,"h1",0),c.Rc(1,Bn,2,0,"h1",0),c.Xb(2,"form",1,2),c.jc("submit",(function(){c.Kc(n);var e=c.Gc(3);return t.onSaveLeave(e)})),c.Xb(4,"div",3),c.Xb(5,"mat-form-field",4),c.Xb(6,"mat-label"),c.Tc(7,"Leave Type"),c.Wb(),c.Xb(8,"input",5,6),c.jc("ngModelChange",(function(e){return t.leave.leave_type=e})),c.Wb(),c.Rc(10,Kn,2,0,"mat-error",7),c.Wb(),c.Xb(11,"mat-form-field",4),c.Xb(12,"mat-label"),c.Tc(13,"Description"),c.Wb(),c.Xb(14,"textarea",8,9),c.jc("ngModelChange",(function(e){return t.leave.leave_desc=e})),c.Tc(16),c.Wb(),c.Rc(17,Hn,2,0,"mat-error",7),c.Wb(),c.Xb(18,"mat-form-field",4),c.Xb(19,"mat-label"),c.Tc(20,"No of Days"),c.Wb(),c.Xb(21,"input",10,11),c.jc("ngModelChange",(function(e){return t.leave.no_of_days=e})),c.Wb(),c.Rc(23,Yn,2,0,"mat-error",7),c.Wb(),c.Xb(24,"mat-form-field",4),c.Xb(25,"mat-label"),c.Tc(26," Carry Forward"),c.Wb(),c.Xb(27,"input",12,13),c.jc("ngModelChange",(function(e){return t.leave.carry_forward=e})),c.Wb(),c.Rc(29,Zn,2,0,"mat-error",7),c.Wb(),c.Xb(30,"mat-form-field",4),c.Xb(31,"mat-label"),c.Tc(32,"Any Validation"),c.Wb(),c.Xb(33,"mat-select",14,15),c.jc("ngModelChange",(function(e){return t.leave.any_validation=e})),c.Rc(35,Qn,2,2,"mat-option",16),c.Wb(),c.Rc(36,ea,2,0,"mat-error",7),c.Wb(),c.Rc(37,na,6,2,"mat-form-field",17),c.Rc(38,oa,7,3,"mat-form-field",17),c.Wb(),c.Xb(39,"div",18),c.Xb(40,"button",19),c.jc("click",(function(){return t.close()})),c.Tc(41,"Close"),c.Wb(),c.Tc(42,"\xa0 "),c.Xb(43,"button",20),c.Tc(44,"Save"),c.Wb(),c.Wb(),c.Wb()}if(2&e){var a=c.Gc(3),o=c.Gc(9),i=c.Gc(15),r=c.Gc(22),l=c.Gc(28),s=c.Gc(34);c.vc("ngIf","edit"==t.mode),c.Cb(1),c.vc("ngIf","create"==t.mode),c.Cb(7),c.vc("ngModel",t.leave.leave_type),c.Cb(2),c.vc("ngIf",o.hasError("required")),c.Cb(4),c.vc("ngModel",t.leave.leave_desc),c.Cb(2),c.Uc(t.leave.leave_desc),c.Cb(1),c.vc("ngIf",i.hasError("required")),c.Cb(4),c.vc("ngModel",t.leave.no_of_days),c.Cb(2),c.vc("ngIf",r.hasError("required")),c.Cb(4),c.vc("min",0)("max",50)("ngModel",t.leave.carry_forward),c.Cb(2),c.vc("ngIf",l.hasError("required")),c.Cb(4),c.vc("ngModel",t.leave.any_validation),c.Cb(2),c.vc("ngForOf",t.validations),c.Cb(1),c.vc("ngIf",s.hasError("required")),c.Cb(1),c.vc("ngIf",1==t.leave.any_validation),c.Cb(1),c.vc("ngIf",1==t.leave.any_validation),c.Cb(5),c.vc("disabled",t.isLoading||a.invalid)}},directives:[o.m,u.x,u.n,u.o,r.f,m.c,m.g,g.b,u.b,u.u,u.m,u.p,u.r,te.a,o.l,f.b,r.d,r.i,m.b,oe.o],styles:[".form[_ngcontent-%COMP%]{line-height:normal}mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),ia);function ca(e,t){1&e&&(c.Xb(0,"th",24),c.Tc(1," Leave Type"),c.Wb())}function la(e,t){if(1&e&&(c.Xb(0,"td",25),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.leave_type," ")}}function sa(e,t){1&e&&(c.Xb(0,"th",24),c.Tc(1," Description "),c.Wb())}function ba(e,t){if(1&e&&(c.Xb(0,"td",25),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.leave_desc," ")}}function da(e,t){1&e&&(c.Xb(0,"th",24),c.Tc(1," Carry Forward "),c.Wb())}function ua(e,t){if(1&e&&(c.Xb(0,"td",25),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.carry_forward," ")}}function ma(e,t){1&e&&(c.Xb(0,"th",24),c.Tc(1," No of Days "),c.Wb())}function ga(e,t){if(1&e&&(c.Xb(0,"td",25),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.no_of_days," ")}}function fa(e,t){1&e&&(c.Xb(0,"th",26),c.Tc(1,"Action "),c.Wb())}function pa(e,t){if(1&e){var n=c.Yb();c.Xb(0,"td",25),c.Xb(1,"a",27),c.jc("click",(function(){c.Kc(n);var e=t.$implicit;return c.nc().openDialog(e._id,"edit")})),c.Xb(2,"mat-icon",8),c.Tc(3,"edit"),c.Wb(),c.Wb(),c.Xb(4,"button",28),c.jc("click",(function(){c.Kc(n);var e=t.$implicit;return c.nc().onDeleteLeave(e._id)})),c.Xb(5,"mat-icon",8),c.Tc(6,"delete"),c.Wb(),c.Wb(),c.Wb()}}function ha(e,t){1&e&&c.Sb(0,"tr",29)}function va(e,t){1&e&&c.Sb(0,"tr",30)}function Ca(e,t){1&e&&c.Sb(0,"mat-progress-spinner",31)}function ya(e,t){1&e&&(c.Xb(0,"p",32),c.Tc(1,"No Leaves Types Found!"),c.Wb())}function _a(e,t){if(1&e){var n=c.Yb();c.Xb(0,"mat-paginator",33),c.jc("page",(function(e){return c.Kc(n),c.nc().onChangedPage(e)})),c.Wb()}if(2&e){var a=c.nc();c.vc("length",a.Count)("pageSize",a.perPage)("pageSizeOptions",a.sizeOptions)}}var Ma,Wa=((Ma=function(){function e(t,n,a){_classCallCheck(this,e),this.leaveService=t,this.dialog=n,this.router=a,this.leaves=[],this.isLoading=!1,this.perPage=10,this.currentPage=1,this.Count=0,this.sizeOptions=[10,20,50],this.displayedColumns1=["Leave Type","No of Days","Description","Carry Forward","Action"]}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isLoading=!0,this.leaveService.getLeaveTypes(this.perPage,this.currentPage,this.search).subscribe((function(t){e.leaves=t.data,e.isLoading=!1,e.Count=t.count}))}},{key:"onDeleteLeave",value:function(e){var t=this;this.leaveService.deleteLeaveType(e).subscribe((function(e){t.ngOnInit()}))}},{key:"onChangedPage",value:function(e){this.isLoading=!0,this.currentPage=e.pageIndex+1,this.perPage=e.pageSize,this.ngOnInit()}},{key:"onSearch",value:function(){this.ngOnInit()}},{key:"openDialog",value:function(e,t){var n=this,a=new r.e;a.disableClose=!0,a.autoFocus=!0,a.width="580px",a.data={id:e,mode:t},this.dialog.open(ra,a).afterClosed().subscribe((function(e){n.ngOnInit()}))}}]),e}()).\u0275fac=function(e){return new(e||Ma)(c.Rb(Gn),c.Rb(r.b),c.Rb(i.b))},Ma.\u0275cmp=c.Lb({type:Ma,selectors:[["app-leave-types-list"]],decls:36,vars:7,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6"],["action","#","autocomplete","off"],[2,"width","45%"],["matInput","","name","name","type","text","placeholder","Search",3,"ngModel","ngModelChange","keyup"],["nameInput","ngModel"],["md-list-icon",""],[1,"btn","btn-success","float-right",3,"click"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Leave Type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Description"],["matColumnDef","Carry Forward"],["matColumnDef","No of Days"],["matColumnDef","Action"],["mat-header-cell","","style"," padding: 18px 55px;",4,"matHeaderCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",2,"padding","18px 55px"],["mat-button","","color","primary","matTooltip","Edit","aria-label","Button that displays a tooltip when focused or hovered over",3,"click"],["mat-button","","color","warn","matTooltip","Delete","aria-label","Button that displays a tooltip when focused or hovered over",3,"click"],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(e,t){1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Sb(3,"div",3),c.Xb(4,"div",3),c.Xb(5,"mat-card"),c.Xb(6,"form",4),c.Xb(7,"mat-form-field",5),c.Xb(8,"input",6,7),c.jc("ngModelChange",(function(e){return t.search=e}))("keyup",(function(){return t.onSearch()})),c.Wb(),c.Wb(),c.Xb(10,"mat-icon",8),c.Tc(11,"search"),c.Wb(),c.Xb(12,"button",9),c.jc("click",(function(){return t.openDialog(0,"create")})),c.Tc(13,"+ Create Leave Type"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Sb(14,"br"),c.Xb(15,"table",10),c.Vb(16,11),c.Rc(17,ca,2,0,"th",12),c.Rc(18,la,2,1,"td",13),c.Ub(),c.Vb(19,14),c.Rc(20,sa,2,0,"th",12),c.Rc(21,ba,2,1,"td",13),c.Ub(),c.Vb(22,15),c.Rc(23,da,2,0,"th",12),c.Rc(24,ua,2,1,"td",13),c.Ub(),c.Vb(25,16),c.Rc(26,ma,2,0,"th",12),c.Rc(27,ga,2,1,"td",13),c.Ub(),c.Vb(28,17),c.Rc(29,fa,2,0,"th",18),c.Rc(30,pa,7,0,"td",13),c.Ub(),c.Rc(31,ha,1,0,"tr",19),c.Rc(32,va,1,0,"tr",20),c.Wb(),c.Rc(33,Ca,1,0,"mat-progress-spinner",21),c.Rc(34,ya,2,0,"p",22),c.Rc(35,_a,1,3,"mat-paginator",23),c.Wb()),2&e&&(c.Cb(8),c.vc("ngModel",t.search),c.Cb(7),c.vc("dataSource",t.leaves),c.Cb(16),c.vc("matHeaderRowDef",t.displayedColumns1),c.Cb(1),c.vc("matRowDefColumns",t.displayedColumns1),c.Cb(1),c.vc("ngIf",t.isLoading),c.Cb(1),c.vc("ngIf",t.leaves.length<=0&&!t.isLoading),c.Cb(1),c.vc("ngIf",t.leaves.length>0))},directives:[W.a,u.x,u.n,u.o,m.c,g.b,u.b,u.m,u.p,X.a,I.j,I.c,I.e,I.b,I.g,I.i,o.m,I.d,I.a,f.a,P.a,f.b,I.f,I.h,T.a,O.a],styles:[".mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}"]}),Ma),Xa=l.a.apiUrl+"/leave",Ia=l.a.apiUrl+"/leavetypes",Pa=l.a.apiUrl+"/users",Ta=function(){var e=function(){function e(t,n,a){_classCallCheck(this,e),this.http=t,this.router=n,this.authService=a}return _createClass(e,[{key:"getLeaves",value:function(e,t,n,a,o){var i="?pagesize=".concat(e,"&page=").concat(t,"&start_date=").concat(a,"&end_date=").concat(o);return n&&(i+="&filter="+n),this.http.get(Xa+"/getleaves"+i)}},{key:"getAllLeaves",value:function(e,t,n,a,o){var i="?pagesize=".concat(e,"&page=").concat(t,"&start_date=").concat(a,"&end_date=").concat(o);return n&&(i+="&filter="+n),this.http.get(Xa+"/getall"+i)}},{key:"getLeaveTypes",value:function(){return this.http.get(Ia+"/getleavetypes")}},{key:"getUserId",value:function(){return this.authService.getUserId()}},{key:"addLeave",value:function(e){return this.http.post(Xa+"/create",e)}},{key:"getLeaveById",value:function(e){return this.http.get(Xa+"/"+e)}},{key:"getLeaveBalance",value:function(e,t){return this.http.get(Pa+"/leavebalace/"+e+"/"+t)}},{key:"getLeaveBalanceUser",value:function(e){return this.http.get(Pa+"/userleavebalace/"+e)}},{key:"updateLeaveStatus",value:function(e,t){return e.status=t,this.http.put(Xa+"/cancelleave/"+e._id,e)}},{key:"approveLeave",value:function(e,t){return e.status=t,this.http.put(Xa+"/approveleave/"+e._id,e)}},{key:"updateLeave",value:function(e,t){return t.id=e,this.http.put(Xa+"/"+e,t)}},{key:"deleteLeave",value:function(e){return this.http.delete(Xa+"/"+e)}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.fc(s.b),c.fc(i.b),c.fc(ee.a))},e.\u0275prov=c.Nb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}();function Oa(e,t){if(1&e&&(c.Xb(0,"mat-form-field",5),c.Xb(1,"mat-label"),c.Tc(2,"Duration"),c.Wb(),c.Sb(3,"input",15),c.Xb(4,"mat-icon",7),c.Tc(5,"schedule"),c.Wb(),c.Wb()),2&e){var n=c.nc(2);c.Cb(3),c.wc("value",n.data.duration)}}function ka(e,t){if(1&e&&(c.Xb(0,"mat-form-field",5),c.Xb(1,"mat-label"),c.Tc(2,"Shift"),c.Wb(),c.Sb(3,"input",16),c.Xb(4,"mat-icon",7),c.Tc(5,"schedule"),c.Wb(),c.Wb()),2&e){var n=c.nc(2);c.Cb(3),c.wc("value",n.data.shift)}}function Ra(e,t){if(1&e&&(c.Xb(0,"div",3),c.Xb(1,"div",17),c.Xb(2,"mat-form-field",5),c.Xb(3,"mat-label"),c.Tc(4,"Start Time"),c.Wb(),c.Sb(5,"input",18),c.Xb(6,"mat-icon",7),c.Tc(7,"access_time"),c.Wb(),c.Wb(),c.Wb(),c.Xb(8,"div",17),c.Xb(9,"mat-form-field",5),c.Xb(10,"mat-label"),c.Tc(11,"End Time"),c.Wb(),c.Sb(12,"input",19),c.Xb(13,"mat-icon",7),c.Tc(14,"access_time"),c.Wb(),c.Wb(),c.Wb(),c.Xb(15,"div",17),c.Xb(16,"mat-form-field",5),c.Xb(17,"mat-label"),c.Tc(18,"Time Taken"),c.Wb(),c.Sb(19,"input",20),c.Xb(20,"mat-icon",7),c.Tc(21,"timelapse"),c.Wb(),c.Wb(),c.Wb(),c.Wb()),2&e){var n=c.nc(2);c.Cb(5),c.wc("value",n.data.start_time),c.Cb(7),c.wc("value",n.data.end_time),c.Cb(7),c.wc("value",n.data.time_taken)}}function wa(e,t){if(1&e){var n=c.Yb();c.Xb(0,"div",2),c.Xb(1,"div",3),c.Xb(2,"div",4),c.Xb(3,"mat-form-field",5),c.Xb(4,"mat-label"),c.Tc(5,"Leave Type"),c.Wb(),c.Sb(6,"input",6),c.Xb(7,"mat-icon",7),c.Tc(8,"launch"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(9,"div",3),c.Xb(10,"div",4),c.Xb(11,"mat-form-field",5),c.Xb(12,"mat-label"),c.Tc(13,"Start Date"),c.Wb(),c.Sb(14,"input",8),c.oc(15,"date"),c.Xb(16,"mat-icon",7),c.Tc(17,"calendar_today"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(18,"div",3),c.Xb(19,"div",4),c.Xb(20,"mat-form-field",5),c.Xb(21,"mat-label"),c.Tc(22,"End Date"),c.Wb(),c.Sb(23,"input",9),c.oc(24,"date"),c.Xb(25,"mat-icon",7),c.Tc(26,"calendar_today"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(27,"div",3),c.Xb(28,"div",4),c.Rc(29,Oa,6,1,"mat-form-field",10),c.Wb(),c.Wb(),c.Xb(30,"div",3),c.Xb(31,"div",4),c.Rc(32,ka,6,1,"mat-form-field",10),c.Wb(),c.Wb(),c.Rc(33,Ra,22,3,"div",11),c.Xb(34,"div",3),c.Xb(35,"div",4),c.Xb(36,"mat-form-field",5),c.Xb(37,"mat-label"),c.Tc(38,"Comments"),c.Wb(),c.Xb(39,"textarea",12),c.Tc(40),c.Wb(),c.Xb(41,"mat-icon",7),c.Tc(42,"notes"),c.Wb(),c.Wb(),c.Sb(43,"br"),c.Wb(),c.Wb(),c.Xb(44,"div",13),c.Xb(45,"button",14),c.jc("click",(function(){return c.Kc(n),c.nc().close()})),c.Tc(46,"Close"),c.Wb(),c.Tc(47,"\xa0 "),c.Wb(),c.Wb()}if(2&e){var a=c.nc();c.Cb(6),c.wc("value",a.data.leaveId.leave_type),c.Cb(8),c.wc("value",c.qc(15,8,a.data.start_date,"shortDate")),c.Cb(9),c.wc("value",c.qc(24,11,a.data.end_date,"shortDate")),c.Cb(6),c.vc("ngIf",a.data.duration),c.Cb(3),c.vc("ngIf",a.data.shift),c.Cb(1),c.vc("ngIf","Specify Time"==a.data.duration),c.Cb(6),c.wc("value",a.data.leave_desc),c.Cb(1),c.Uc(a.data.leave_desc)}}var Sa,Da=((Sa=function(){function e(t,n,a,o,i,r){_classCallCheck(this,e),this.leaveService=t,this.dialogRef=n,this.route=a,this.router=o,this.dialog=i,this.isLoading=!0,this.category=[],this.disablerole=!0,this.data=[],this.leave=[],this.isEdit=!0,this.userId=null,console.log(r,"0000000"),this.data=r.data,this.leave=r.balance}return _createClass(e,[{key:"ngOnInit",value:function(){this.isLoading=!1}},{key:"close",value:function(){this.dialogRef.close()}}]),e}()).\u0275fac=function(e){return new(e||Sa)(c.Rb(Ta),c.Rb(r.h),c.Rb(i.a),c.Rb(i.b),c.Rb(r.b),c.Rb(r.a))},Sa.\u0275cmp=c.Lb({type:Sa,selectors:[["app-leave-details"]],decls:5,vars:4,consts:[["mat-dialog-title",""],["class","container",4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-12"],["appearance","outline"],["matInput","","name","leaveId","readonly","",3,"value"],["matSuffix",""],["matInput","","readonly","","name","start_date",3,"value"],["matInput","","name","end_date","readonly","",3,"value"],["appearance","outline",4,"ngIf"],["class","row",4,"ngIf"],["matInput","","name","leave_desc","type","text","readonly","",3,"value"],["mat-card-actions","","align","end"],["mat-raised-button","","color","primary",3,"click"],["matInput","","name","duration","readonly","",3,"value"],["matInput","","name","shift","readonly","",3,"value"],[1,"col-md-4"],["matInput","","name","start_time","placeholder","Start Time","readonly","",3,"value"],["matInput","","name","end_time","placeholder","End Time","readonly","",3,"value"],["matInput","","name","time_taken","disabled","true","type","text","readonly","",3,"value"]],template:function(e,t){1&e&&(c.Xb(0,"div"),c.Xb(1,"h2",0),c.Tc(2),c.oc(3,"date"),c.Wb(),c.Wb(),c.Rc(4,wa,48,14,"div",1)),2&e&&(c.Cb(2),c.Vc("Leave Details Applied On: ",c.pc(3,2,t.data.createdAt),""),c.Cb(2),c.vc("ngIf",!t.isLoading))},directives:[r.i,o.m,m.c,m.g,g.b,X.a,m.h,f.b],pipes:[o.e],styles:[".form[_ngcontent-%COMP%]{line-height:normal}.mat-card[_ngcontent-%COMP%], mat-form-field[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{width:100%}.mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:auto;min-height:598px}mat-spinner[_ngcontent-%COMP%]{margin:auto}.image-preview[_ngcontent-%COMP%]{height:5rem;margin:1rem 0}.image-preview[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:100%}.select_role[_ngcontent-%COMP%]{width:auto}.btn-success[_ngcontent-%COMP%]:hover{color:#0747a6!important;background-color:#fff!important;border-color:#0747a6!important}.btn-success[_ngcontent-%COMP%]{color:#fff!important;background-color:#0747a6!important;border-color:#0747a6!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]{background-color:#fff!important;color:#f89b46}.mat-raised-button[disabled][_ngcontent-%COMP%]:not([class*=mat-elevation-z]){color:#b3b7bd!important;background-color:#fff!important;border-color:red!important}.mat-fab.mat-primary[_ngcontent-%COMP%], .mat-flat-button.mat-primary[_ngcontent-%COMP%], .mat-mini-fab.mat-primary[_ngcontent-%COMP%], .mat-raised-button.mat-primary[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important}"]}),Sa);function xa(e,t){if(1&e&&(c.Xb(0,"mat-option",38),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.vc("value",n.title),c.Cb(1),c.Vc(" ",n.title," ")}}function La(e,t){if(1&e&&(c.Xb(0,"div",1),c.Xb(1,"div",39),c.Xb(2,"button",40),c.Tc(3),c.Wb(),c.Tc(4,"\xa0 "),c.Xb(5,"button",41),c.Tc(6),c.Wb(),c.Tc(7,"\xa0 "),c.Xb(8,"button",42),c.Tc(9),c.Wb(),c.Tc(10,"\xa0 "),c.Xb(11,"button",43),c.Tc(12),c.Wb(),c.Tc(13,"\xa0 "),c.Xb(14,"button",44),c.Tc(15),c.Wb(),c.Tc(16,"\xa0 "),c.Wb(),c.Wb()),2&e){var n=c.nc();c.Cb(3),c.Uc(n.leaveBalance.leave_balance),c.Cb(3),c.Uc(n.leaveBalance.optional_holidays),c.Cb(3),c.Uc(n.leaveBalance.camp_off),c.Cb(3),c.Uc(n.leaveBalance.marternity_leave),c.Cb(3),c.Uc(n.leaveBalance.paternity_leave)}}function ja(e,t){1&e&&(c.Xb(0,"th",45),c.Tc(1," Leave Type"),c.Wb())}function Ea(e,t){if(1&e&&(c.Xb(0,"td",46),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.leaveId.leave_type," ")}}function Ua(e,t){1&e&&(c.Xb(0,"th",45),c.Tc(1," Start Date "),c.Wb())}function Aa(e,t){if(1&e&&(c.Xb(0,"td",46),c.Tc(1),c.oc(2,"date"),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",c.pc(2,1,n.start_date)," ")}}function za(e,t){1&e&&(c.Xb(0,"th",45),c.Tc(1," Applied Date "),c.Wb())}function qa(e,t){if(1&e&&(c.Xb(0,"td",46),c.Tc(1),c.oc(2,"date"),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",c.pc(2,1,n.createdAt)," ")}}function Na(e,t){1&e&&(c.Xb(0,"th",45),c.Tc(1," End Date "),c.Wb())}function Va(e,t){if(1&e&&(c.Xb(0,"td",46),c.Tc(1),c.oc(2,"date"),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",c.pc(2,1,n.end_date)," ")}}function Fa(e,t){1&e&&(c.Xb(0,"th",45),c.Tc(1," No of Days Taken "),c.Wb())}function $a(e,t){if(1&e&&(c.Xb(0,"a",48),c.Tc(1),c.Wb()),2&e){var n=c.nc().$implicit;c.wc("matTooltip",n.time_taken),c.Cb(1),c.Vc(" days - ",n.time_taken," (hrs : mins)")}}function Ga(e,t){if(1&e&&(c.Xb(0,"td",46),c.Tc(1),c.Rc(2,$a,2,2,"a",47),c.Wb()),2&e){var n=t.$implicit;c.Cb(1),c.Vc(" ",n.no_of_days_taken," "),c.Cb(1),c.vc("ngIf",0==n.no_of_days_taken)}}function Ja(e,t){1&e&&(c.Xb(0,"th",45),c.Tc(1," Loss of Pay "),c.Wb())}function Ba(e,t){1&e&&(c.Xb(0,"a"),c.Tc(1,"-- --"),c.Wb())}function Ka(e,t){if(1&e&&(c.Xb(0,"a"),c.Tc(1),c.Wb()),2&e){var n=c.nc().$implicit;c.Cb(1),c.Vc("",n.los_of_pay_days," ")}}function Ha(e,t){if(1&e&&(c.Xb(0,"td",49),c.Rc(1,Ba,2,0,"a",50),c.Rc(2,Ka,2,1,"a",50),c.Wb()),2&e){var n=t.$implicit;c.wc("matTooltip",n.userId.email),c.Cb(1),c.vc("ngIf",n.los_of_pay_days<=0),c.Cb(1),c.vc("ngIf",n.los_of_pay_days>0)}}function Ya(e,t){1&e&&(c.Xb(0,"th",45),c.Tc(1," Status "),c.Wb())}function Za(e,t){if(1&e&&(c.Xb(0,"td",49),c.Tc(1),c.Wb()),2&e){var n=t.$implicit;c.wc("matTooltip",n.userId.email),c.Cb(1),c.Vc(" ",n.status," ")}}function Qa(e,t){1&e&&(c.Xb(0,"th",51),c.Tc(1,"Action "),c.Wb())}function eo(e,t){1&e&&(c.Xb(0,"a",59),c.Xb(1,"mat-icon",54),c.Tc(2,"check"),c.Wb(),c.Wb())}function to(e,t){if(1&e){var n=c.Yb();c.Xb(0,"a",60),c.jc("click",(function(){c.Kc(n);var e=c.nc().$implicit;return c.nc().updateLeaveStatus(e,"Canceled")})),c.Xb(1,"mat-icon",54),c.Tc(2,"cancel"),c.Wb(),c.Wb()}}function no(e,t){if(1&e){var n=c.Yb();c.Xb(0,"a",61),c.jc("click",(function(){c.Kc(n);var e=c.nc().$implicit;return c.nc().approveLeave(e,"Approved")})),c.Xb(1,"mat-icon",54),c.Tc(2,"check"),c.Wb(),c.Wb()}}function ao(e,t){1&e&&(c.Xb(0,"a",62),c.Xb(1,"mat-icon",54),c.Tc(2,"block"),c.Wb(),c.Wb())}function oo(e,t){if(1&e){var n=c.Yb();c.Xb(0,"td",52),c.Xb(1,"a",53),c.jc("click",(function(){c.Kc(n);var e=t.$implicit;return c.nc().openDialog(e)})),c.Xb(2,"mat-icon",54),c.Tc(3,"info"),c.Wb(),c.Wb(),c.Rc(4,eo,3,0,"a",55),c.Rc(5,to,3,0,"a",56),c.Rc(6,no,3,0,"a",57),c.Rc(7,ao,3,0,"a",58),c.Wb()}2&e&&(c.vc("ngSwitch",t.$implicit.status),c.Cb(4),c.vc("ngSwitchCase","Approved"),c.Cb(1),c.vc("ngSwitchCase","Pending"),c.Cb(1),c.vc("ngSwitchCase","Pending"),c.Cb(1),c.vc("ngSwitchCase","Canceled"))}function io(e,t){1&e&&c.Sb(0,"tr",63)}function ro(e,t){1&e&&c.Sb(0,"tr",64)}function co(e,t){1&e&&c.Sb(0,"mat-progress-spinner",65)}function lo(e,t){1&e&&(c.Xb(0,"p",66),c.Tc(1,"No Leaves Found!"),c.Wb())}function so(e,t){if(1&e){var n=c.Yb();c.Xb(0,"mat-paginator",67),c.jc("page",(function(e){return c.Kc(n),c.nc().onChangedPage(e)})),c.Wb()}if(2&e){var a=c.nc();c.vc("length",a.Count)("pageSize",a.perPage)("pageSizeOptions",a.sizeOptions)}}var bo,uo,mo=function(){return["/authorized/emp/apply","create","new"]},go=[{path:"roles",component:F},{path:"users",component:Pt},{path:"createuser",component:Ve},{path:"categories",component:Bt},{path:"sub_categories",component:Mn},{path:"jobs",component:Fn},{path:"leave_types",component:Wa},{path:"applied_leaves",component:(bo=function(){function e(t,n,a,o){var i=this;_classCallCheck(this,e),this.leaveService=t,this.activatedRoute=n,this.dialog=a,this.router=o,this.leaves=[],this.isLoading=!0,this.perPage=10,this.currentPage=1,this.Count=0,this.sizeOptions=[10,20,50,100],this.displayedColumns1=["Leave Type","Applied Date","Start Date","End Date","No of Days Taken","Loss of Pay","Status","Action"],this.filterTypes=[{title:"Approved",id:1},{title:"Rejected",id:2},{title:"Pending",id:3},{title:"Canceled",id:4}],this.activatedRoute.paramMap.subscribe((function(e){i.userId=e.get("userId")}));var r=new Date,c=(r.getMonth(),r.getFullYear());r.getDate(),this.start_date=new Date(c+"/01/01"),this.end_date=new Date(c+"/12/31")}return _createClass(e,[{key:"ngOnInit",value:function(){var e=this;this.isLoading=!0,this.leaveService.getAllLeaves(this.perPage,this.currentPage,this.filter,this.start_date,this.end_date).subscribe((function(t){e.leaves=t.data,e.isLoading=!1,e.Count=t.count}))}},{key:"onDeleteLeave",value:function(e){var t=this;this.leaveService.deleteLeave(e).subscribe((function(e){t.ngOnInit()}))}},{key:"updateLeaveStatus",value:function(e,t){var n=this;this.leaveService.updateLeaveStatus(e,t).subscribe((function(e){n.ngOnInit()}))}},{key:"approveLeave",value:function(e,t){var n=this;this.leaveService.approveLeave(e,t).subscribe((function(e){n.ngOnInit()}))}},{key:"checkChangesDates",value:function(e,t){console.log("changeeee"),"startDate"==e&&(this.start_date=t.value),"endDate"==e&&(this.end_date=t.value),this.ngOnInit()}},{key:"onChangeFilter",value:function(){this.isLoading=!0,this.ngOnInit()}},{key:"onChangedPage",value:function(e){this.isLoading=!0,this.currentPage=e.pageIndex+1,this.perPage=e.pageSize,this.ngOnInit()}},{key:"openDialog",value:function(e){var t=this,n=new r.e;n.disableClose=!1,n.autoFocus=!0,n.width="610px",n.data={data:e},this.dialog.open(Da,n).afterClosed().subscribe((function(e){t.ngOnInit()}))}}]),e}(),bo.\u0275fac=function(e){return new(e||bo)(c.Rb(Ta),c.Rb(i.a),c.Rb(r.b),c.Rb(i.b))},bo.\u0275cmp=c.Lb({type:bo,selectors:[["app-myleave"]],decls:67,vars:17,consts:[[1,"card-container"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"row",2,"margin","9px"],["appearance","outline"],["matInput","","readonly","","name","start_date","placeholder","Select Start Date","required","",3,"matDatepicker","ngModel","dateChange","ngModelChange"],["sdataInput","ngModel"],["matSuffix","",3,"for"],["disabled","false"],["picker",""],["matInput","","readonly","","name","end_date","placeholder","Select End Date","required","",3,"matDatepicker","ngModel","dateChange","ngModelChange"],["edataInput","ngModel"],["picker1",""],["name","shift","placeholder","Select Filter",3,"ngModel","selectionChange","ngModelChange"],["filterInput","ngModel"],[3,"value",4,"ngFor","ngForOf"],["matTooltip","Apply New Leave",1,"btn","btn-success","float-right",3,"routerLink"],["class","container",4,"ngIf"],["mat-table","",1,"mat-elevation-z8","table-striped",3,"dataSource"],["matColumnDef","Leave Type"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Start Date"],["matColumnDef","Applied Date"],["matColumnDef","End Date"],["matColumnDef","No of Days Taken"],["matColumnDef","Loss of Pay"],["mat-cell","",3,"matTooltip",4,"matCellDef"],["matColumnDef","Status"],["matColumnDef","Action"],["mat-header-cell","","style"," padding: 18px 55px; text-align: center;",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",3,"ngSwitch",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","example-margin","mode","indeterminate","diameter","40","value","20",4,"ngIf"],["class","info-text mat-body-1",4,"ngIf"],[3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[3,"value"],[1,"row",2,"float","right"],["mat-mini-fab","","matTooltip","Annual Leave"],["mat-mini-fab","","matTooltip","Optional Leave"],["mat-mini-fab","","matTooltip","Camp Off Leave"],["mat-mini-fab","","matTooltip","Marternity Leave"],["mat-mini-fab","","matTooltip","Paternity Leave"],["mat-header-cell",""],["mat-cell",""],[3,"matTooltip",4,"ngIf"],[3,"matTooltip"],["mat-cell","",3,"matTooltip"],[4,"ngIf"],["mat-header-cell","",2,"padding","18px 55px","text-align","center"],["mat-cell","",2,"text-align","center",3,"ngSwitch"],["mat-button","","matTooltip","Leave Details",3,"click"],["md-list-icon",""],["mat-button","","color","accent","matTooltip","Approved",4,"ngSwitchCase"],["mat-button","","color","warn","matTooltip","Cancel Leave",3,"click",4,"ngSwitchCase"],["mat-button","","color","primary","matTooltip","Approve Leave",3,"click",4,"ngSwitchCase"],["mat-button","","color","warn","matTooltip","Leave Canceled",4,"ngSwitchCase"],["mat-button","","color","accent","matTooltip","Approved"],["mat-button","","color","warn","matTooltip","Cancel Leave",3,"click"],["mat-button","","color","primary","matTooltip","Approve Leave",3,"click"],["mat-button","","color","warn","matTooltip","Leave Canceled"],["mat-header-row",""],["mat-row",""],["mode","indeterminate","diameter","40","value","20",1,"example-margin"],[1,"info-text","mat-body-1"],[3,"length","pageSize","pageSizeOptions","page"]],template:function(e,t){if(1&e&&(c.Xb(0,"div",0),c.Xb(1,"div",1),c.Xb(2,"div",2),c.Xb(3,"div",3),c.Xb(4,"div",4),c.Xb(5,"div",3),c.Xb(6,"mat-form-field",5),c.Xb(7,"mat-label"),c.Tc(8,"Start Date"),c.Wb(),c.Xb(9,"input",6,7),c.jc("dateChange",(function(e){return t.checkChangesDates("startDate",e)}))("ngModelChange",(function(e){return t.start_date=e})),c.Wb(),c.Sb(11,"mat-datepicker-toggle",8),c.Sb(12,"mat-datepicker",9,10),c.Wb(),c.Wb(),c.Xb(14,"div",3),c.Xb(15,"mat-form-field",5),c.Xb(16,"mat-label"),c.Tc(17,"End Date"),c.Wb(),c.Xb(18,"input",11,12),c.jc("dateChange",(function(e){return t.checkChangesDates("edataInput",e)}))("ngModelChange",(function(e){return t.end_date=e})),c.Wb(),c.Sb(20,"mat-datepicker-toggle",8),c.Sb(21,"mat-datepicker",9,13),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Xb(23,"div",3),c.Xb(24,"div",4),c.Xb(25,"div",3),c.Xb(26,"mat-form-field",5),c.Xb(27,"mat-label"),c.Tc(28,"Filter"),c.Wb(),c.Xb(29,"mat-select",14,15),c.jc("selectionChange",(function(){return t.onChangeFilter()}))("ngModelChange",(function(e){return t.filter=e})),c.Rc(31,xa,2,2,"mat-option",16),c.Wb(),c.Wb(),c.Wb(),c.Xb(32,"div",3),c.Xb(33,"button",17),c.Tc(34,"+ Apply Leave"),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Wb(),c.Sb(35,"br"),c.Rc(36,La,17,5,"div",18),c.Xb(37,"table",19),c.Vb(38,20),c.Rc(39,ja,2,0,"th",21),c.Rc(40,Ea,2,1,"td",22),c.Ub(),c.Vb(41,23),c.Rc(42,Ua,2,0,"th",21),c.Rc(43,Aa,3,3,"td",22),c.Ub(),c.Vb(44,24),c.Rc(45,za,2,0,"th",21),c.Rc(46,qa,3,3,"td",22),c.Ub(),c.Vb(47,25),c.Rc(48,Na,2,0,"th",21),c.Rc(49,Va,3,3,"td",22),c.Ub(),c.Vb(50,26),c.Rc(51,Fa,2,0,"th",21),c.Rc(52,Ga,3,2,"td",22),c.Ub(),c.Vb(53,27),c.Rc(54,Ja,2,0,"th",21),c.Rc(55,Ha,3,3,"td",28),c.Ub(),c.Vb(56,29),c.Rc(57,Ya,2,0,"th",21),c.Rc(58,Za,2,2,"td",28),c.Ub(),c.Vb(59,30),c.Rc(60,Qa,2,0,"th",31),c.Rc(61,oo,8,5,"td",32),c.Ub(),c.Rc(62,io,1,0,"tr",33),c.Rc(63,ro,1,0,"tr",34),c.Wb(),c.Rc(64,co,1,0,"mat-progress-spinner",35),c.Rc(65,lo,2,0,"p",36),c.Rc(66,so,1,3,"mat-paginator",37),c.Wb()),2&e){var n=c.Gc(13),a=c.Gc(22);c.Cb(9),c.vc("matDatepicker",n)("ngModel",t.start_date),c.Cb(2),c.vc("for",n),c.Cb(7),c.vc("matDatepicker",a)("ngModel",t.end_date),c.Cb(2),c.vc("for",a),c.Cb(9),c.vc("ngModel",t.filter),c.Cb(2),c.vc("ngForOf",t.filterTypes),c.Cb(2),c.vc("routerLink",c.zc(16,mo)),c.Cb(3),c.vc("ngIf",!t.isLoading&&t.leaveBalance),c.Cb(1),c.vc("dataSource",t.leaves),c.Cb(25),c.vc("matHeaderRowDef",t.displayedColumns1),c.Cb(1),c.vc("matRowDefColumns",t.displayedColumns1),c.Cb(1),c.vc("ngIf",t.isLoading),c.Cb(1),c.vc("ngIf",t.leaves.length<=0&&!t.isLoading),c.Cb(1),c.vc("ngIf",t.leaves.length>0)}},directives:[m.c,m.g,g.b,ne.b,u.b,u.u,u.m,u.p,ne.d,m.h,ne.a,te.a,o.l,P.a,i.c,o.m,I.j,I.c,I.e,I.b,I.g,I.i,oe.o,f.b,I.d,I.a,o.o,f.a,X.a,o.p,I.f,I.h,T.a,O.a],pipes:[o.e],styles:[".mat-card[_ngcontent-%COMP%]{transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:block;position:relative;padding:16px;border-radius:4px;height:70px}.btn.focus[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .2rem #fff}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .btn-success[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #fafafa}.mat-input-element[_ngcontent-%COMP%]:focus{font:inherit;color:#f89b46;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.btn-success[_ngcontent-%COMP%]{color:#f89b46;background-color:#fff;border-color:#f89b46}table[_ngcontent-%COMP%]{margin:27px}mat-paginator[_ngcontent-%COMP%], table[_ngcontent-%COMP%]{width:98%}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#f89b46;border-color:#f89b46}.btn-success.focus[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff!important;background-color:#f89b46!important;border-color:#f89b46!important;box-shadow:#f89b46!important}"]}),bo)}],fo=((uo=function e(){_classCallCheck(this,e)}).\u0275mod=c.Pb({type:uo}),uo.\u0275inj=c.Ob({factory:function(e){return new(e||uo)},imports:[[i.f.forChild(go)],i.f]}),uo),po=n("rhD1");n.d(t,"AdminModule",(function(){return vo}));var ho,vo=((ho=function e(){_classCallCheck(this,e)}).\u0275mod=c.Pb({type:ho}),ho.\u0275inj=c.Ob({factory:function(e){return new(e||ho)},imports:[[o.c,u.g,u.t,po.a,fo]]}),ho)}}]);